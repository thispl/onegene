[
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Job Applicant",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<div>\n    <p style='text-align:center;font-size:22px;font-weight:bold'><u>EMPLOYMENT FORM</u></p><br>\n    <table width=100%>\n        <tr>\n            <td colspan=3 width=55% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>Post applied for: <b>{{doc.designation or ''}}</b></td>\n            <td colspan=2 width=45% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>Location: <b>{{doc.custom_location or ''}}</b></td>\n        </tr>\n        <tr>\n            <td width =100% colspan=5 style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;;background-color:#B2BEB5;text-align:center;font-size:17px;font-weight:bold;line-height:7px;'>PERSONAL DATA</td>\n        </tr>\n        <tr>\n            <td colspan=3 width=65% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>Full Name(in block letters): <b>{{doc.applicant_name|upper or ''}}</b></td>\n            {% if doc.custom_photo %}\n         <td colspan=\"2\" width=35% style='font-size:15px;text-align:center;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;' rowspan=\"5\"><img src='{{doc.custom_photo}}' alt='PHOTO' width=\"100%\"></td>\n          {% else %} \n           <td colspan=\"2\" width=35% style='font-size:15px;text-align:center;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;' rowspan=\"5\">PHOTO</td>\n        {%endif%} \n        </tr>\n        <tr>\n            <td colspan=2 width=45% style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px'>Date of Birth: <b>{{frappe.utils.format_date(doc.custom_date_of_birth) or ''}}</b></td>\n            <td colspan=1 width=20% style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px'>Age : <b>{{doc.custom_age or ''}}</b></td>\n        </tr>\n        <tr>\n            <td colspan=2 width=40% style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px'>Place of Birth: <b>{{doc.custom_place_of_birth or ''}}</b></td>\n            <td colspan=1 width=20% style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px'>Sex : <b>{{doc.sex_age or ''}}</b></td>\n        </tr>\n        <tr>\n            <td colspan=1 width=20% style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px;text-align:center'><b>{{doc.custom_nationality or ''}}</b></td>\n            <td colspan=1 width=20% style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px;text-align:center'><b>{{doc.custom_religion or ''}}</b></td>\n            <td colspan=1 width=20% style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px;text-align:center'><b>{{doc.custom_caste or ''}}</b></td>\n        </tr>\n        <tr>\n            <td colspan=1 width=20% style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px;text-align:center'>Nationality</td>\n            <td colspan=1 width=20% style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px;text-align:center'>Religion</td>\n            <td colspan=1 width=20% style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px;text-align:center'>Caste</td>\n        </tr>\n        <tr>\n            <td colspan=1 width=20% style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px;'>Height :<b>{{doc.custom_height or ''}}</b></td>\n            <td colspan=1 width=30% style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px;'>Weight :<b>{{doc.custom_weight or ''}}</b></td>\n            <td colspan=3 width=45% style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px;'>Power of Glasses :<b>{{doc.custom_power_of_glass or ''}}</b></td>\n        </tr>\n        <tr>\n            <td colspan=1 width=30% style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px;'>Most recent illness :<b>{{doc.custom_most_recent_illness or ''}}</b></td>\n            <td colspan=1 width=20% style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px;'>From  :<b>{{doc.custom_from or ''}}</b></td>\n            <td colspan=3 width=45% style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px;'>Nature of illness :<b>{{doc.custom_nature_of_illness or ''}}</b></td>\n        </tr>\n        <tr>\n            <td colspan=1 width=20% style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px;'>Language</td>\n            <td colspan=1 width=20% style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px;'>Mother Tongue</td>\n            <td colspan=1 width=20% style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px;'>Read</td>\n            <td colspan=1 width=20% style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px;'>Write</td>\n            <td colspan=1 width=20% style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px;'>Speak</td>\n \n        </tr>\n        {% for i in doc.custom_languages_known %}\n    <tr >\n        <td style=\"text-align:center;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px;\">{{i.language or ''}}</td>\n        {% if i.mother_tongue== 1 %}\n        <td style=\"text-align:center;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px;\">{{\"✔\"}}</td>\n        {% endif %}\n         {% if i.mother_tongue== 0 %}\n        <td style=\"text-align:center;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px;\">{{\"-\"}}</td>\n        {% endif %}\n        {% if i.read== 1 %}\n        <td style=\"text-align:center;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px;\">{{\"✔\"}}</td>\n        {% endif %}\n         {% if i.read== 0 %}\n        <td style=\"text-align:center;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px;\">{{\"-\"}}</td>\n        {% endif %}\n        {% if i.write== 1 %}\n        <td style=\"text-align:center;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px;\">{{\"✔\"}}</td>\n        {% endif %}\n         {% if i.write== 0 %}\n        <td style=\"text-align:center;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px;\">{{\"-\"}}</td>\n        {% endif %}\n        {% if i.speak== 1 %}\n        <td style=\"text-align:center;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px;\">{{\"✔\"}}</td>\n        {% endif %}\n         {% if i.speak== 0 %}\n        <td style=\"text-align:center;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px;\">{{\"-\"}}</td>\n        {% endif %}\n    </tr>\n    {% endfor %}\n        <tr>\n            <td colspan=1 width=30% style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px;'>Hobbies/Sports :<b>{{doc.custom_hobbies or ''}}</b></td>\n            <td colspan=1 width=20% style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px;'>Extra Curricular Activities :<br><b>{{doc.custom_extra_curricular_activities or ''}}</b></td>\n            <td colspan=3 width=45% style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px;'>Physical Disability (if any) :<b>{{doc.custom_extra_curricular_activities or ''}}</b></td>\n        </tr>\n        <tr>\n             <td colspan=2 width=40% style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px'>Communication Address (with Telephone No.):<br> <b>\n                  {% if doc.custom_communication_address %}\n           {% set address_parts = (doc.custom_communication_address).split(',') %}\n            {% for i in range(address_parts|length) %}\n             {{ address_parts[i] }}\n            {% if i != address_parts|length - 1 %},{% endif %}\n            <br>\n            {% endfor %} \n            {%endif%}\n             </b></td>\n            <td colspan=3 width=30% style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px'>Permanent Address (with Telephone No.) :<br> <b>\n                {% if doc.custom_permanent_address %}\n           {% set address_parts = (doc.custom_permanent_address).split(',') %}\n            {% for i in range(address_parts|length) %}\n             {{ address_parts[i] }}\n            {% if i != address_parts|length - 1 %},{% endif %}\n            <br>\n            {% endfor %} \n            {%endif%}\n            </b></td>\n        </tr>\n        \n        <tr>\n            <td colspan=5  width=100% style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px;'>Nearest Police Station (permanent):<b>{{doc.custom_nearest_police_station or ''}}</b></td>\n        </tr>\n        <tr>\n            <td colspan=5  width=100% style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:15px;'>Marital Status:<b>{{doc.custom_marital_status or ''}}</b></td>\n        </tr>\n        \n    </table>\n    \n    \n    \n    \n    \n    <br>\n    <table style='page-break-inside:avoid' width=100%>\n        <tr>\n            <td width =100% colspan=6 style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;;background-color:#B2BEB5;text-align:center;font-size:17px;font-weight:bold;line-height:7px;'>FAMILY BACKGROUND</td>\n        </tr>\n        <tr>\n            <td colspan=6 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'>Details of Family (self):</td>\n            \n        </tr>\n        <tr>\n            <td colspan=1 width=20% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>Name</td>\n            <td colspan=1 width=5% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>Age (yrs)</td>\n            <td colspan=1 width=20% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>Relationship</td>\n            <td colspan=1 width=15% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>Whether Dependent ?</td>\n            <td colspan=1 width=20% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>Occupation</td>\n            <td colspan=1 width=20% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>Income (per month)</td>\n            \n        </tr>\n        {%if doc.custom_family_background %}\n        {% for i in doc.custom_family_background %}\n        {%if i.relationship !=\"Son\" and i.relationship !=\"Daughter\"%}\n        <tr>\n            <td colspan=1 width=20% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.name1 or ''}}</td>\n            <td colspan=1 width=5% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.age or ''}}</td>\n            <td colspan=1 width=20% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.relationship or ''}}</td>\n            <td colspan=1 width=15% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.whether_dependent or ''}}</td>\n            <td colspan=1 width=20% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.occupation or ''}}</td>\n            <td colspan=1 width=20% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.income or ''}}</td>\n            \n        </tr>\n        {%endif%}\n        {%endfor%}\n        {%endif%}\n        <tr>\n            <td colspan=6 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;border-bottom:2px solid black;'>Details of Family (parental):</td>\n            \n        </tr>\n        {%if doc.custom_family_background %}\n        {% for i in doc.custom_family_background %}\n        {%if i.relationship ==\"Son\" or i.relationship ==\"Daughter\"%}\n        <tr>\n            <td colspan=1 width=20% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.name1 or ''}}</td>\n            <td colspan=1 width=5% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.age or ''}}</td>\n            <td colspan=1 width=20% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.relationship or ''}}</td>\n            <td colspan=1 width=15% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.whether_dependent or ''}}</td>\n            <td colspan=1 width=20% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.occupation or ''}}</td>\n            <td colspan=1 width=20% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.income or ''}}</td>\n            \n        </tr>\n        {%endif%}\n        {%endfor%}\n        {%endif%}\n    </table>\n    <br>\n    \n    \n    <table style='page-break-inside:avoid;' width=100%>\n        <tr>\n            <td width =100% colspan=7 style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;;background-color:#B2BEB5;text-align:center;font-size:17px;font-weight:bold;line-height:7px;'>EDUCATIONAL BACKGROUND</td>\n        </tr>\n        <tr>\n            <td colspan=7 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'>Academic Qualification(s) (Matriculation onwards) :</td>\n            \n        </tr>\n        <tr>\n            <td colspan=1 width=20% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>Examination</td>\n            <td colspan=1 width=20% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>Institution</td>\n            <td colspan=1 width=10% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>Year</td>\n            <td colspan=1 width=10% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>%age</td>\n            <td colspan=1 width=10% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>Division</td>\n            <td colspan=1 width=20% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>Major Subjects</td>\n            <td colspan=1 width=10% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>Remark(s)</td>\n            \n        </tr>\n        {%if doc.custom_academic_qualification %}\n        {% for i in doc.custom_academic_qualification %}\n        <tr>\n            <td colspan=1 width=20% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.examination or ''}}</td>\n            <td colspan=1 width=20% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.institution or '' }}</td>\n            <td colspan=1 width=10% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.year or '' }}</td>\n            <td colspan=1 width=10% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.age or '' }}</td>\n            <td colspan=1 width=10% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.division or '' }}</td>\n            <td colspan=1 width=20% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.major_subjects or '' }}</td>\n            <td colspan=1 width=10% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.remarks or '' }}</td>\n        </tr>\n        {% endfor %}\n        {% endif %}\n        <tr>\n            <td colspan=7 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;border-top:2px solid black;border-bottom:2px solid black;'>Professional Qualification(s) :</td>\n            \n        </tr>\n        {%if doc.custom_professional_qualification %}\n        {% for i in doc.custom_professional_qualification %}\n        <tr>\n            <td colspan=1 width=20% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.examination or ''}}</td>\n            <td colspan=1 width=20% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.institution or '' }}</td>\n            <td colspan=1 width=10% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.year or '' }}</td>\n            <td colspan=1 width=10% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.age or '' }}</td>\n            <td colspan=1 width=10% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.division or '' }}</td>\n            <td colspan=1 width=20% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.major_subjects or '' }}</td>\n            <td colspan=1 width=10% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.remarks or '' }}</td>\n        </tr>\n        {% endfor %}\n        {% endif %}\n        <tr>\n            <td colspan=7 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;border-top:2px solid black;border-bottom:2px solid black;'>Specific Training(s) :</td>\n            \n        </tr>\n        <tr>\n            <td colspan=1 width=5% style='font-size:15px;border-left:2px solid black;'>1.</td>\n            <td colspan=6 width=95% style='font-size:15px;border-right:2px solid black;'>{{doc.custom_specific_training_1 or ''}}</td>\n            \n        </tr>\n        <tr>\n            <td colspan=1 width=5% style='font-size:15px;border-left:2px solid black;border-bottom:2px solid black;'>2.</td>\n            <td colspan=6 width=95% style='font-size:15px;border-right:2px solid black;border-bottom:2px solid black;'>{{doc.custom_specific_training_2 or ''}}</td>\n            \n        </tr>\n        <tr>\n            <td colspan=7 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'>Membership of Professional Institutions (if any) :</td>\n            \n        </tr>\n        <tr>\n            <td colspan=1 width=5% style='font-size:15px;border-left:2px solid black;'>1.</td>\n            <td colspan=6 width=95% style='font-size:15px;border-right:2px solid black;'>{{doc.custom_membership_of_professional_institution_1 or ''}}</td>\n            \n        </tr>\n        <tr>\n            <td colspan=1 width=5% style='font-size:15px;border-left:2px solid black;border-bottom:2px solid black;'>2.</td>\n            <td colspan=6 width=95% style='font-size:15px;border-right:2px solid black;border-bottom:2px solid black;'>{{doc.custom_membership_of_professional_institution_2 or ''}}</td>\n            \n        </tr>\n    </table>\n    \n    \n    \n    \n    <br>\n    <table style='page-break-inside:avoid' width=100%>\n        <tr>\n            <td width =100% colspan=9 style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;;background-color:#B2BEB5;text-align:center;font-size:17px;font-weight:bold;line-height:7px;'>EMPLOYMENT HISTORY</td>\n        </tr>\n        <tr>\n            <td colspan=9 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'>Starting from present employment, give the required details regarding your previous employments in unbroken chronological order :</td>\n            \n        </tr>\n        <tr>\n            <td colspan=1 width=25% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>Name & Address of Company</td>\n            <td colspan=1 width=10% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>Designation</td>\n            <td colspan=1 width=10% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>Nature of Duties</td>\n            <td colspan=1 width=5% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>Period From</td>\n            <td colspan=1 width=5% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>Period To</td>\n            <td colspan=1 width=5% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>Years</td>\n            <td colspan=1 width=10% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>Salary (Gross)</td>\n            <td colspan=1 width=10% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>Main Product of Company</td>\n            <td colspan=1 width=10% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>Reason for Leaving</td>\n            \n        </tr>\n        {%if doc.custom_employment_history %}\n        {% for i in doc.custom_employment_history %}\n        <tr>\n            <td colspan=1 width=25% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.name11 or ''}}</td>\n            <td colspan=1 width=10% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.designation or '' }}</td>\n            <td colspan=1 width=10% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.nature_of_duties or '' }}</td>\n            <td colspan=1 width=5% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.from_period or '' }}</td>\n            <td colspan=1 width=5% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.to_period or '' }}</td>\n            <td colspan=1 width=5% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.years or '' }}</td>\n            <td colspan=1 width=10% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.salary or '' }}</td>\n            <td colspan=1 width=10% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'> {{i.main_product_of_company or '' }}</td>\n            <td colspan=1 width=10% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>{{i.reason_for_leaving or '' }}</td>\n\n        </tr>\n        {% endfor %}\n        {% endif %}\n    </table>\n    \n    \n    \n    \n    <br>\n    <table style='page-break-inside:avoid' width=100%>\n        <tr>\n            <td width =100% colspan=3 style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;;background-color:#B2BEB5;text-align:center;font-size:17px;font-weight:bold;line-height:7px;'>GENERAL DATA</td>\n        </tr>\n         <tr>\n            <td colspan=3 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'>Are you known to any one in this company ?<b>{{doc.custom_are_you_known_to_any_one_in_this_company or '' }}</b> </td>\n            \n        </tr>\n        <tr>\n            <td colspan=3 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'>Who referred you to this company ?<b>{{doc.custom_who_referred_you_to_this_company or '' }}</b> </td>\n            \n        </tr>\n        <tr>\n            <td colspan=3 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'>Is there any relative of you in this company ?<b>{{doc.custom_is_there_any_relative_of_you_in_this_company or '' }}</b> </td>\n            \n        </tr>\n        <tr>\n            <td colspan=3 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'>Did you ever apply for any post in this company ?<b>{{doc.custom_did_you_ever_apply_for_any_post_in_this_company or '' }}</b> </td>\n            \n        </tr>\n        <tr>\n            <td colspan=3 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'>If so, please specify : <b>{{doc.custom_if_so_any_post or '' }}</b> </td>\n            \n        </tr>\n        <tr>\n            <td colspan=3 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'>Are you engaged in any personal business ?<b>{{doc.custom_are_you_engaged_in_any_personal_business or '' }}</b> </td>\n            \n        </tr>\n        <tr>\n            <td colspan=3 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'>Have you ever been removed from your job ?<b>{{doc.custom_have_you_ever_been_removed_from_your_job or '' }}</b> </td>\n            \n        </tr>\n        <tr>\n            <td colspan=3 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'>If so, please specify : <b>{{doc.custom_if_so_removed_from_job or '' }}</b> </td>\n            \n        </tr>\n        <tr>\n            <td colspan=3 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'>Have you ever been punished by court ?<b>{{doc.custom_have_you_ever_been_punished_by_court or '' }}</b> </td>\n            \n        </tr>\n        <tr>\n            <td colspan=3 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'>If so, please specify : <b>{{doc.custom_if_so_court or '' }}</b> </td>\n            \n        </tr>\n        <tr>\n            <td colspan=3 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'>Are you a member of any political party ?<b>{{doc.custom_are_you_a_member_of_any_political_party or '' }}</b> </td>\n            \n        </tr>\n        <tr>\n            <td colspan=3 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'>If so, please specify the name of party<b>{{doc.custom_who_referred_you_to_this_company or '' }}</b> </td>\n            \n        </tr>\n        <tr>\n            <td colspan=3 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'>Are you a member of E.P.F., F.P.S. and E. S. I.? If so, please give the following details : <b>{{doc.custom_member_of_epf or '' }}</b> </td>\n            \n        </tr>\n        <tr>\n            <td colspan=1 width=30% style='font-size:15px;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'></td>\n            <td colspan=1 width=30% style='font-size:15px;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>Account No.</td>\n        <td colspan=1 width=40% style='font-size:15px;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;'>Name & Address of Last Employer</td>\n        </tr>\n        <tr>\n            <td colspan=1 width=30% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'>E.P.F</td>\n            {%if doc.custom_if_so_please_give_the_following_details %}\n        {% for i in doc.custom_if_so_please_give_the_following_details %}\n        {%if i.name1 ==\"E.P.F\"%}\n        <td colspan=1 width=30% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'>{{i.account_number or ''}}</td>\n        <td colspan=1 width=40% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'>{{i.name_and_address_of_last_employer or ''}}</td>\n        {%endif %}\n        {% endfor %}\n        {% else %}\n        <td colspan=1 width=30% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'></td>\n        <td colspan=1 width=40% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'></td>\n        {%endif%}\n        </tr>\n        <tr>\n            <td colspan=1 width=30% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'>F.P.S</td>\n            {%if doc.custom_if_so_please_give_the_following_details %}\n        {% for i in doc.custom_if_so_please_give_the_following_details %}\n        {%if i.name1 ==\"F.P.S\"%}\n        <td colspan=1 width=30% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'>{{i.account_number or ''}}</td>\n        <td colspan=1 width=40% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'>{{i.name_and_address_of_last_employer or ''}}</td>\n        {%endif %}\n        {% endfor %}\n        {% else %}\n        <td colspan=1 width=30% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'></td>\n        <td colspan=1 width=40% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'></td>\n        {%endif%}\n        </tr>\n        <tr>\n            <td colspan=1 width=30% style='font-size:15px;border-left:2px solid black;border-bottom:2px solid black;border-right:2px solid black;'>E.S.I</td>\n            {%if doc.custom_if_so_please_give_the_following_details %}\n        {% for i in doc.custom_if_so_please_give_the_following_details %}\n        {%if i.name1 ==\"E.S.I\"%}\n        <td colspan=1 width=30% style='font-size:15px;border-left:2px solid black;border-bottom:2px solid black;border-right:2px solid black;'>{{i.account_number or ''}}</td>\n        <td colspan=1 width=40% style='font-size:15px;border-left:2px solid black;border-bottom:2px solid black;border-right:2px solid black;'>{{i.name_and_address_of_last_employer or ''}}</td>\n        {%endif %}\n        {% endfor %}\n        {% else %}\n        <td colspan=1 width=30% style='font-size:15px;border-left:2px solid black;border-bottom:2px solid black;border-right:2px solid black;'></td>\n        <td colspan=1 width=40% style='font-size:15px;border-left:2px solid black;border-bottom:2px solid black;border-right:2px solid black;'></td>\n        {%endif%}\n        </tr>\n        <tr>\n            <td colspan=3 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'>Are you under any bond with your previous employer ? <b>{{doc.custom_are_you_under_any_bond_with_your_previous_employer or '' }}</b> </td>\n            \n        </tr>\n        <tr>\n            <td colspan=3 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'>Any specific contribution made by you in the growth of your earlier company ? <b>{{doc.custom_any_specific_contribution or '' }}</b> </td>\n            \n        </tr>\n        <tr>\n            <td colspan=3 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'>Are you satisfied with your career growth till now ? <b>{{doc.custom_are_you_satisfied_with_your_career_growth_till_now or '' }}</b> </td>\n            \n        </tr>\n        <tr>\n            <td colspan=3 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'>If not, please specify the reason : <b>{{doc.custom_if_not or '' }}</b> </td>\n            \n        </tr>\n        <tr>\n            <td colspan=3 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'>Any other information you think may be important about you ?  <b>{{doc.custom_any_other_information or '' }}</b> </td>\n            \n        </tr>\n        <tr>\n            <td colspan=3 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'>Are you presently engaged in any academic/professional/other course ? <b>{{doc.custom_are_you_presently_engaged_in_any_course or '' }}</b> </td>\n            \n        </tr>\n        <tr>\n            <td colspan=3 width=100% style='font-size:15px;border-left:2px solid black;border-bottom:2px solid black;border-right:2px solid black;'>If so, please specify : <b>{{doc.custom_if_so_specify or '' }}</b> </td>\n            \n        </tr>\n    </table>\n    \n        \n        \n        \n    <br>\n    <table style='page-break-inside:avoid' width=100%>\n        <tr>\n            <td width =100% colspan=4 style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;;background-color:#B2BEB5;text-align:center;font-size:17px;font-weight:bold;line-height:7px;'>NOMINEE</td>\n        </tr>\n        <tr>\n            <td colspan=4 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;;border-bottom:2px solid black;'>Name & Address of Nominee <br><b>\n                {% if doc.custom_name_and_address_of_nominee %}\n           {% set address_parts = (doc.custom_name_and_address_of_nominee).split(',') %}\n            {% for i in range(address_parts|length) %}\n             {{ address_parts[i] }}\n            \n            <br>\n            {% endfor %} \n            {%endif%}\n            </b></td>\n            \n        </tr>\n        <tr>\n            <td colspan=4 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;;border-bottom:2px solid black;'>In case of emergency notify Name, Address & Tel. No. of two persons</td>\n        </tr>\n        <tr>\n            <td colspan=1 width=5% style='font-size:15px;border-left:2px solid black;'>1.</td>\n            <td colspan=1 width=45% style='font-size:15px;border-left:2px solid black;'>{{doc.custom_name or ''}}</td>\n           <td colspan=1 width=25% style='font-size:15px;border-left:2px solid black;'>{{doc.custom_address or ''}}</td>\n           <td colspan=1 width=25% style='font-size:15px;border-right:2px solid black;border-left:2px solid black;'>{{doc.custom_telephone_no or ''}}</td>\n        </tr>\n        <tr>\n            <td colspan=1 width=5% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;'>2.</td>\n            <td colspan=1 width=45% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;'>{{doc.custom_name_2 or ''}}</td>\n           <td colspan=1 width=25% style='font-size:15px;border-bottom:2px solid black;border-left:2px solid black;'>{{doc.custom_address_2 or ''}}</td>\n           <td colspan=1 width=25% style='font-size:15px;border-bottom:2px solid black;border-right:2px solid black;border-left:2px solid black;'>{{doc.custom_telephone_no_2 or ''}}</td>\n        </tr>\n        \n    </table>\n    \n    \n    \n    \n    <br>\n    <table style='page-break-inside:avoid' width=100%>\n        <tr>\n            <td width =100% colspan=2 style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;;background-color:#B2BEB5;text-align:center;font-size:17px;font-weight:bold;line-height:7px;'>DECLARATION</td>\n        </tr>\n         <tr>\n            <td colspan=2 width=100% style='text-align:justify;font-size:15px;border-left:2px solid black;border-right:2px solid black;'>I declare that the information furnished above is true to the best of my knowledge and belief. I have not concealed any material information, which might impair my fitness for employment in the company. In case any information given above is found to be incorrect, my services would be liable to be terminated by the management.</td>\n            \n        </tr>\n        <tr>\n           <td colspan=2 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'></td>\n           \n        </tr>\n        <tr>\n           <td colspan=2 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'></td>\n           \n        </tr>\n        <tr>\n            <td colspan=1 width=50% style='font-size:15px;border-left:2px solid black;'></td>\n            <td colspan=1 width=50% style='font-size:15px;border-right:2px solid black;text-align:right'>_______________________________________</td>\n        </tr>\n        \n        <tr>\n            <td colspan=1 width=50% style='font-size:15px;border-left:2px solid black;'>Date : </td>\n            <td colspan=1 width=50% style='font-size:15px;border-right:2px solid black;text-align:right'>Signature of Candidate</td>\n        </tr>\n        <tr>\n           <td colspan=1 width=80% style='font-size:15px;border-left:2px solid black;border-bottom:2px solid black;'>Place:</td>\n           <td colspan=1 width=20% style='font-size:15px;border-bottom:2px solid black;border-right:2px solid black;'></td>\n        </tr>\n    </table>\n    \n    \n    \n    \n    <br>\n    <table style='page-break-inside:avoid' width=100%>\n        <tr>\n            <td width =100% colspan=2 style='border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;;background-color:#B2BEB5;text-align:center;font-size:17px;font-weight:bold;line-height:7px;'>FOR OFFICE USE ONLY</td>\n        </tr>\n         <tr>\n            <td colspan=2 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'><b>Mr./Ms. {{doc.applicant_name }}</b> has been appointed as per details given below : </td>\n            \n        </tr>\n        <tr>\n            <td colspan=1 width=50% style='font-size:15px;border-left:2px solid black;'>Designation :<b> {{doc.designation or '' }}</b></td>\n            <td colspan=1 width=50% style='font-size:15px;border-right:2px solid black;'>Department :<b> {{doc.custom_department or '' }}</b></td>\n        </tr>\n        <tr>\n            <td colspan=1 width=50% style='font-size:15px;border-left:2px solid black;'>Date of Joining :<b> {{frappe.utils.format_date(doc.custom_date_of_joining) or '' }}</b></td>\n            <td colspan=1 width=50% style='font-size:15px;border-right:2px solid black;'>Location of Posting :<b> {{doc.custom_location_of_posting or '' }}</b></td>\n        </tr>\n        <tr>\n            <td colspan=1 width=50% style='font-size:15px;border-left:2px solid black;'>Gross Salary :<b> {{doc.custom_gross_salary or '' }}</b></td>\n            <td colspan=1 width=50% style='font-size:15px;border-right:2px solid black;'>Salary Band :<b> {{doc.custom_salary_band or '' }}</b></td>\n        </tr>\n        <tr>\n            <td colspan=1 width=50% style='font-size:15px;border-left:2px solid black;'>Probation Period :<b> {{doc.custom_probation_period or '' }}</b></td>\n            <td colspan=1 width=50% style='font-size:15px;border-right:2px solid black;'>Bond contract (if any) :<b> {{doc.custom_bond_contract or '' }}</b></td>\n        </tr>\n        <tr>\n            <td colspan=2 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'>Additional benefit on completion of contract (if  any) :<b> {{doc.custom_additional_benefit_on_completion_of_contract or ''}}</b></td>\n            \n        </tr>\n        <tr>\n            <td colspan=2 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'>Remark(s) (if any) :<b>{{doc.custom_remarks or ''}}</b></td>\n            \n        </tr>\n        <tr>\n           <td colspan=2 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'></td>\n           \n        </tr>\n        <tr>\n           \n           <td colspan=2 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'></td>\n        </tr>\n        <tr>\n           \n           <td colspan=2 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'></td>\n        </tr>\n        <tr>\n            <td colspan=1 width=50% style='font-size:15px;border-left:2px solid black;'>_______________________________________</td>\n            <td colspan=1 width=50% style='font-size:15px;border-right:2px solid black;text-align:right'>_______________________________________</td>\n        </tr>\n        <tr>\n            <td colspan=1 width=50% style='font-size:15px;border-left:2px solid black;'>Head – HR Department</td>\n            <td colspan=1 width=50% style='font-size:15px;border-right:2px solid black;text-align:right'>President</td>\n        </tr>\n        <tr>\n           \n           <td colspan=2 width=100% style='font-size:15px;border-left:2px solid black;border-right:2px solid black;'></td>\n        </tr>\n        \n        <tr>\n           <td colspan=1 width=80% style='font-size:15px;border-left:2px solid black;border-bottom:2px solid black;'>Date:</td>\n           <td colspan=1 width=20% style='font-size:15px;border-bottom:2px solid black;border-right:2px solid black;'>Date:</td>\n        </tr>\n    </table>\n</div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-01-23 22:07:22.982854",
  "module": "ONEGENE",
  "name": "Job Applicant",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".print-format{\n    margin-top:25%;\n    margin-bottom:55px;\n    margin-left:65px;\n    margin-right:65px;\n    font-family: \"Times New Roman\", Times, serif;\n}",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Job Offer",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<div>\n    <p style='text-align:center;font-size:22px;font-weight:bold'><u>JOINING REPORT</u></p><br>\n    <p style='text-align:right;font-size:18px;font-weight:bold'>Date : {{frappe.utils.format_date(frappe.utils.nowdate()) or ''}}</p><br>\n    <p style='font-size:18px;'>I hereby join my duty with effect from<br><br>\n    Name : <b>{{doc.applicant_name or ''}}</b><br><br>\n    Father's Name : <b>{{doc.custom_father_name or ''}}</b><br><br>\n    Designation : <b>{{doc.designation or ''}}</b><br><br>\n    Department : <b>{{doc.custom_department or ''}}</b><br><br>\n    Location : <b>{{doc.custom_location or ''}}</b></p><br><br><br><br>\n    <table width=100%>\n        <tr>\n            <td colspan=2 style='text-align:right;font-size:18px;'>-----------------------------------------\n                \n            </td>\n        </tr>\n        <tr>\n            <td colspan=2 style='text-align:right;font-size:18px;'>Signature of Employee\n                \n            </td>\n        </tr>\n        <tr>\n            <td colspan=2 style='text-align:right;font-size:18px;'>\n                \n            </td>\n        </tr>\n        <tr>\n            <td colspan=2 style='text-align:right;font-size:18px;'>\n                \n            </td>\n        </tr>\n        <tr>\n            <td colspan=2 style='text-align:right;font-size:18px;'>\n                \n            </td>\n        </tr>\n        <tr>\n            <td colspan=2 style='text-align:right;font-size:18px;'>\n                \n            </td>\n        </tr>\n        <tr>\n            <td colspan=2 style='text-align:right;font-size:18px;'>\n                \n            </td>\n        </tr>\n        <tr>\n            <td colspan=2 style='text-align:right;font-size:18px;'>\n                \n            </td>\n        </tr>\n        <tr>\n            <td colspan=1 width=50% style='text-align:left;font-size:18px;'>-----------------------------------------\n             <td colspan=1 width=50% style='text-align:right;font-size:18px;'>-----------------------------------------\n                \n            </td>\n            <tr>\n            <td colspan=1 width=50% style='text-align:left;font-size:18px;'>HR Department\n             <td colspan=1 width=50% style='text-align:right;font-size:18px;'>Head of Department\n                \n            </td>\n        </tr>\n    </table>\n    \n    \n</div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-01-03 09:54:12.092411",
  "module": "ONEGENE",
  "name": "JOINING REPORT",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".print-format{\n    margin-top:25%;\n    margin-bottom:55px;\n    margin-left:65px;\n    margin-right:65px;\n    font-family: \"Times New Roman\", Times, serif;\n}",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Job Offer",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<div>\n    <p style='font-size:15px;'>TO,<br><br>\n    <b>\n        {{doc.custom_salutation }}.{{doc.applicant_name }} \n        \n        {%if doc.custom_salutation ==\"Mr\" %}\n        {%set gen = \"S/o\" %}\n        {%else %}\n        {%set gen = \"D/o\" %}\n       \n        {%endif%}\n        {%if doc.custom_father_name %}\n         {{gen}} {{doc.custom_father_name or ''}}\n         {%else %}\n         {{''}}{{''}}\n         {%endif%}\n         \n        <br>\n        {% if doc.custom_address %}\n           {% set address_parts = (doc.custom_address).split(',') %}\n            {% for i in range(address_parts|length) %}\n             {{ address_parts[i] }}\n            {% if i != address_parts|length - 1 %},{% endif %}\n            <br>\n            {% endfor %} \n            {%endif%}\n    </b><br>\n    Dear <b>{{doc.applicant_name}},</b><br><br>\n    With reference to your application and the subsequent interview held with us, we are pleased to appoint you as <b>{{doc.designation or ''}} - {{doc.custom_department or ''}}</b> subject to the following:<br><br>\n    </p>\n    <table width =100%>\n        <tr>\n            <td colspan=2 width=100% style=\"text-align:center;font-size:15px\">TERMS AND CONDITIONS</td>\n        </tr>\n        <tr>\n            <td colspan =1 width=5% style=\"text-align:center;font-size:15px\">1.</td>\n            <td colspan =1 width=95% style=\"text-align:justify;font-size:15px\">You will be paid a total CTC of <b> Rs. {{doc.custom_ctc_per_month }}/- p.m. ({{frappe.utils.money_in_words(doc.custom_ctc_per_month)}}).</b> This appointment will be subject to your being found medically, physically and mentally fit.</td>\n            \n        </tr>\n        <tr>\n            <td colspan =1 width=5% style=\"text-align:center;font-size:15px\">2.</td>\n            <td colspan =1 width=95% style=\"text-align:justify;font-size:15px\">You will be on probation for a period of <b>{{doc.custom_probation_period or ''}} </b>months from the date of Appointment. If the management is not satisfied with your work and conduct, your services shall be terminated without notice at any time during or on completion of the probationary period. This probation will be liable to such extension(s) as the management may deem fit in its sole discretion.</td>\n        </tr>\n        <tr>\n            <td colspan =1 width=5% style=\"text-align:center;font-size:15px\">3.</td>\n            <td colspan =1 width=95% style=\"text-align:justify;font-size:15px\">After your confirmation as a permanent employee, your service may be terminated by either party, giving the other one-month notice in writing or payment of salary in lieu thereof. The company may immediately terminate your service without any compensation or notice if you are in breach of your responsibilities.</td>\n        </tr>\n        <tr>\n            <td colspan =1 width=5% style=\"text-align:center;font-size:15px\">4.</td>\n            <td colspan =1 width=95% style=\"text-align:justify;font-size:15px\"> This appointment is further subject to verification of the particulars given by you on your application form. In case any particular/particulars mentioned by you in the application for appointment are found false or incorrect, your training period shall be terminated without any notice.</td>\n        </tr>\n        <tr>\n            <td colspan =1 width=5% style=\"text-align:center;font-size:15px\">5.</td>\n            <td colspan =1 width=95% style=\"text-align:justify;font-size:15px\">The management will expect you to work in the section in which you are placed with a high standard of discipline, initiative, efficiency and passion.</td>\n        </tr>\n        <tr>\n            <td colspan =1 width=5% style=\"text-align:center;font-size:15px\">6.</td>\n            <td colspan =1 width=95% style=\"text-align:justify;font-size:15px\">You will work according to the needs and exigencies of business and, as such there will be no fixed hours of duty for you. You will, however, strictly observe the office timing for reporting for work.</td>\n        </tr>\n        <tr>\n            <td colspan =1 width=5% style=\"text-align:center;font-size:15px\">7.</td>\n            <td colspan =1 width=95% style=\"text-align:justify;font-size:15px\">You will devote your whole time to the work of the management and will not undertake any other direct/indirect business or work, honorary or remuneratory, except with the written permission of the management.</td>\n        </tr>\n        <tr>\n            <td colspan =1 width=5% style=\"text-align:center;font-size:15px\">8.</td>\n            <td colspan =1 width=95% style=\"text-align:justify;font-size:15px\">You will not give to any one, by word of mouth or otherwise, particulars or details of our manufacturing processes, technical know-how or of administrative and / or organizational matters, whether of confidential or secret nature that may become known to you while being associated with our company.</td>\n        </tr>\n        <tr>\n            <td colspan =1 width=5% style=\"text-align:center;font-size:15px\">9.</td>\n            <td colspan =1 width=95% style=\"text-align:justify;font-size:15px\">You may be  Posted/Transferred to any Unit/Branch, Shift section/Department of the establishment as existing at the time of transfer</td>\n        </tr>\n        \n        <tr>\n            <td colspan =1 width=5% style=\"text-align:center;font-size:15px\">10.</td>\n            <td colspan =1 width=95% style=\"text-align:justify;font-size:15px\">If for a period of eight consecutive working days, you absent yourself without prior, proper communication to the company in writing or without prior sanction of leave or overstay the sanction leave by such period, it shall be deemed that you have abandoned your employment voluntarily terminating your services thereby.</td>\n        </tr>\n        <tr>\n            <td colspan =1 width=5% style=\"text-align:center;font-size:15px\">11.</td>\n            <td colspan =1 width=95% style=\"text-align:justify;font-size:15px\">If the management finds continuous deterioration in your performance for consecutive periods, your services will be liable for termination without any recourse to payment of compensation and you will forfeit the right to claim all your pending salary and allowances.</td>\n        </tr>\n        <tr>\n            <td colspan =1 width=5% style=\"text-align:center;font-size:15px\">12.</td>\n            <td colspan =1 width=95% style=\"text-align:justify;font-size:15px\">Notwithstanding any of the clauses of this letter of appointment, the management reserves the right of terminating your appointment with out assigning any reason and without notice during your probation period.</td>\n        </tr>\n        <tr>\n            <td colspan =1 width=5% style=\"text-align:center;font-size:15px\">13.</td>\n            <td colspan =1 width=95% style=\"text-align:justify;font-size:15px\">Future increment will be considered at the sole discretion of the Management, and therefore, the same cannot be claimed as a matter of right.</td>\n        </tr>\n        <tr>\n            <td colspan =1 width=5% style=\"text-align:center;font-size:15px\">14.</td>\n            <td colspan =1 width=95% style=\"text-align:justify;font-size:15px\">You will automatically retire on attaining the age of 58 years. An extension may, however, be given at the discretion of the management. You may be retired earlier if found medically unfit.</td>\n        </tr>\n        <tr>\n            <td colspan =1 width=5% style=\"text-align:center;font-size:15px\">15.</td>\n            <td colspan =1 width=95% style=\"text-align:justify;font-size:15px\">You will be entitled to privilege leave, Sick Leave and Casual Leave, after your probation period is over, as per the rules of the company.</td>\n        </tr>\n        <tr>\n            <td colspan =1 width=5% style=\"text-align:center;font-size:15px\">16.</td>\n            <td colspan =1 width=95% style=\"text-align:justify;font-size:15px\">You will be covered by the necessary provisions of the ESI and PF acts, when applicable, as per rules of the company.</td>\n        </tr>\n        <tr>\n            <td colspan =1 width=5% style=\"text-align:center;font-size:15px\">17.</td>\n            <td colspan =1 width=95% style=\"text-align:justify;font-size:15px\">In Case you are sent for Overseas Training / Specific product related training you have to execute a bond for a period that will be determined based on your duration of training period.</td>\n        </tr>\n        <tr>\n            <td colspan =1 width=5% style=\"text-align:center;font-size:15px\">18.</td>\n            <td colspan =1 width=95% style=\"text-align:justify;font-size:15px\">You are being considered for the current post based on your commitment to serve our    organization with out any break, atleast for three years.</td>\n        </tr>\n        \n    </table>\n    <p style='font-size:15px;text-align:justify'>If you accept the above terms, you are required to return the carbon copy of this letter of appointment duly signed by you in token of your acceptance within one week and report for duty along with copies of your Certificates and two copies of the latest photograph of passport size.<br><br>\n    <b>For WONJIN Autoparts (I) Pvt Ltd</b><br><br><br>\n    <b>Authorized Signatory</b><br>\n    Encl. As above.<br>\n    I accept the appointment and its terms and conditions. I shall report for duty on <b>{{frappe.utils.format_date(doc.offer_date) or ''}}<br><br><br><br>............................<br>\n    (Applicant)</b>\n    </p>\n    \n</div>\n<div>\n    <table width=100% style='page-break-inside:avoid'>\n        <tr>\n            <td colspan=3 style='font-size:25px;text-align:center;font-weight:bold'><u>ANNEXURE</u></td>\n        </tr>\n        <tr>\n            <td colspan=3 style='font-size:15px;font-weight:bold'>Dear {{doc.applicant_name}} - ({{doc.designation or ''}} - {{doc.custom_department or ''}}),</td>\n        </tr>\n        <tr>\n            <td colspan=3 style='font-size:15px;'>Your CTC Particulars are given below</td>\n        </tr>\n        <tr>\n            <td colspan=3 style='font-size:15px;font-weight:bold'><u>Salary Per annum: Rs.{{doc.custom_ctc_per_annum}}/-</u></td>\n        </tr>\n        <tr>\n            <td colspan=1 width=45% style='font-size:15px;'>MONTHLY GROSS</td>\n            <td colspan=1 width=5% style='font-size:15px;'>:</td>\n            <td colspan=1 width=50% style='font-size:15px;'>{{doc.custom_monthly_gross or ''}}</td>\n        </tr>\n        <tr>\n            <td colspan=1 width=45% style='font-size:15px;'>BASIC + DA (50%)</td>\n            <td colspan=1 width=5% style='font-size:15px;'>:</td>\n            {%set basic_da = doc.custom_basic + doc.custom_dearness_allowance %}\n            <td colspan=1 width=50% style='font-size:15px;'>{{basic_da or ''}}</td>\n        </tr>\n        <tr>\n            <td colspan=1 width=45% style='font-size:15px;'>HRA (10%)</td>\n            <td colspan=1 width=5% style='font-size:15px;'>:</td>\n            <td colspan=1 width=50% style='font-size:15px;'>{{doc.custom_house_rent_allowance or ''}}</td>\n        </tr>\n        <tr>\n            <td colspan=1 width=45% style='font-size:15px;'>CONVEYANCE (15%)</td>\n            <td colspan=1 width=5% style='font-size:15px;'>:</td>\n            <td colspan=1 width=50% style='font-size:15px;'>{{doc.custom_conveyance_allowance or ''}}</td>\n        </tr>\n        <tr>\n            <td colspan=1 width=45% style='font-size:15px;'>MEDICAL (5%)</td>\n            <td colspan=1 width=5% style='font-size:15px;'>:</td>\n            <td colspan=1 width=50% style='font-size:15px;'>{{doc.custom_medical_allowance or ''}}</td>\n        </tr><tr>\n            <td colspan=1 width=45% style='font-size:15px;'>PERFORMANCE (10%)</td>\n            <td colspan=1 width=5% style='font-size:15px;'>:</td>\n            <td colspan=1 width=50% style='font-size:15px;'>{{doc.custom_performance_allowance or ''}}</td>\n        </tr><tr>\n            <td colspan=1 width=45% style='font-size:15px;'>EDUCATIONAL (5%)</td>\n            <td colspan=1 width=5% style='font-size:15px;'>:</td>\n            <td colspan=1 width=50% style='font-size:15px;'>{{doc.custom_educational_allowance or ''}}</td>\n        </tr>\n        <tr>\n            <td colspan=1 width=45% style='font-size:15px;'>SPECIAL (5%)</td>\n            <td colspan=1 width=5% style='font-size:15px;'>:</td>\n            <td colspan=1 width=50% style='font-size:15px;'>{{doc.custom_special_allowance or ''}}</td>\n        </tr>\n        <tr>\n            <td colspan=1 width=45% style='font-size:15px;font-weight:bold;text-align:right'>TOTAL</td>\n            <td colspan=1 width=5% style='font-size:15px;'></td>\n            {%set tot = (doc.custom_basic + doc.custom_dearness_allowance + doc.custom_house_rent_allowance + doc.custom_conveyance_allowance + doc.custom_medical_allowance + doc.custom_performance_allowance + doc.custom_educational_allowance + doc.custom_special_allowance) * 12 %}\n            <td colspan=1 width=50% style='font-size:15px;'>{{tot or ''}}</td>\n        </tr>\n        <tr>\n            <td colspan=1 width=45% style='font-size:15px;'>PF EMPLOYER CONTRIBUTION</td>\n            <td colspan=1 width=5% style='font-size:15px;'>:</td>\n            <td colspan=1 width=50% style='font-size:15px;'>{{doc.custom_pf_employer_contribution or ''}}</td>\n        </tr>\n        <tr>\n            <td colspan=1 width=45% style='font-size:15px;'>BONUS ((Basic+DA)*8.33%*12 after Completion of 1 Year)</td>\n            <td colspan=1 width=5% style='font-size:15px;'>:</td>\n            <td colspan=1 width=50% style='font-size:15px;'>{{doc.custom_bonus or ''}}</td>\n        </tr>\n        <tr>\n            <td colspan=1 width=45% style='font-size:15px;'>GROUP MEDICLAIM</td>\n            <td colspan=1 width=5% style='font-size:15px;'>:</td>\n            <td colspan=1 width=50% style='font-size:15px;'>{{doc.custom_group_mediclaim or ''}}</td>\n        </tr>\n        <tr>\n            <td colspan=1 width=45% style='font-size:15px;font-weight:bold'>TOTAL</td>\n            <td colspan=1 width=5% style='font-size:15px;font-weight:bold'>:</td>\n            <td colspan=1 width=50% style='font-size:15px;font-weight:bold'>{{doc.custom_ctc_per_annum or ''}}</td>\n        </tr>\n        <tr>\n            <td colspan=3 style='font-size:15px;font-weight:bold'>({{frappe.utils.money_in_words(doc.custom_ctc_per_annum)}})</td>\n        </tr>\n        <tr>\n            <td colspan=3 style='font-size:15px;font-weight:bold'></td>\n        </tr>\n        <tr>\n            <td colspan=3 style='font-size:15px;font-weight:bold'></td>\n        </tr>\n        <tr>\n            <td colspan=3 style='font-size:15px;font-weight:bold'></td>\n        </tr>\n        <tr>\n            <td colspan=3 style='font-size:15px;font-weight:bold'>For Wonjin Autoparts India Private Limited,</td>\n        </tr>\n        <tr>\n            <td colspan=3 style='font-size:15px;font-weight:bold'></td>\n        </tr>\n        <tr>\n            <td colspan=3 style='font-size:15px;font-weight:bold'></td>\n        </tr>\n        <tr>\n            <td colspan=3 style='font-size:15px;font-weight:bold'>J.E.M.WILLIAM.<br>Managing Director.</td>\n        </tr>\n    </table>\n</div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-01-03 09:56:45.222988",
  "module": "ONEGENE",
  "name": "Offer Letter",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".print-format{\n    margin-top:28%;\n    margin-bottom:55px;\n    margin-left:65px;\n    margin-right:65px;\n    font-family: \"Times New Roman\", Times, serif;\n    line-height:30px;\n}",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Employee",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<div>\n    <p style=\"text-align:center;font-size:15px;font-weight:bold\"><u>CONFIRMATION LETTER</u></p>\n    <p style=\"text-align:right;font-size:14px;\">Date : {{frappe.utils.format_date(frappe.utils.nowdate(),'dd.mm.yyyy')}}</p>\n    <p style='font-size:14px'>To</p>\n    <p style='text-indent: 50px;font-size:20px;'><b>{{doc.employee_name}}</b></p>\n     <p style='text-indent: 50px;font-size:14px;'>EMP NO. {{doc.name}}</p><br>\n     {%if doc.salutation %}\n     <p style='text-indent: 50px;font-size:16px;'>Dear {{doc.salutation or ''}}. <b>{{doc.employee_name}}</b></p>\n     {%else%}\n     <p style='text-indent: 50px;font-size:16px;'>Dear <b>{{doc.employee_name}}</b></p>\n     {%endif%}\n     <p style='text-indent: 50px;font-size:14px;'>Sub: Confirmation as a Regular Employee.</p>\n     <p style='text-indent: 50px;font-size:14px;'>Ref: Your Appointment order dated <b>{{frappe.utils.format_date(doc.date_of_joining,'dd.mm.yyyy')}}</b>.</p>\n     <p style='text-align: center;font-size:14px;'>----</p>\n     <p style='text-indent: 50px;font-size:14px;'>Since you have completed your Training and Probationary Period successfully, the Management is pleased to inform you that with effect from <b>{{frappe.utils.format_date(doc.final_confirmation_date,'dd.mm.yyyy') or ''}}</b> you are confirmed in a Regular Post of <b>{{doc.designation or ''}} - {{doc.department or ''}}</b>. All other Terms and Conditions of your Appointment remain unchanged.</p><br>\n     <p style='text-indent: 50px;font-size:14px;'>We look forward to your continued contribution towards accomplishment of Organizational goals and wish you a rewarding career with our Company.</p><br><br><br><br><hr style='border: 1px solid black'><br>\n     <p style='text-align:right;font-size:14px'>I hereby agree and accept the above Terms and Conditions.</p><br><br>\n     <p style='text-align:right;font-size:14px'><b>({{doc.employee_name}})</b></p>\n</div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-01-03 09:58:24.209314",
  "module": "ONEGENE",
  "name": "Confirmation Letter",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".print-format{\n    margin-top:35%;\n    line-height:14px;\n    margin-left:5mm;\n    margin-right:5mm;\n    font-family: \"Times New Roman\", Times, serif;\n}",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Salary Slip",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{% if doc.docstatus == 0 %}\n<p style=\"text-align: right;\">DRAFT</p>\n{% endif %}\n<div>\n    <table width=100%>\n        <tr>\n            <td colspan=4 style=\"font-size:16px;text-align:center;font-weight:bold;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;\">WONJIN AUTOPARTS INDIA PVT LTD - MM NAGAR.</td>\n            <td colspan=2 style=\"font-size:16px;font-weight:bold;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;\">PAYSLIP - </td>\n            <td colspan=4 style=\"font-size:16px;text-align:center;font-weight:bold;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;\">{{frappe.utils.format_date(doc.start_date ,'MMM-yy')}}</td>\n        </tr>\n        <tr>\n            <td colspan=8 style=\"border-left:2px solid black;border-right:2px solid black;\"></td>\n        </tr>\n        <tr>\n            <td colspan=1 style=\"border-left:2px solid black;font-size:13px;font-weight:bold;\">Code:</td>\n            <td colspan=1 style='font-size:13px;width:13%'>{{doc.employee}}</td>\n            <td colspan=1 style='font-size:13px;font-weight:bold'>Department:</td>\n            <td colspan=1 style='font-size:13px'>{{doc.department or ''}}</td>\n            <td colspan=1 style='font-size:13px;font-weight:bold;width:8%'>Reg.#</td>\n            <td colspan=1 style='font-size:13px'>KM/7503/06</td>\n            <td colspan=1 style='font-size:13px;font-weight:bold;width:7%'>DOB:</td>\n           {% set dob = frappe.db.get_value(\"Employee\", {\"name\": doc.employee}, \"date_of_birth\") %}\n            <td colspan=1 style='font-size:13px;border-right:2px solid black;'>{{frappe.utils.format_date(dob) or ''}}</td>\n        </tr>\n        <tr>\n            <td colspan=1 style=\"border-left:2px solid black;font-size:13px;font-weight:bold\">Name:</td>\n            <td colspan=1 style='font-size:'>{{doc.employee_name}}</td>\n            <td colspan=1 style='font-size:;font-weight:bold'>Days Worked:</td>\n            <td colspan=1 style='font-size:13px'>{{doc.payment_days or ''}}</td>\n            <td colspan=1 style='font-size:13px;font-weight:bold'>UAN #:</td>\n            {% set pf_no = frappe.db.get_value(\"Employee\", {\"name\": doc.employee}, \"uan_no\") %}\n            <td colspan=1 style='font-size:13px'>{{pf_no or ''}}</td>\n            <td colspan=1 style='font-size:13px;font-weight:bold'>DOJ:</td>\n           {% set doj = frappe.db.get_value(\"Employee\", {\"name\": doc.employee}, \"date_of_joining\") %}\n            <td colspan=1 style='font-size:13px;border-right:2px solid black;'>{{frappe.utils.format_date(doj) or ''}}</td>\n        </tr>\n        <tr>\n            <td colspan=1 style=\"border-left:2px solid black;font-size:13px;font-weight:bold\">Designation:</td>\n            <td colspan=1 style='font-size:13px'>{{doc.designation or ''}}</td>\n            <td colspan=1 style='font-size:13px;font-weight:bold'>Weekly Off:</td>\n            <td colspan=1 style='font-size:13px'>{{doc.custom_weekly_off or ''}}</td>\n            <td colspan=1 style='font-size:13px;font-weight:bold'>ESI #:</td>\n            {% set esi_no = frappe.db.get_value(\"Employee\", {\"name\": doc.employee}, \"esi_no\") %}\n            <td colspan=1 style='font-size:13px'>{{esi_no or ''}}</td>\n            <td colspan=1 style='font-size:13px;font-weight:bold'>A/c #:</td>\n            <td colspan=1 style='font-size:13px;border-right:2px solid black;'>{{doc.bank_account_no or ''}}</td>\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold;text-align:center\"></td>\n            <td colspan=1 style=\"border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold;text-align:center\">ACTUAL</td>\n            <td colspan=1 style=\"border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold;text-align:center\">EARNINGS</td>\n            <td colspan=3 style=\"border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold;text-align:center\">DEDUCTIONS</td>\n            <td colspan=1 style=\"border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold;text-align:center\">AMOUNT/RS</td>\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Basic Wages</td>\n            <td colspan=1 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;;text-align:right;\">{{ (\"{:,.2f}\".format(doc.custom_basic) or '')}}</td>\n            {% set basic = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Basic\"}, \"amount\") %}\n            {% if basic is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(basic) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Provident Fund</td>\n            {% set pf = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Provident Fund\"}, \"amount\") %}\n            {% if pf is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(pf) }}</td>\n            {% endif %}\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Dearness Allowance</td>\n            <td colspan=1 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;text-align:right\">{{\"{:,.2f}\".format(doc.custom_dearness_allowance) or ''}}</td>\n            {% set da = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Dearness Allowance\"}, \"amount\") %}\n            {% if da is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(da) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">PF (Voluntry Contribution)</td>\n                {% set pfvc = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"PF (Voluntry Contribution)\"}, \"amount\" )%}\n            {% if pfvc is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(pfvc) }}</td>\n            {% endif %}\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">HRA</td>\n            <td colspan=1 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;text-align:right\">{{\"{:,.2f}\".format(doc.custom_house_rent_allowance) or ''}}</td>\n            {% set hra = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"House Rent Allowance\"}, \"amount\") %}\n            {% if hra is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(hra) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Employee State Insurance</td>\n            {% set esi = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Employee State Insurance\"}, \"amount\") %}\n            {% if esi is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(esi) }}</td>\n            {% endif %}\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Washing Allowance</td>\n            <td colspan=1 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;text-align:right\">{{\"{:,.2f}\".format(doc.custom_washing_allowance) or ''}}</td>\n            {% set wa = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Washing Allowance\"}, \"amount\") %}\n            {% if wa is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(wa) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Company Advance</td>\n            {% set adv = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Advance\"}, \"amount\") %}\n            {% if adv is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(adv) }}</td>\n            {% endif %}\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Conveyance Allowance</td>\n            <td colspan=1 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;text-align:right\">{{\"{:,.2f}\".format(doc.custom_conveyance_allowance) or ''}}</td>\n            {% set ca = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Conveyance Allowance\"}, \"amount\") %}\n            {% if ca is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(ca) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">IOB Loan</td>\n            {% set pf = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"\"}, \"amount\") %}\n            {% if pf is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(pf) }}</td>\n            {% endif %}\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Educational Allowance</td>\n            <td colspan=1 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;text-align:right\">{{\"{:,.2f}\".format(doc.custom_education_allowance) or ''}}</td>\n            {% set ea = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Education Allowance\"}, \"amount\") %}\n            {% if ea is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(ea) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Canteen</td>\n            {% set ct = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Canteen\"}, \"amount\") %}\n            {% if ct is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(ct) }}</td>\n            {% endif %}\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Special Allowance</td>\n            <td colspan=1 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;text-align:right\">{{\"{:,.2f}\".format(doc.custom_special_allowance)}}</td>\n            {% set sa = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Special Allowance\"}, \"amount\") %}\n            {% if sa is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(sa) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Other Debit</td>\n            {% set od = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Other Deduction\"}, \"amount\") %}\n            {% if od is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(od) }}</td>\n            {% endif %}\n            </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Extra Wages & Incentives</td>\n            <td colspan=1 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% set ewi = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Overtime Amount\"}, \"amount\") %}\n            {% if ewi is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(ewi) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Uniform</td>\n            {% set uni = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Uniform\"}, \"amount\") or 0 %}\n            {% if uni is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(uni) }}</td>\n            {% endif %}\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Heat Allowance</td>\n            <td colspan=1 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% set ha = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Heat Allowance\"}, \"amount\") %}\n            {% if ha is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(ha) or ' '}}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Shoe Debit</td>\n            {% set shoe = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Shoe Debit\"}, \"amount\")  or 0%}\n            {% if shoe is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(shoe) }}</td>\n            {% endif %}\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Attendance Incentive</td>\n            <td colspan=1 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;text-align:right\"></td>\n            {% set ai = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Attendance Incentive\"}, \"amount\") %}\n            {% if ai is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(ai) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">LWF</td>\n            {% set pf = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Labour Welfare Fund\"}, \"amount\") %}\n            {% if pf is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(pf) }}</td>\n            {% endif %}\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Other Allowance</td>\n            <td colspan=1 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% set oa = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Other Allowance\"}, \"amount\") %}\n            {% if oa is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(oa) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">QR Debit</td>\n            {% set qrd = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"QR Debit\"}, \"amount\") %}\n            {% if qrd is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(qrd) }}</td>\n            {% endif %}\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Special Pay</td>\n            <td colspan=1 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;text-align:right\">{{\"{:,.2f}\".format(doc.custom_special_pay) or ''}}</td>\n            {% set sp = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Special Pay\"}, \"amount\") %}\n            {% if sp is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(sp) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            <td colspan=1 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold;text-align:center\">TOTAL</td>\n            <td colspan=1 style=\"border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:boldtext-align:right;text-align:right\">{{\"{:,.2f}\".format(doc.custom_total_fixed_amount) or ''}}</td>\n            <td colspan=1 style=\"border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold;text-align:right;\">{{\"{:,.2f}\".format(doc.gross_pay) or ''}}</td>\n            <td colspan=3 style=\"border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold;;text-align:center\">TOTAL</td>\n            <td colspan=1 style=\"border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold;text-align:right;\">{{\"{:,.2f}\".format(doc.total_deduction) or ''}}</td>\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold;text-align:center\">NET PAYABLE</td>\n            <td colspan=6 style=\"border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:boldt;text-align:right;\">{{\"{:,.2f}\".format(doc.net_pay) or ''}}</td>\n            \n        </tr></table><br>\n    <table width=100%>\n        {%if doc.leave_details %}\n        {% set earned_leave = doc.leave_details | selectattr('leave_type', 'equalto', 'Earned Leave') | list | first %}\n        {% if earned_leave %}\n            <tr>\n                <td colspan=3 style=\"font-size:13px;\"><b>Total EL Days:</b> {{ earned_leave.total_allocated_leaves }}</td>\n                <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed EL Days:</b> {{ earned_leave.used_leaves }}</td>\n                <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance EL Days:</b> {{ earned_leave.available_leaves }}</td>\n            </tr>\n        {% else %}\n            <tr>\n                <td colspan=3 style=\"font-size:13px;\"><b>Total EL Days:</b> 0</td>\n                <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed EL Days:</b> 0</td>\n                <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance EL Days:</b> 0</td>\n            </tr>\n        {% endif %}\n        {%else%}\n        <tr>\n            <td colspan=3 style=\"font-size:13px;\"><b>Total EL Days:</b> 0</td>\n            <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed EL Days:</b> 0</td>\n            <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance EL Days:</b> 0</td>\n        </tr>\n        {%endif%}\n        {%if doc.leave_details %}\n        {% set sick_leave = doc.leave_details | selectattr('leave_type', 'equalto', 'Sick Leave') | list | first %}\n        {% if sick_leave %}\n            <tr>\n                <td colspan=3 style=\"font-size:13px;\"><b>Total SL Days:</b> {{ sick_leave.total_allocated_leaves }}</td>\n                <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed SL Days:</b> {{ sick_leave.used_leaves }}</td>\n                <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance SL Days:</b> {{ sick_leave.available_leaves }}</td>\n            </tr>\n        {% else %}\n            <tr>\n                <td colspan=3 style=\"font-size:13px;\"><b>Total SL Days:</b> 0</td>\n                <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed SL Days:</b> 0</td>\n                <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance SL Days:</b> 0</td>\n            </tr>\n        {% endif %}\n        {%else%}\n        <tr>\n            <td colspan=3 style=\"font-size:13px;\"><b>Total SL Days:</b> 0</td>\n            <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed SL Days:</b> 0</td>\n            <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance SL Days:</b> 0</td>\n        </tr>\n        {%endif%}\n        {%if doc.leave_details %}\n        {% set comp_leave = doc.leave_details | selectattr('leave_type', 'equalto', 'Compensatory Off') | list | first %}\n        {% if comp_leave %}\n            <tr>\n                <td colspan=3 style=\"font-size:13px;\"><b>Total C-Off Days:</b> {{ comp_leave.total_allocated_leaves }}</td>\n                <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed C-Off Days:</b> {{ comp_leave.used_leaves }}</td>\n                <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance C-Off Days:</b> {{ comp_leave.available_leaves }}</td>\n            </tr>\n        {% else %}\n            <tr>\n                <td colspan=3 style=\"font-size:13px;\"><b>Total C-Off Days:</b> 0</td>\n                <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed C-Off Days:</b> 0</td>\n                <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance C-Off Days:</b> 0</td>\n            </tr>\n        {% endif %}\n        {%else%}\n        <tr>\n            <td colspan=3 style=\"font-size:13px;\"><b>Total C-Off Days:</b> 0</td>\n            <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed C-Off Days:</b> 0</td>\n            <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance C-Off Days:</b> 0</td>\n        </tr>\n        {%endif%}\n        <tr>\n            <td colspan=9 style=\"font-size:13px;\">**This is a computer generated pay slip hence no signature is required</td>\n        </tr>\n    </table>\n</div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-10-07 19:28:15.414549",
  "module": "ONEGENE",
  "name": "PAYSLIP - Apprentice PF",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "Yes"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".print-format{\n    margin-top:35%;\n    line-height:14px;\n    margin-left:5mm;\n    margin-right:5mm;\n    font-family: \"Times New Roman\", Times, serif;\n}",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Salary Slip",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{% if doc.docstatus == 0 %}\n<p style=\"text-align: right;\">DRAFT</p>\n{% endif %}\n<div>\n    <table width=100%>\n        <tr>\n            <td colspan=4 style=\"font-size:15px;font-weight:bold;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;\">WONJIN AUTOPARTS INDIA PVT LTD - MM NAGAR.</td>\n            <td colspan=3 style=\"font-size:15px;font-weight:bold;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;\">PAYSLIP FOR THE MONTH OF </td>\n            <td colspan=1 style=\"font-size:15px;text-align:center;font-weight:bold;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;\">{{frappe.utils.format_date(doc.start_date ,'MMM-yy')}}</td>\n        </tr>\n        <tr>\n            <td colspan=8 style=\"border-left:2px solid black;border-right:2px solid black;\"></td>\n        </tr>\n        <tr>\n            <td colspan=1 style=\"border-left:2px solid black;font-size:13px;font-weight:bold\">E Code:</td>\n            <td colspan=1 style='font-size:13px;width:15%'>{{doc.employee}}</td>\n            <td colspan=1 style='font-size:13px;font-weight:bold'>Department:</td>\n            <td colspan=1 style='font-size:13px'>{{doc.department or ''}}</td>\n            <td colspan=1 style='font-size:13px;font-weight:bold'>Reg.#:</td>\n            <td colspan=1 style='font-size:13px'>KM/7503/06</td>\n            <td colspan=1 style='font-size:13px;font-weight:bold'>DOB:</td>\n           {% set dob = frappe.db.get_value(\"Employee\", {\"name\": doc.employee}, \"date_of_birth\") %}\n            <td colspan=1 style='font-size:13px;border-right:2px solid black;'>{{frappe.utils.format_date(dob) or ''}}</td>\n        </tr>\n        <tr>\n            <td colspan=1 style=\"border-left:2px solid black;font-size:13px;font-weight:bold\">Name:</td>\n            <td colspan=1 style='font-size:13px'>{{doc.employee_name}}</td>\n            <td colspan=1 style='font-size:13px;font-weight:bold'>Days Worked:</td>\n            <td colspan=1 style='font-size:13px'>{{doc.payment_days or ''}}</td>\n            <td colspan=1 style='font-size:13px;font-weight:bold'>UAN #:</td>\n            {% set pf_no = frappe.db.get_value(\"Employee\", {\"name\": doc.employee}, \"uan_no\") %}\n            <td colspan=1 style='font-size:13px'>{{pf_no or ''}}</td>\n            <td colspan=1 style='font-size:13px;font-weight:bold'>DOJ:</td>\n           {% set doj = frappe.db.get_value(\"Employee\", {\"name\": doc.employee}, \"date_of_joining\") %}\n            <td colspan=1 style='font-size:13px;border-right:2px solid black;'>{{frappe.utils.format_date(doj) or ''}}</td>\n        </tr>\n        <tr>\n            <td colspan=1 style=\"border-left:2px solid black;font-size:13px;font-weight:bold\">Designation:</td>\n            <td colspan=1 style='font-size:13px'>{{doc.designation or ''}}</td>\n            <td colspan=1 style='font-size:13px;font-weight:bold'>Weekly Off:</td>\n            <td colspan=1 style='font-size:13px'>{{doc.custom_weekly_off or ''}}</td>\n            <td colspan=1 style='font-size:13px;font-weight:bold'>ESI #:</td>\n            {% set esi_no = frappe.db.get_value(\"Employee\", {\"name\": doc.employee}, \"esi_no\") %}\n            <td colspan=1 style='font-size:13px'>{{esi_no or ''}}</td>\n            <td colspan=1 style='font-size:13px;font-weight:bold'>A/c #:</td>\n            <td colspan=1 style='font-size:13px;border-right:2px solid black;'>{{doc.bank_account_no or ''}}</td>\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold;text-align:center\">PARTICULARS</td>\n            <td colspan=1 style=\"border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold;text-align:center\">FIXED</td>\n            <td colspan=1 style=\"border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold;text-align:center\">EARNINGS</td>\n            <td colspan=3 style=\"border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold;text-align:center\">DEDUCTIONS</td>\n            <td colspan=1 style=\"border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold;text-align:center\">AMOUNT/RS</td>\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Basic & DA</td>\n            <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{\"{:,.2f}\".format(doc.custom_basic_da) or ''}}</td>\n            {% set basic = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Basic & DA\"}, \"amount\") %}\n            {% if basic is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(basic) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Provident Fund</td>\n            {% set pf = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Provident Fund\"}, \"amount\") %}\n            {% if pf is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(pf) }}</td>\n            {% endif %}\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">HRA</td>\n            <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{\"{:,.2f}\".format(doc.custom_house_rent_allowance) or ''}}</td>\n            {% set hra = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"House Rent Allowance\"}, \"amount\") %}\n            {% if hra is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(hra) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">VPF (Voluntry Contribution)</td>\n            {% set pfvc = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Voluntry Provident Fund\"}, \"amount\" or '')%}\n            {% if pfvc is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(pfvc) }}</td>\n            {% endif %}\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">LTA</td>\n            <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{\"{:,.2f}\".format(doc.custom_leave_travel_allowance) or ''}}</td>\n            {% set lta = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Leave Travel Allowance\"}, \"amount\") %}\n            {% if lta is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(lta) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Employee State Insurance</td>\n            {% set esi = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Employee State Insurance\"}, \"amount\") %}\n            {% if esi is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(esi) }}</td>\n            {% endif %}\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Medical & Conveyance Allowance</td>\n            <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{\"{:,.2f}\".format(doc.custom_medical_conveyance_allowance) or ''}}</td>\n            {% set mca = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Medical & Conveyance Allowance\"}, \"amount\") %}\n            {% if mca is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(mca) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Company Advance</td>\n            {% set adv = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Advance\"}, \"amount\") %}\n            {% if adv is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(adv) }}</td>\n            {% endif %}\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Special Pay</td>\n            <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{\"{:,.2f}\".format(doc.custom_special_allowance) or ''}}</td>\n            {% set sp = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Special Pay\"}, \"amount\") %}\n            {% if sp is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(sp) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Bank Loan</td>\n            {% set bl = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Bank Loan\"}, \"amount\") %}\n            {% if bl is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(bl) }}</td>\n            {% endif %}\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Performance Allowance</td>\n            <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{\"{:,.2f}\".format(doc.custom_performance_allowance) or ''}}</td>\n            {% set pa = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Performance Allowance\"}, \"amount\") %}\n            {% if pa is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(pa) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Canteen</td>\n            {% set ct = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Canteen\"}, \"amount\") %}\n            {% if ct is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(ct) }}</td>\n            {% endif %}\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Night Shift Allowance</td>\n            <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% set nsa = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Night Shift Allowance\"}, \"amount\")%}\n            {% if nsa is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(nsa) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Group Insurance</td>\n            {% set gi = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Group Insurance\"}, \"amount\") %}\n            {% if gi is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(gi) }}</td>\n            {% endif %}</tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Other Allowance</td>\n            <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% set oa = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Other Allowance\"}, \"amount\") %}\n            {% if oa is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(oa) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Contribution</td>\n            {% set ct = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Contribution\"}, \"amount\") %}\n            {% if ct is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(ct) }}</td>\n            {% endif %}</tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Stiching Charge</td>\n            <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% set sc = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Stiching Charge\"}, \"amount\") %}\n            {% if sc is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(sc) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Debit</td>\n            {% set dt = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Debit\"}, \"amount\") %}\n            {% if dt is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(dt) }}</td>\n            {% endif %}</tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Birthday Gift</td>\n            <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% set birthday = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Birthday Allowance\"}, \"amount\") %}\n            {% if birthday is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(birthday) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Professional Tax</td>\n            {% set pt = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Professional Tax\"}, \"amount\") %}\n            {% if pt is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(pt) }}</td>\n            {% endif %}\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Travel Allowance</td>\n            <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% set ta = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Travel Allowances\"}, \"amount\") %}\n            {% if ta is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(ta) }}</td>\n            {% endif %}<td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Labour Welfare Fund</td>\n            {% set lwf = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Labour Welfare Fund\"}, \"amount\") %}\n            {% if lwf is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(lwf) }}</td>\n            {% endif %}\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            <td colspan=1 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Marrigae Contribution</td>\n            {% set mrc = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Marriage Contribution\"}, \"amount\") %}\n            {% if mrc is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(mrc) }}</td>\n            {% endif %}</tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            <td colspan=1 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Late Penalty</td>\n            {% set mrc = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Late Penalty\"}, \"amount\") %}\n            {% if mrc is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(mrc) }}</td>\n            {% endif %}</tr>\n        <tr>\n            <td colspan=2 style=\"border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold;text-align:center\">TOTAL</td>\n            <td colspan=1 style=\"text-align:right;text-align:right;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold\">{{\"{:,.2f}\".format(doc.custom_total_fixed_amount) or ''}}</td>\n            <td colspan=1 style=\"text-align:right;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold;\">{{\"{:,.2f}\".format(doc.gross_pay) or ''}}</td>\n            <td colspan=3 style=\"border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold;;text-align:center\">TOTAL</td>\n            <td colspan=1 style=\"text-align:right;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold;\">{{\"{:,.2f}\".format(doc.total_deduction) or ''}}</td>\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold;text-align:center\">NET PAYABLE</td>\n            <td colspan=6 style=\"text-align:right;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold\">{{'{0:,}'.format(doc.rounded_total|int)}}</td>\n            \n        </tr></table><br><br>\n    <table width=100%>\n        {%if doc.leave_details %}\n        {% set earned_leave = doc.leave_details | selectattr('leave_type', 'equalto', 'Earned Leave') | list | first %}\n        {% if earned_leave %}\n            <tr>\n                <td colspan=3 style=\"font-size:13px;\"><b>Total EL Days:</b> {{ earned_leave.total_allocated_leaves }}</td>\n                <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed EL Days:</b> {{ earned_leave.used_leaves }}</td>\n                <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance EL Days:</b> {{ earned_leave.available_leaves }}</td>\n            </tr>\n        {% else %}\n            <tr>\n                <td colspan=3 style=\"font-size:13px;\"><b>Total EL Days:</b> 0</td>\n                <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed EL Days:</b> 0</td>\n                <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance EL Days:</b> 0</td>\n            </tr>\n        {% endif %}\n        {%else%}\n        <tr>\n            <td colspan=3 style=\"font-size:13px;\"><b>Total EL Days:</b> 0</td>\n            <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed EL Days:</b> 0</td>\n            <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance EL Days:</b> 0</td>\n        </tr>\n        {%endif%}\n        {%if doc.leave_details %}\n        {% set sick_leave = doc.leave_details | selectattr('leave_type', 'equalto', 'Sick Leave') | list | first %}\n        {% if sick_leave %}\n            <tr>\n                <td colspan=3 style=\"font-size:13px;\"><b>Total SL Days:</b> {{ sick_leave.total_allocated_leaves }}</td>\n                <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed SL Days:</b> {{ sick_leave.used_leaves }}</td>\n                <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance SL Days:</b> {{ sick_leave.available_leaves }}</td>\n            </tr>\n        {% else %}\n            <tr>\n                <td colspan=3 style=\"font-size:13px;\"><b>Total SL Days:</b> 0</td>\n                <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed SL Days:</b> 0</td>\n                <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance SL Days:</b> 0</td>\n            </tr>\n        {% endif %}\n        {%else%}\n        <tr>\n            <td colspan=3 style=\"font-size:13px;\"><b>Total SL Days:</b> 0</td>\n            <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed SL Days:</b> 0</td>\n            <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance SL Days:</b> 0</td>\n        </tr>\n        {%endif%}\n        {%if doc.leave_details %}\n        {% set comp_leave = doc.leave_details | selectattr('leave_type', 'equalto', 'Compensatory Off') | list | first %}\n        {% if comp_leave %}\n            <tr>\n                <td colspan=3 style=\"font-size:13px;\"><b>Total C-Off Days:</b> {{ comp_leave.total_allocated_leaves }}</td>\n                <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed C-Off Days:</b> {{ comp_leave.used_leaves }}</td>\n                <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance C-Off Days:</b> {{ comp_leave.available_leaves }}</td>\n            </tr>\n        {% else %}\n            <tr>\n                <td colspan=3 style=\"font-size:13px;\"><b>Total C-Off Days:</b> 0</td>\n                <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed C-Off Days:</b> 0</td>\n                <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance C-Off Days:</b> 0</td>\n            </tr>\n        {% endif %}\n        {%else%}\n        <tr>\n            <td colspan=3 style=\"font-size:13px;\"><b>Total C-Off Days:</b> 0</td>\n            <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed C-Off Days:</b> 0</td>\n            <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance C-Off Days:</b> 0</td>\n        </tr>\n        {%endif%}\n        <tr>\n            <td colspan=9 style=\"font-size:13px;\">**This is a computer generated pay slip hence no signature is required</td>\n        </tr>\n    </table>\n</div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-01-11 11:36:58.570664",
  "module": "ONEGENE",
  "name": "PAYSLIP-Staff",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "Yes"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".print-format{\n    margin-top:35%;\n    line-height:14px;\n    margin-left:5mm;\n    margin-right:5mm;\n    font-family: \"Times New Roman\", Times, serif;\n}",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Salary Slip",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{% if doc.docstatus == 0 %}\n<p style=\"text-align: right;\">DRAFT</p>\n{% endif %}\n<div>\n    <table width=100%>\n        <tr>\n            <td colspan=4 style=\"font-size:16px;text-align:center;font-weight:bold;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;\">WONJIN AUTOPARTS INDIA PVT LTD - MM NAGAR.</td>\n            <td colspan=3 style=\"font-size:16px;font-weight:bold;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;\">PAYSLIP - </td>\n            <td colspan=1 style=\"font-size:16px;text-align:center;font-weight:bold;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;\">{{frappe.utils.format_date(doc.start_date ,'MMM-yy')}}</td>\n        </tr>\n        <tr>\n            <td colspan=8 style=\"border-left:2px solid black;border-right:2px solid black;\"></td>\n        </tr>\n        <tr>\n            <td colspan=1 style=\"text-align:left;border-left:2px solid black;font-size:13px;font-weight:bold;width:4%\">Code:</td>\n            <td colspan=1 style='text-align:left;font-size:13px;width:12%'>{{doc.employee}}</td>\n            <td colspan=1 style='text-align:left;font-size:13px;font-weight:bold'>Department:</td>\n            <td colspan=1 style='text-align:left;font-size:13px;width:15%'>{{doc.department or ''}}</td>\n            <td colspan=1 style='text-align:left;font-size:13px;font-weight:bold'>Reg.#:</td>\n            <td colspan=1 style='text-align:left;font-size:13px'>KM/7503/06</td>\n            <td colspan=1 style='text-align:left;font-size:13px;font-weight:bold'>DOB:</td>\n           {% set dob = frappe.db.get_value(\"Employee\", {\"name\": doc.employee}, \"date_of_birth\") %}\n            <td colspan=1 style='text-align:left;font-size:13px;border-right:2px solid black;'>{{frappe.utils.format_date(dob) or ''}}</td>\n        </tr>\n        <tr>\n            <td colspan=1 style=\"text-align:left;border-left:2px solid black;font-size:13px;font-weight:bold\">Name:</td>\n            <td colspan=1 style='text-align:left;font-size:'>{{doc.employee_name}}</td>\n            <td colspan=1 style='text-align:left;font-size:;font-weight:bold'>Days Worked:</td>\n            <td colspan=1 style='text-align:left;font-size:13px'>{{doc.payment_days or ''}}</td>\n            <td colspan=1 style='text-align:left;font-size:13px;font-weight:bold'>UAN #:</td>\n            {% set pf_no = frappe.db.get_value(\"Employee\", {\"name\": doc.employee}, \"uan_no\") %}\n            <td colspan=1 style='text-align:left;font-size:13px'>{{pf_no or ''}}</td>\n            <td colspan=1 style='text-align:left;font-size:13px;font-weight:bold'>DOJ:</td>\n           {% set doj = frappe.db.get_value(\"Employee\", {\"name\": doc.employee}, \"date_of_joining\") %}\n            <td colspan=1 style='text-align:left;font-size:13px;border-right:2px solid black;'>{{frappe.utils.format_date(doj) or ''}}</td>\n        </tr>\n        <tr>\n            <td colspan=1 style=\"text-align:left;border-left:2px solid black;font-size:13px;font-weight:bold;width:4%\">Designation:</td>\n            <td colspan=1 style='text-align:left;font-size:13px'>{{doc.designation or ''}}</td>\n            <td colspan=1 style='text-align:left;font-size:13px;font-weight:bold'>Weekly Off:</td>\n            <td colspan=1 style='text-align:left;font-size:13px'>{{doc.custom_weekly_off or ''}}</td>\n            <td colspan=1 style='text-align:left;font-size:13px;font-weight:bold'>ESI #:</td>\n            {% set esi_no = frappe.db.get_value(\"Employee\", {\"name\": doc.employee}, \"esi_no\") %}\n            <td colspan=1 style='text-align:left;font-size:13px'>{{esi_no or ''}}</td>\n            <td colspan=1 style='text-align:left;font-size:13px;font-weight:bold'>A/c #:</td>\n            <td colspan=1 style='text-align:left;font-size:13px;border-right:2px solid black;'>{{doc.bank_account_no or ''}}</td>\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold;text-align:center\"></td>\n            <td colspan=1 style=\"border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold;text-align:center\">ACTUAL</td>\n            <td colspan=1 style=\"border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold;text-align:center\">EARNINGS</td>\n            <td colspan=3 style=\"border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold;text-align:center\">DEDUCTIONS</td>\n            <td colspan=1 style=\"border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold;text-align:center\">AMOUNT/RS</td>\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Basic Wages</td>\n            <td colspan=1 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;;text-align:right;\">{{ \"{:,.2f}\".format(doc.custom_basic) or ''}}</td>\n            {% set basic = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Basic\"}, \"amount\") %}\n            {% if basic is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(basic) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Provident Fund</td>\n            {% set pf = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Provident Fund\"}, \"amount\") %}\n            {% if pf is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(pf) }}</td>\n            {% endif %}\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Dearness Allowance</td>\n            <td colspan=1 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;;text-align:right;\">{{\"{:,.2f}\".format(doc.custom_dearness_allowance) or ''}}</td>\n            {% set da = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Dearness Allowance\"}, \"amount\") %}\n            {% if da is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(da) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">PF (Voluntry Contribution)</td>\n            {% set pfvc = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"PF (Voluntry Contribution)\"}, \"amount\") %}\n            {% if pfvc is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(pfvc) }}</td>\n            {% endif %}\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">HRA</td>\n            <td colspan=1 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;;text-align:right;\">{{\"{:,.2f}\".format(doc.custom_house_rent_allowance) or ''}}</td>\n            {% set hra = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"House Rent Allowance\"}, \"amount\") %}\n            {% if hra is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(hra) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Employee State Insurance</td>\n            {% set esi = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Employee State Insurance\"}, \"amount\") %}\n            {% if esi is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(esi) }}</td>\n            {% endif %}\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Washing Allowance</td>\n            <td colspan=1 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;;text-align:right;\">{{\"{:,.2f}\".format(doc.custom_washing_allowance) or ''}}</td>\n            {% set wa = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Washing Allowance\"}, \"amount\") %}\n            {% if wa is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(wa) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Company Advance</td>\n            {% set adv = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Advance\"}, \"amount\") %}\n            {% if adv is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(adv) }}</td>\n            {% endif %}\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Conveyance Allowance</td>\n            <td colspan=1 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;;text-align:right;\">{{\"{:,.2f}\".format(doc.custom_conveyance_allowance) or ''}}</td>\n            {% set ca = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Conveyance Allowance\"}, \"amount\") %}\n            {% if ca is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(ca) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Bank Loan</td>\n            {% set bl = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Bank Loan\"}, \"amount\") %}\n            {% if bl is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(bl) }}</td>\n            {% endif %}\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Educational Allowance</td>\n            <td colspan=1 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;;text-align:right;\">{{\"{:,.2f}\".format(doc.custom_education_allowance) or ''}}</td>\n            {% set ea = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Education Allowance\"}, \"amount\") %}\n            {% if ea is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(ea) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Canteen</td>\n            {% set ct = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Canteen\"}, \"amount\") %}\n            {% if ct is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(ct) }}</td>\n            {% endif %}\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Performance Allowance</td>\n            <td colspan=1 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;;text-align:right;\">{{\"{:,.2f}\".format(doc.custom_performance_allowance) or ''}}</td>\n            {% set pa = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Performance Allowance\"}, \"amount\") %}\n            {% if pa is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(pa) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Other Debit</td>\n            {% set od = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Other Deduction\"}, \"amount\") %}\n            {% if od is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(od) }}</td>\n            {% endif %}\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Extra Wages & Incentives</td>\n            <td colspan=1 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% set ewi = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Overtime Amount\"}, \"amount\") %}\n            {% if ewi is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(ewi) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Professional Tax</td>\n            {% set pt = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Professional Tax\"}, \"amount\") %}\n            {% if pt is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(pt) }}</td>\n            {% endif %}\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Heat Allowance</td>\n            <td colspan=1 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% set ha = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Heat Allowance\"}, \"amount\") %}\n            {% if ha is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(ha) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Labour Welfare Fund</td>\n            {% set lwf = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Labour Welfare Fund\"}, \"amount\") %}\n            {% if lwf is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(lwf) }}</td>\n            {% endif %}\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Attendance Incentive</td>\n            <td colspan=1 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;;text-align:right;\"></td>\n            {% set ai = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Attendance Incentive\"}, \"amount\") %}\n            {% if ai is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(ai) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">QR Debit</td>\n            {% set qrb = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"QR Debit\"}, \"amount\") %}\n            {% if qrb is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(qrb) }}</td>\n            {% endif %}\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Other Allowance</td>\n            <td colspan=1 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% set oa = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Other Allowance\"}, \"amount\") %}\n            {% if oa is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(oa) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Group Insurance</td>\n            {% set gi = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Group Insurance\"}, \"amount\") %}\n            {% if gi is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(gi) }}</td>\n            {% endif %}\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Allowances</td>\n            <td colspan=1 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% set aw = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Special Allowance\"}, \"amount\") %}\n            {% if aw is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(aw) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Contribution</td>\n            {% set c = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Contribution\"}, \"amount\") %}\n            {% if c is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(c) }}</td>\n            {% endif %}\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Night Shift Allowance</td>\n            <td colspan=1 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% set nsa = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Night Shift Allowance\"}, \"amount\") %}\n            {% if nsa is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(nsa) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Late Penalty</td>\n            {% set mrc = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Late Penalty\"}, \"amount\") %}\n            {% if mrc is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(mrc) }}</td>\n            {% endif %}\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\">Birthday Gift</td>\n            <td colspan=1 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% set birthday = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Birthday Allowance\"}, \"amount\") %}\n            {% if birthday is none %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;border-left:2px solid black;border-right:2px solid black;font-size:13px;\">{{ \"{:,.2f}\".format(birthday) }}</td>\n            {% endif %}\n            <td colspan=3 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n            <td colspan=1 style=\"border-left:2px solid black;border-right:2px solid black;font-size:13px;\"></td>\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold;text-align:center\">TOTAL</td>\n            <td colspan=1 style=\"border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold;text-align:right;\">{{\"{:,.2f}\".format(doc.custom_basic + doc.custom_dearness_allowance + doc.custom_house_rent_allowance + doc.custom_washing_allowance + doc.custom_conveyance_allowance + doc.custom_education_allowance + doc.custom_performance_allowance) }}</td>\n            <td colspan=1 style=\"text-align:right;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold;\">{{\"{:,.2f}\".format(doc.gross_pay) or ''}}</td>\n            <td colspan=3 style=\"border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold;;text-align:center\">TOTAL</td>\n            <td colspan=1 style=\"text-align:right;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold;\">{{\"{:,.2f}\".format(doc.total_deduction) or ''}}</td>\n        </tr>\n        <tr>\n            <td colspan=2 style=\"border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold;text-align:center\">NET PAYABLE</td>\n            <td colspan=6 style=\"text-align:right;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;font-size:13px;font-weight:bold\">{{\"{:,.2f}\".format(doc.rounded_total)}}</td>\n            \n        </tr></table><br>\n  \n    <table width=100%>\n        {%if doc.leave_details %}\n        {% set earned_leave = doc.leave_details | selectattr('leave_type', 'equalto', 'Earned Leave') | list | first %}\n        {% if earned_leave %}\n            <tr>\n                <td colspan=3 style=\"font-size:13px;\"><b>Total EL Days:</b> {{ earned_leave.total_allocated_leaves }}</td>\n                <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed EL Days:</b> {{ earned_leave.used_leaves }}</td>\n                <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance EL Days:</b> {{ earned_leave.available_leaves }}</td>\n            </tr>\n        {% else %}\n            <tr>\n                <td colspan=3 style=\"font-size:13px;\"><b>Total EL Days:</b> 0</td>\n                <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed EL Days:</b> 0</td>\n                <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance EL Days:</b> 0</td>\n            </tr>\n        {% endif %}\n        {%else%}\n        <tr>\n            <td colspan=3 style=\"font-size:13px;\"><b>Total EL Days:</b> 0</td>\n            <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed EL Days:</b> 0</td>\n            <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance EL Days:</b> 0</td>\n        </tr>\n        {%endif%}\n        {%if doc.leave_details %}\n        {% set sick_leave = doc.leave_details | selectattr('leave_type', 'equalto', 'Sick Leave') | list | first %}\n        {% if sick_leave %}\n            <tr>\n                <td colspan=3 style=\"font-size:13px;\"><b>Total SL Days:</b> {{ sick_leave.total_allocated_leaves }}</td>\n                <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed SL Days:</b> {{ sick_leave.used_leaves }}</td>\n                <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance SL Days:</b> {{ sick_leave.available_leaves }}</td>\n            </tr>\n        {% else %}\n            <tr>\n                <td colspan=3 style=\"font-size:13px;\"><b>Total SL Days:</b> 0</td>\n                <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed SL Days:</b> 0</td>\n                <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance SL Days:</b> 0</td>\n            </tr>\n        {% endif %}\n        {%else%}\n        <tr>\n            <td colspan=3 style=\"font-size:13px;\"><b>Total SL Days:</b> 0</td>\n            <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed SL Days:</b> 0</td>\n            <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance SL Days:</b> 0</td>\n        </tr>\n        {%endif%}\n        {%if doc.leave_details %}\n        {% set comp_leave = doc.leave_details | selectattr('leave_type', 'equalto', 'Compensatory Off') | list | first %}\n        {% if comp_leave %}\n            <tr>\n                <td colspan=3 style=\"font-size:13px;\"><b>Total C-Off Days:</b> {{ comp_leave.total_allocated_leaves }}</td>\n                <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed C-Off Days:</b> {{ comp_leave.used_leaves }}</td>\n                <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance C-Off Days:</b> {{ comp_leave.available_leaves }}</td>\n            </tr>\n        {% else %}\n            <tr>\n                <td colspan=3 style=\"font-size:13px;\"><b>Total C-Off Days:</b> 0</td>\n                <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed C-Off Days:</b> 0</td>\n                <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance C-Off Days:</b> 0</td>\n            </tr>\n        {% endif %}\n        {%else%}\n        <tr>\n            <td colspan=3 style=\"font-size:13px;\"><b>Total C-Off Days:</b> 0</td>\n            <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed C-Off Days:</b> 0</td>\n            <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance C-Off Days:</b> 0</td>\n        </tr>\n        {%endif%}\n        <tr>\n            <td colspan=9 style=\"font-size:13px;\">**This is a computer generated pay slip hence no signature is required</td>\n        </tr>\n    </table>\n</div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-04-02 15:53:58.028498",
  "module": "ONEGENE",
  "name": "PAYSLIP - Operators",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "Yes"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".print-format{\n    margin-top:35%;\n    line-height:14px;\n    font-family: \"Times New Roman\", Times, serif;\n}",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Salary Slip",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{% if doc.docstatus == 0 %}\n<p style=\"text-align: right;\">DRAFT</p>\n{% endif %}\n<div>\n    <table width=100%>\n        <tr>\n            <td colspan=4 style=\"font-size:14px;font-weight:bold;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;-bottom:2px solid black;\">STIPEND FOR THE MONTH OF</td>\n            <td colspan=1 style=\"font-size:14px;font-weight:bold;border-bottom:2px solid black;border-top:2px solid black;\">{{frappe.utils.format_date(doc.start_date ,'MMM-yyyy')}}</td>\n            {%set esi_no= frappe.db.get_value(\"Employee\",{\"name\":doc.employee},\"esi_no\")%}\n            <td colspan=1 style=\"font-size:14px;font-weight:bold;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">ESI No: {{ esi or '' }}</td>\n        </tr>\n        <tr>\n            <td colspan=4 style=\"font-size:14px;font-weight:bold;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;\">{{doc.employee_name or ''}}</td>\n            <td colspan=1 style=\"font-size:14px;text-align:right;font-weight:bold;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">EMP No.</td>\n             <td colspan=1 style=\"font-size:14px;text-align:right;font-weight:bold;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{doc.employee}}</td>\n        </tr>\n        <tr>\n            <td colspan=1 rowspan=2 style=\"font-size:13px;text-align:center;font-weight:bold;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;\">PARTICULARS</td>\n            <td colspan=1 rowspan=2 style=\"font-size:13px;text-align:center;font-weight:bold;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">FIXED</td>\n            <td colspan=2 style=\"font-size:13px;text-align:center;font-weight:bold;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">EARNINGS</td>\n            <td colspan=1 rowspan=2 style=\"font-size:13px;text-align:center;font-weight:bold;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">DEDUCTIONS</td>\n            <td colspan=1 rowspan=2 style=\"font-size:13px;text-align:center;font-weight:bold;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">AMOUNT</td>\n        </tr>\n        <tr>\n            <td colspan=1 style=\"font-size:13px;text-align:center;font-weight:bold;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;\">PAYMENT DAYS</td>\n            <td colspan=1 style=\"font-size:13px;text-align:center;font-weight:bold;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;\">AMOUNT</td>\n        </tr>\n        <tr>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;\">STIPEND</td>\n            {% set st = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Basic\"}, \"amount\") or 0 %}\n            {% set dst = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Dearness Allowance\"}, \"amount\") or 0 %}\n            {% set tot = (st or 0) + (dst or 0) %}\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{ \"{:,.2f}\".format(doc.custom_total_fixed_amount) or '' }}</td>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{ doc.payment_days }}</td>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{ \"{:,.2f}\".format(tot) }}</td>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">EMPLOYEE STATE INSURANCE</td>\n            {% set esi = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Employee State Insurance\"}, \"amount\") or 0 %}\n            <td colspan=1 style=\"text-align:right;font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{ \"{:,.2f}\".format(esi) }}</td>\n        </tr>\n\n        \n        <tr>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;\">OT Hrs</td>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\"></td>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{doc.custom_overtime_hours or ''}}</td>\n            {% set ot = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Overtime Amount\"}, \"amount\") or 0 %}\n            {% if ot is none %}\n                <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\"></td>\n            {% else %}\n                <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{ \"{:,.2f}\".format(ot) }}</td>\n            {% endif %}\n            <!--<td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{esi or ''}}</td>-->\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">ADVANCE</td>\n            {% set adv = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Advance\"}, \"amount\") or 0 %}\n            {% if adv is none %}\n                <td colspan=1 style=\"text-align:right;font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{ \"{:,.2f}\".format(adv) }}</td>\n            {% endif %}\n            <!--<td colspan=1 style=\"text-align:right;font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{esi or ''}}</td>-->\n        </tr>\n        <tr>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;\">OTHERS</td>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\"></td>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\"></td>\n            {% set oa = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Other Allowance\"}, \"amount\") or 0 %}\n            {% if oa is none %}\n                <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\"></td>\n            {% else %}\n                <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{ \"{:,.2f}\".format(oa) }}</td>\n            {% endif %}\n            <!--<td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{ esi or ''}}</td>-->\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">EB CHARGES</td>\n            {% set eb = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"EB Charges\"}, \"amount\") %}\n              {% if eb is none %}\n                <td colspan=1 style=\"text-align:right;font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{ \"{:,.2f}\".format(eb) }}</td>\n            {% endif %}\n            <!--<td colspan=1 style=\"text-align:right;font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{esi or ''}}</td>-->\n        </tr>\n        <tr>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;\">HEAT ALLOWANCE</td>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\"></td>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\"></td>\n            {% set ha = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Heat Allowance\"}, \"amount\") %}\n            {% if ha is none %}\n                <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\"></td>\n            {% else %}\n                <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{ \"{:,.2f}\".format(ha) }}</td>\n            {% endif %}\n            <!--<td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{esi or ''}}</td>-->\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">MAINTENANCE CHARGE</td>\n            {% set mc = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Maintance Charge\"}, \"amount\") %}\n              {% if mc is none %}\n                <td colspan=1 style=\"text-align:right;font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{ \"{:,.2f}\".format(mc) }}</td>\n            {% endif %}\n            <!--<td colspan=1 style=\"text-align:right;font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{esi or ''}}</td>-->\n        </tr>\n        <tr>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;\">SPECIAL ALLOWANCES</td>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\"></td>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\"></td>\n            {% set sa = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Special Allowance\"}, \"amount\") %}\n            {% if sa is none %}\n                <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\"></td>\n            {% else %}\n                <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{ \"{:,.2f}\".format(sa) }}</td>\n            {% endif %}\n            <!--<td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{st or ''}}</td>-->\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">SHOE DEBIT</td>\n            {% set sd = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"SHOE DEBIT\"}, \"amount\") %}\n              {% if sd is none %}\n                <td colspan=1 style=\"text-align:right;font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{ \"{:,.2f}\".format(sd) }}</td>\n            {% endif %}\n            <!--<td colspan=1 style=\"text-align:right;font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{esi or ''}}</td>-->\n        </tr>\n        <tr>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;\"></td>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\"></td>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\"></td>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\"></td>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">T-SHIRT</td>\n            {% set uni = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Uniform\"}, \"amount\") %}\n              {% if uni is none %}\n                <td colspan=1 style=\"text-align:right;font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{ \"{:,.2f}\".format(uni) }}</td>\n            {% endif %}\n            <!--<td colspan=1 style=\"text-align:right;font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{esi or ''}}</td>-->\n        </tr>\n        <tr>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;\"></td>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\"></td>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\"></td>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\"></td>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">CANTEEN</td>\n            {% set canteen = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Canteen\"}, \"amount\") %}\n            {% if canteen is none %}\n                <td colspan=1 style=\"text-align:right;font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">0</td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{ \"{:,.2f}\".format(canteen) }}</td>\n            {% endif %}\n\n            <!--<td colspan=1 style=\"text-align:right;font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{esi or ''}}</td>-->\n        </tr>\n        <tr>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;\"></td>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\"></td>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\"></td>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\"></td>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">CONTRIBUTION</td>\n            {% set con = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Contribution\"}, \"amount\") %}\n             {% if con is none %}\n                <td colspan=1 style=\"text-align:right;font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{ \"{:,.2f}\".format(con) }}</td>\n            {% endif %}\n            <!--<td colspan=1 style=\"text-align:right;font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{esi or ''}}</td>-->\n        </tr>\n        <tr>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;\"></td>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\"></td>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\"></td>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\"></td>\n            <td colspan=1 style=\"font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">Late Penalty</td>\n            {% set con = frappe.db.get_value(\"Salary Detail\", {\"parent\": doc.name, \"salary_component\": \"Late Penalty\"}, \"amount\") %}\n             {% if con is none %}\n                <td colspan=1 style=\"text-align:right;font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\"></td>\n            {% else %}\n                <td colspan=1 style=\"text-align:right;font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{ \"{:,.2f}\".format(con) }}</td>\n            {% endif %}\n            <!--<td colspan=1 style=\"text-align:right;font-size:13px;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{esi or ''}}</td>-->\n        </tr>\n        <tr>\n            <td colspan=1 style=\"font-size:13px;font-weight:bold;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;\">TOTAL</td>\n            <td colspan=1 style=\"font-size:13px;font-weight:bold;text-align:right;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{\"{:,.2f}\".format( doc.custom_total_fixed_amount) or ''}}</td>\n            <td colspan=1 style=\"font-size:13px;font-weight:bold;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\"></td>\n            <td colspan=1 style=\"font-size:13px;font-weight:bold;text-align:right;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{\"{:,.2f}\".format(doc.gross_pay) or ''}}</td>\n            <td colspan=1 style=\"font-size:13px;font-weight:bold;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">TOTAL</td>\n            <td colspan=1 style=\"font-size:13px;font-weight:bold;text-align:right;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{\"{:,.2f}\".format(doc.total_deduction) or ''}}</td>\n        </tr>\n        <tr>\n            <td colspan=3 style=\"font-size:13px;font-weight:bold;border-bottom:2px solid black;border-left:2px solid black;border-top:2px solid black;border-right:2px solid black;\">SB A/C No:</td>\n            <td colspan=1 style=\"font-size:13px;text-align:right;font-weight:bold;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{doc.bank_account_no or ''}}</td>\n            <td colspan=1 style=\"font-size:13px;font-weight:bold;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">NET PAY</td>\n            <td colspan=1 style=\"font-size:13px;text-align:right;font-weight:bold;border-bottom:2px solid black;border-top:2px solid black;border-left:2px solid black;border-right:2px solid black;\">{{\"{:,.2f}\".format(doc.rounded_total) or ''}}</td>\n        </tr>\n    </table><br><br>\n    <table width=100%>\n        {%if doc.leave_details %}\n        {% set earned_leave = doc.leave_details | selectattr('leave_type', 'equalto', 'Earned Leave') | list | first %}\n        {% if earned_leave %}\n            <tr>\n                <td colspan=3 style=\"font-size:13px;\"><b>Total EL Days:</b> {{ earned_leave.total_allocated_leaves }}</td>\n                <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed EL Days:</b> {{ earned_leave.used_leaves }}</td>\n                <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance EL Days:</b> {{ earned_leave.available_leaves }}</td>\n            </tr>\n        {% else %}\n            <tr>\n                <td colspan=3 style=\"font-size:13px;\"><b>Total EL Days:</b> 0</td>\n                <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed EL Days:</b> 0</td>\n                <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance EL Days:</b> 0</td>\n            </tr>\n        {% endif %}\n        {%else%}\n        <tr>\n            <td colspan=3 style=\"font-size:13px;\"><b>Total EL Days:</b> 0</td>\n            <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed EL Days:</b> 0</td>\n            <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance EL Days:</b> 0</td>\n        </tr>\n        {%endif%}\n        {%if doc.leave_details %}\n        {% set sick_leave = doc.leave_details | selectattr('leave_type', 'equalto', 'Sick Leave') | list | first %}\n        {% if sick_leave %}\n            <tr>\n                <td colspan=3 style=\"font-size:13px;\"><b>Total SL Days:</b> {{ sick_leave.total_allocated_leaves }}</td>\n                <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed SL Days:</b> {{ sick_leave.used_leaves }}</td>\n                <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance SL Days:</b> {{ sick_leave.available_leaves }}</td>\n            </tr>\n        {% else %}\n            <tr>\n                <td colspan=3 style=\"font-size:13px;\"><b>Total SL Days:</b> 0</td>\n                <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed SL Days:</b> 0</td>\n                <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance SL Days:</b> 0</td>\n            </tr>\n        {% endif %}\n        {%else%}\n        <tr>\n            <td colspan=3 style=\"font-size:13px;\"><b>Total SL Days:</b> 0</td>\n            <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed SL Days:</b> 0</td>\n            <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance SL Days:</b> 0</td>\n        </tr>\n        {%endif%}\n        {%if doc.leave_details %}\n        {% set comp_leave = doc.leave_details | selectattr('leave_type', 'equalto', 'Compensatory Off') | list | first %}\n        {% if comp_leave %}\n            <tr>\n                <td colspan=3 style=\"font-size:13px;\"><b>Total C-Off Days:</b> {{ comp_leave.total_allocated_leaves }}</td>\n                <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed C-Off Days:</b> {{ comp_leave.used_leaves }}</td>\n                <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance C-Off Days:</b> {{ comp_leave.available_leaves }}</td>\n            </tr>\n        {% else %}\n            <tr>\n                <td colspan=3 style=\"font-size:13px;\"><b>Total C-Off Days:</b> 0</td>\n                <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed C-Off Days:</b> 0</td>\n                <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance C-Off Days:</b> 0</td>\n            </tr>\n        {% endif %}\n        {%else%}\n        <tr>\n            <td colspan=3 style=\"font-size:13px;\"><b>Total C-Off Days:</b> 0</td>\n            <td colspan=3 style=\"font-size:13px;text-align:center\"><b>Availed C-Off Days:</b> 0</td>\n            <td colspan=3 style=\"font-size:13px;text-align:right\"><b>Balance C-Off Days:</b> 0</td>\n        </tr>\n        {%endif%}\n        <tr>\n            <td colspan=9 style=\"font-size:13px;\">**This is a computer generated pay slip hence no signature is required</td>\n        </tr>\n    </table>\n</div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-10-10 13:30:33.740197",
  "module": "ONEGENE",
  "name": "PAYSLIP - Apprentice",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "Yes"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 1,
  "doc_type": "Attendance - Live",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<div>\n     {%set da = get_data_system(doc.date)%}\n    {{da }}\n</div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-06-24 12:58:23.321017",
  "module": "ONEGENE",
  "name": "Live Attendance",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Reports Dashboard",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<meta name=\"pdfkit-orientation\" content=\"Landscape\" />\n\n<div class=\"print-heading\"><h2 style=\"text-transform:uppercase\"><b><center>Attendance Report</center></b></h2></div>\n{% set data = get_data_system(doc.date)%}\n{{data}}",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-06-24 19:13:37.813563",
  "module": "ONEGENE",
  "name": "Live -Attendance",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 0,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Advance Shipping Note",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<div class=\\\"\\\">\\n    <div style=\\\"display: flex;\\\">\\n        <div class=\\\"\\\">\\n        <h2>\\n\\t    <b>SUPPLIER DELIVERY NOTE</b>\\n\\t\\t<br></h2>\\n\\t\\t<h2><b>{{ doc.name }}</b></h2>\\n        <p>Date & Time: {{ frappe.format(doc.datetime,{\\\"fieldtype\\\":'Datetime'})}}</p>\\n    </div>\\n    <div class=\\\"ml-auto\\\"></div>\\n        <div><img src=\\\"https://api.qrserver.com/v1/create-qr-code/?size=150x150&data={{ doc.gate_entry_url }}\\\" alt=\\\"QR Code\\\" />\\n    </div>\\n\\t</div>\\n\\t<hr>\\n</div>\\n\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<p><b>Billing Address: </b></p>\\n<p style=\\\"text-transform: uppercase; font-size: 13px;\\\"><b>{{doc.supplier_name1 or ''}} ({{doc.supplier_name or ''}})</b></p>\\n{% set address = frappe.db.get_value(\\\"Supplier\\\",{\\\"supplier_name\\\":doc.supplier_name1},\\\"primary_address\\\") %}\\n{% if doc.address_display %}\\n<p>{{doc.address_display or ''}}</p>\\n{% else %}\\n<p>{{address or ''}}</p>\\n{% endif %}\\n\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<p><b>Shipping Address: </b></p>\\n<p style=\\\"text-transform: uppercase;font-size: 13px\\\"><b>{{doc.company}}</b></p>\\n<p>{{ (doc.billing_address_display or '').replace('\\\\n', '<br>') | safe }}</p>\\n\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Item Details\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<p class=\\\"mt-4\\\"><b>Supplier DC Number: {{doc.supplier_delivery_note or ''}}</b></p>\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<table width = 100% solid black;>\\r\\n    {% if doc.item_table %}\\r\\n       <thead>\\r\\n      <tr>\\r\\n       <td style=\\\"border: solid 1px black;font-size:11px;text-align:center;background-color:#f68b1f;color:white;width:2px;font-weight:bold;\\\">S#</td> \\r\\n       <td style=\\\"border: solid 1px black;text-align:center;font-size:11px;background-color:#f68b1f;color:white;font-weight:bold;\\\">Item Code</td>\\r\\n       <td style=\\\"border: solid 1px black;text-align:center;font-size:11px;background-color:#f68b1f;color:white;font-weight:bold;\\\">Item Name</td>\\r\\n        <td style=\\\"border: solid 1px black;text-align:center;font-size:11px;background-color:#f68b1f;color:white;font-weight:bold;\\\">HSN/SAC</td>\\r\\n        <td style=\\\"border: solid 1px black;text-align:center;font-size:11px;background-color:#f68b1f;color:white;font-weight:bold;\\\">Qty</td>\\r\\n        <td style=\\\"border: solid 1px black;text-align:center;font-size:11px;background-color:#f68b1f;color:white;font-weight:bold;\\\">Bin / Box</td>\\r\\n        <td style=\\\"border: solid 1px black;text-align:center;font-size:11px;background-color:#f68b1f;color:white;font-weight:bold;\\\">UOM</td>\\r\\n        <td style=\\\"border: solid 1px black;text-align:center;font-size:11px;background-color:#f68b1f;color:white;font-weight:bold;\\\">Remarks</td>\\r\\n      </tr>\\r\\n             </thead>\\r\\n\\r\\n       {% for i in doc.item_table %}\\r\\n  <tr>\\r\\n     <td style=\\\"border: solid 1px black;font-size:10px;\\\">{{i.idx}}</td>\\r\\n     <td style=\\\"border: solid 1px black;text-align:left;font-size:10px;\\\">{{i.item_code or \\\"\\\"}}</td>\\r\\n     <td style=\\\"border: solid 1px black;text-align:left;font-size:10px\\\">{{i.item_name or \\\"\\\"}}</td>\\r\\n      <td style=\\\"border: solid 1px black;text-align:center;font-size:10px\\\">{{i.hsnsac  or ''}}</td>\\r\\n          <td style=\\\"border: solid 1px black;text-align:center;font-size:10px\\\">{{'%0.0f'|format(i.dis_qty) or 0}}</td>\\r\\n          <td style=\\\"border: solid 1px black;text-align:center;font-size:10px\\\">{{'%0.0f'|format(i.no_of_bins) or 0}}</td>\\r\\n\\r\\n      <td style=\\\"border: solid 1px black;text-align:center;font-size:10px\\\">{{i.uom  or ''}}</td>\\r\\n     <td style=\\\"border: solid 1px black;text-align:left;font-size:10px\\\"></td>\\r\\n  </tr> \\r\\n       {% endfor %}\\r\\n       {% endif %}\\r\\n       \\r\\n    {% if doc.end_bit_scrap %} \\r\\n     \\r\\n       <tr><td colspan=\\\"7\\\" style=\\\"font-size: 11px;\\\"><br><b>End Bit Scrap</b></td></tr>\\r\\n       <tr>\\r\\n            <td style=\\\"border: solid 1px black;font-size:11px;text-align:center;background-color:#f68b1f;color:white;width:2px;font-weight:bold;\\\">S#</td>\\r\\n            <td colspan=\\\"2\\\" style=\\\"border: solid 1px black;text-align:center;font-size:11px;background-color:#f68b1f;color:white;font-weight:bold;\\\">Item Name</td>\\r\\n            <td colspan=\\\"3\\\" style=\\\"border: solid 1px black;text-align:center;font-size:11px;background-color:#f68b1f;color:white;font-weight:bold;\\\">UOM</td>\\r\\n            <td colspan=\\\"2\\\" style=\\\"border: solid 1px black;text-align:center;font-size:11px;background-color:#f68b1f;color:white;font-weight:bold;\\\">Qty</td>\\r\\n\\r\\n      </tr>\\r\\n      {% for i in doc.end_bit_scrap %}\\r\\n  <tr>\\r\\n     <td style=\\\"border: solid 1px black;font-size:10px;text-align:right;\\\">{{i.idx}}</td>\\r\\n     <td colspan=\\\"2\\\" style=\\\"border: solid 1px black;text-align:left;font-size:10px\\\">{{i.item_name or \\\"\\\"}}</td>\\r\\n      <td colspan=\\\"3\\\" style=\\\"border: solid 1px black;text-align:left;font-size:10px\\\">{{i.uom  or ''}}</td>\\r\\n     <td colspan=\\\"2\\\" style=\\\"border: solid 1px black;text-align:right;font-size:10px\\\">{{'%0.0f'|format(i.qty) or 0}}</td>\\r\\n    \\r\\n  </tr> \\r\\n       {% endfor %}\\r\\n       \\r\\n       {% endif %}\\r\\n  </table>\\r\\n  \\r\\n  \\r\\n  <br>\\r\\n  \\r\\n\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"mode_of_transport\", \"print_hide\": 0, \"label\": \"Mode of Transport\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"vehicle_no\", \"print_hide\": 0, \"label\": \"Vehicle No\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"driver_name\", \"print_hide\": 0, \"label\": \"Driver Name & Contaact\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<br><p style=\\\"white-space: nowrap;\\\">Thank you for giving us an opportunity to be at your service</p>\\r\\n<br><br><br>\\r\\n<p><b>For <span style=\\\"text-transform: uppercase; font-size: 13px\\\">{{doc.supplier_name1}}</span></b></p>\\r\\n<p style=\\\"margin-top: 0px;\\\"><span style=\\\"display: inline-block; width: 100px;\\\">Name</span>:\\r\\n</p>\\r\\n<p style=\\\"margin-top: 0px;\\\"><span style=\\\"display: inline-block; width: 100px;\\\">Desgination</span>:</p>\\r\\n<p style=\\\"margin-top: 0px;\\\"><span style=\\\"display: inline-block; width: 100px;\\\">Contact</span>:</p>\\r\\n<p style=\\\"margin-top: 0px;\\\"><span style=\\\"display: inline-block; width: 100px;\\\">Company Seal</span>:</p>\\r\\n\\r\\n\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"\\r\\n<br><p>Received By (With signature,Date & Time)</p><br><br><br>\\r\\n<p style=\\\"font-size: 13px;\\\"><b>For {{doc.company.upper() }}</b></p>\\r\\n<p style=\\\"margin-top: 0px;\\\"><span style=\\\"display: inline-block; width: 100px;\\\">Name</span>:\\r\\n</p>\\r\\n<p style=\\\"margin-top: 0px;\\\"><span style=\\\"display: inline-block; width: 100px;\\\">Desgination</span>:</p>\\r\\n<p style=\\\"margin-top: 0px;\\\"><span style=\\\"display: inline-block; width: 100px;\\\">Contact</span>:</p>\\r\\n\"}]",
  "html": null,
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-11-18 13:02:58.909129",
  "module": "ONEGENE",
  "name": "Supplier Delivery Note",
  "page_number": "Bottom Center",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "table {\r\n    /*border-collapse: collapse;*/\r\n    width: 100%;\r\n  }\r\n\r\n  th, td {\r\n    border: 1px solid black;\r\n    text-align: left;\r\n    font-size: 10px;\r\n  }\r\n  \r\n .background {\r\n     background-color: #f68b1f;\r\n     color: white;\r\n     font-weight: 700;\r\n }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Logistics Request",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<div class=\\\"print-heading\\\">\\t\\t\\t\\t<h2><div>Sales Invoice</div><br><small class=\\\"sub-heading\\\">{{ doc.name }}</small>\\t\\t\\t\\t</h2></div>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"customer_name\", \"print_hide\": 0, \"label\": \"Customer Name\"}, {\"fieldname\": \"ewaybill\", \"print_hide\": 0, \"label\": \"e-Waybill No.\"}, {\"fieldname\": \"tax_id\", \"print_hide\": 0, \"label\": \"Tax Id\"}, {\"fieldname\": \"company_tax_id\", \"print_hide\": 0, \"label\": \"Company Tax ID\"}, {\"fieldname\": \"custom_gstin\", \"print_hide\": 0, \"label\": \"GSTIN\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"posting_date\", \"print_hide\": 0, \"label\": \"Date\"}, {\"fieldname\": \"due_date\", \"print_hide\": 0, \"label\": \"Payment Due Date\"}, {\"fieldname\": \"mode_of_dispatch\", \"print_hide\": 0, \"label\": \"Mode of Dispatch\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"is_consolidated\", \"print_hide\": 0, \"label\": \"Is Consolidated\"}, {\"fieldname\": \"update_billed_amount_in_sales_order\", \"print_hide\": 0, \"label\": \"Update Billed Amount in Sales Order\"}, {\"fieldname\": \"update_billed_amount_in_delivery_note\", \"print_hide\": 0, \"label\": \"Update Billed Amount in Delivery Note\"}, {\"fieldname\": \"is_debit_note\", \"print_hide\": 0, \"label\": \"Is Rate Adjustment Entry (Debit Note)\"}, {\"fieldname\": \"custom_cargo_mode\", \"print_hide\": 0, \"label\": \"Cargo Mode\"}, {\"fieldname\": \"custom_exporter_iec\", \"print_hide\": 0, \"label\": \"Exporter IEC\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Accounting Dimensions\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"cost_center\", \"print_hide\": 0, \"label\": \"Cost Center\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Items\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"scan_barcode\", \"print_hide\": 0, \"label\": \"Scan Barcode\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"set_target_warehouse\", \"print_hide\": 0, \"label\": \"Set Target Warehouse\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"items\", \"print_hide\": 0, \"label\": \"Items\", \"visible_columns\": [{\"fieldname\": \"has_item_scanned\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"item_code\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_customs_tariff_number\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"description\", \"print_width\": \"200px\", \"print_hide\": 0}, {\"fieldname\": \"image\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"qty\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"stock_uom\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"uom\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"discount_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"stock_uom_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"grant_commission\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"igst_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cgst_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"sgst_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_non_advol_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"igst_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cgst_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"sgst_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_non_advol_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"asset\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"finance_book\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"discount_account\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"deferred_revenue_account\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"service_stop_date\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"enable_deferred_revenue\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"service_start_date\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"service_end_date\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_packing_weight\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_gross_weight\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_dimensions_uom_p\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_cbm\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_box\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_no_of_boxes\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_box_length\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_box_breadth\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_box_height\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_weight_per_unit_b\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_total_weight_of_boxes\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_pallet\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_no_of_pallets\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_pallet_length\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_pallet_breadth\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_pallet_height\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_weight_per_unit_p\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_total_weight_of_pallets\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"quality_inspection\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"pick_serial_and_batch\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"batch_no\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"serial_no\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"project\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"total_qty\", \"print_hide\": 0, \"label\": \"Total Quantity\"}, {\"fieldname\": \"seacontainertype\", \"print_hide\": 0, \"label\": \"Sea Container Type\"}, {\"fieldname\": \"custom_container_occupancy\", \"print_hide\": 0, \"label\": \"Container Occupancy\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"total\", \"print_hide\": 0, \"label\": \"Total\"}, {\"fieldname\": \"custom_total_cbm\", \"print_hide\": 0, \"label\": \"Total CBM\"}, {\"fieldname\": \"custom_total_packing_weight\", \"print_hide\": 0, \"label\": \"Total Packing Weight\"}, {\"fieldname\": \"custom_total_gross_weight\", \"print_hide\": 0, \"label\": \"Total Gross Weight\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Taxes and Charges\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"incoterm\", \"print_hide\": 0, \"label\": \"Incoterm\"}, {\"fieldname\": \"named_place\", \"print_hide\": 0, \"label\": \"Named Place\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"taxes\", \"print_hide\": 0, \"label\": \"Sales Taxes and Charges\", \"visible_columns\": [{\"fieldname\": \"charge_type\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"row_id\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"account_head\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"description\", \"print_width\": \"300px\", \"print_hide\": 0}, {\"fieldname\": \"included_in_paid_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cost_center\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"account_currency\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"tax_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"total\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"tax_amount_after_discount_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"base_tax_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"base_total\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"base_tax_amount_after_discount_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"item_wise_tax_detail\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"Totals\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"grand_total\", \"print_hide\": 0, \"label\": \"Grand Total\"}, {\"fieldname\": \"use_company_roundoff_cost_center\", \"print_hide\": 0, \"label\": \"Use Company default Cost Center for Round off\"}, {\"fieldname\": \"rounded_total\", \"print_hide\": 0, \"label\": \"Rounded Total\"}, {\"fieldname\": \"in_words\", \"print_hide\": 0, \"label\": \"In Words\"}, {\"fieldname\": \"disable_rounded_total\", \"print_hide\": 0, \"label\": \"Disable Rounded Total\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Additional Discount\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"is_cash_or_non_trade_discount\", \"print_hide\": 0, \"label\": \"Is Cash or Non Trade Discount\"}, {\"fieldname\": \"additional_discount_account\", \"print_hide\": 0, \"label\": \"Discount Account\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Pricing Rules\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"pricing_rules\", \"print_hide\": 0, \"label\": \"Pricing Rule Detail\", \"visible_columns\": [{\"fieldname\": \"pricing_rule\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"item_code\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"margin_type\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"rate_or_discount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"rule_applied\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"Advance Payments\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"allocate_advances_automatically\", \"print_hide\": 0, \"label\": \"Allocate Advances Automatically (FIFO)\"}, {\"fieldname\": \"only_include_allocated_payments\", \"print_hide\": 0, \"label\": \"Only Include Allocated Payments\"}, {\"fieldname\": \"get_advances\", \"print_hide\": 0, \"label\": \"Get Advances Received\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Loyalty Points Redemption\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"loyalty_redemption_account\", \"print_hide\": 0, \"label\": \"Redemption Account\"}, {\"fieldname\": \"loyalty_redemption_cost_center\", \"print_hide\": 0, \"label\": \"Redemption Cost Center\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Billing Address\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"address_display\", \"print_hide\": 0, \"label\": \"Address\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"contact_display\", \"print_hide\": 0, \"label\": \"Contact\"}, {\"fieldname\": \"contact_mobile\", \"print_hide\": 0, \"label\": \"Mobile No\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Shipping Address\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"dispatch_address\", \"print_hide\": 0, \"label\": \"Dispatch Address\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Payment Terms\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"ignore_default_payment_terms_template\", \"print_hide\": 0, \"label\": \"Ignore Default Payment Terms Template\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Terms and Conditions\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"terms\", \"print_hide\": 0, \"label\": \"Terms and Conditions Details\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Customer PO Details\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"po_date\", \"print_hide\": 0, \"label\": \"Customer's Purchase Order Date\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Accounting Details\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"unrealized_profit_loss_account\", \"print_hide\": 0, \"label\": \"Unrealized Profit / Loss Account\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Commission\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"amount_eligible_for_commission\", \"print_hide\": 0, \"label\": \"Amount Eligible for Commission\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Subscription\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"subscription\", \"print_hide\": 0, \"label\": \"Subscription\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"update_auto_repeat_reference\", \"print_hide\": 0, \"label\": \"Update Auto Repeat Reference\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Additional Info\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"inter_company_invoice_reference\", \"print_hide\": 0, \"label\": \"Inter Company Invoice Reference\"}, {\"fieldname\": \"represents_company\", \"print_hide\": 0, \"label\": \"Represents Company\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"is_internal_customer\", \"print_hide\": 0, \"label\": \"Is Internal Customer\"}, {\"fieldname\": \"is_discounted\", \"print_hide\": 0, \"label\": \"Is Discounted\"}, {\"fieldname\": \"repost_required\", \"print_hide\": 0, \"label\": \"Repost Required\"}]",
  "html": "{% set data = packing_list(doc.order_no)%}\n{{data}}\n<footer id=\"footer-html\">\n   <table width=\"100%\">\n       <tr>\n           <td width=\"100%\" style=\"text-align:center; font-size:10px; padding-bottom:5px;border:none;\">\n               <i>Page <span class=\"page\"></span> / <span class=\"topage\"></span></i>\n           </td>\n       </tr>\n   </table>\n</footer>\n\n<!-- Increase bottom margin -->\n<meta name=\"pdfkit-margin-bottom\" content=\"30mm\"/>\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-09-17 18:21:18.753452",
  "module": "ONEGENE",
  "name": "Packing List Logistics",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "td {\r\n    border: 1px solid black;\r\n    \r\n}",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Logistics Request",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<div class=\\\"print-heading\\\">\\t\\t\\t\\t<h3><div>{{doc.company}}</div></h3></div>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"naming_series\", \"print_hide\": 0, \"label\": \"Series\"}, {\"fieldname\": \"company\", \"print_hide\": 0, \"label\": \"Company\"}, {\"fieldname\": \"gstin\", \"print_hide\": 0, \"label\": \"GSTIN / UIN\"}, {\"fieldname\": \"exporter_iec\", \"print_hide\": 0, \"label\": \"Exporter IEC\"}, {\"fieldname\": \"workflow_state\", \"print_hide\": 0, \"label\": \"Workflow State\"}, {\"fieldname\": \"logistic_type\", \"print_hide\": 0, \"label\": \"Logistic Type\"}, {\"fieldname\": \"po_so\", \"print_hide\": 0, \"label\": \"Voucher Type\"}, {\"fieldname\": \"order_no\", \"print_hide\": 0, \"label\": \"Voucher No\"}, {\"fieldname\": \"multiple_pos\", \"print_hide\": 0, \"label\": \"Multiple POs\"}, {\"fieldname\": \"file_number\", \"print_hide\": 0, \"label\": \"File Number\"}, {\"fieldname\": \"custom_file_number\", \"print_hide\": 0, \"label\": \"File Number\"}, {\"fieldname\": \"requester_name\", \"print_hide\": 0, \"label\": \"Requester Name\"}, {\"fieldname\": \"scope_of_delivery\", \"print_hide\": 0, \"label\": \"Scope of Delivery\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"status\", \"print_hide\": 0, \"label\": \"Shipment Status\"}, {\"fieldname\": \"cargo_type\", \"print_hide\": 0, \"label\": \"Cargo Type\"}, {\"fieldname\": \"supplier\", \"print_hide\": 0, \"label\": \"Supplier Name\"}, {\"fieldname\": \"credit_days\", \"print_hide\": 0, \"label\": \"Credit Days\"}, {\"fieldname\": \"inventory_destination\", \"print_hide\": 0, \"label\": \"Inventory destination \"}, {\"fieldname\": \"warehouse\", \"print_hide\": 0, \"label\": \"Final Destination\"}, {\"fieldname\": \"customer\", \"print_hide\": 0, \"label\": \"Customer\"}, {\"fieldname\": \"tentative_production_completion\", \"print_hide\": 0, \"label\": \"Tentative Production Completion Date\"}, {\"fieldname\": \"alert_date\", \"print_hide\": 0, \"label\": \"Alert Date\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Currency and Price List\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"currency\", \"print_hide\": 0, \"label\": \"Currency\"}, {\"fieldname\": \"conv_rate\", \"print_hide\": 0, \"label\": \"Conversion Rate\"}, {\"fieldname\": \"conversion_rate\", \"print_hide\": 0, \"label\": \" Conversion Rate\"}, {\"fieldname\": \"plc_conversion_rate\", \"print_hide\": 0, \"label\": \"Price List Exchange Rate\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"buying_price_list\", \"print_hide\": 0, \"label\": \"Buying Price List\"}, {\"fieldname\": \"price_list_currency\", \"print_hide\": 0, \"label\": \"Price List Currency\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"product_description\", \"print_hide\": 0, \"label\": \"Product Description\", \"visible_columns\": [{\"fieldname\": \"fg_item\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"fg_item_qty\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"item_code\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"product_bundle\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"expected_delivery_date\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_item_order_type\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"mr_scheduling\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"mr_scheduling_name\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"description\", \"print_width\": \"300px\", \"print_hide\": 0}, {\"fieldname\": \"image\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"qty\", \"print_width\": \"60px\", \"print_hide\": 0}, {\"fieldname\": \"open_qty\", \"print_width\": \"60px\", \"print_hide\": 0}, {\"fieldname\": \"stock_uom\", \"print_width\": \"100px\", \"print_hide\": 0}, {\"fieldname\": \"uom\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"discount_percentage\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"discount_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"schedule\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"item_tax_template\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"pricing_rules\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"stock_uom_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"is_free_item\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"apply_tds\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"igst_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"igst_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cgst_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"sgst_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cgst_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"sgst_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_non_advol_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_non_advol_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"igst_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"igst_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cgst_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"sgst_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cgst_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"sgst_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_non_advol_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_non_advol_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"from_warehouse\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"company_total_stock\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"supplier_quotation\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"supplier_quotation_item\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"against_blanket_order\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"blanket_order\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"wip_composite_asset\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"manufacturer\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"manufacturer_part_no\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"weight_per_unit\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"weight_uom\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"is_fixed_asset\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"production_plan_item\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"production_plan_sub_assembly_item\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"product_description_so\", \"print_hide\": 0, \"label\": \"Product Description\", \"visible_columns\": [{\"fieldname\": \"has_item_scanned\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"item_code\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_customs_tariff_number\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"description\", \"print_width\": \"200px\", \"print_hide\": 0}, {\"fieldname\": \"image\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"qty\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"stock_uom\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"uom\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"discount_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"stock_uom_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"grant_commission\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"igst_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cgst_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"sgst_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_non_advol_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"igst_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cgst_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"sgst_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_non_advol_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"asset\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"finance_book\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"discount_account\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"deferred_revenue_account\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"service_stop_date\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"enable_deferred_revenue\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"service_start_date\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"service_end_date\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_packing_weight\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_gross_weight\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_dimensions_uom_p\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_cbm\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_box\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_no_of_boxes\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_box_length\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_box_breadth\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_box_height\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_weight_per_unit_b\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_total_weight_of_boxes\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_pallet\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_no_of_pallets\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_pallet_length\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_pallet_breadth\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_pallet_height\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_weight_per_unit_p\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_total_weight_of_pallets\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"quality_inspection\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"pick_serial_and_batch\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"batch_no\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"serial_no\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"project\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"consignment_type\", \"print_hide\": 0, \"label\": \"Consignment type\"}, {\"fieldname\": \"grand_total\", \"print_hide\": 0, \"label\": \"Grand Total\"}, {\"fieldname\": \"project\", \"print_hide\": 0, \"label\": \"Project Name\"}, {\"fieldname\": \"final_doc\", \"print_hide\": 0, \"label\": \"Final Doc\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"currency_inr\", \"print_hide\": 0, \"label\": \"Currency INR\"}, {\"fieldname\": \"custom_duty\", \"print_hide\": 0, \"label\": \"Forecast \\u2013 Customs Duty Amount (By default - 45% of Grand Total)\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Quantity / Packages\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"courier__awb__bl_number__container\", \"print_hide\": 0, \"label\": \"Courier / Container\"}, {\"fieldname\": \"dimensions\", \"print_hide\": 0, \"label\": \"Dimensions\"}, {\"fieldname\": \"gross_wt\", \"print_hide\": 0, \"label\": \"Gross Wt\"}, {\"fieldname\": \"cbm\", \"print_hide\": 0, \"label\": \"CBM\"}, {\"fieldname\": \"box_summary\", \"print_hide\": 0, \"label\": \"Box Summary\"}, {\"fieldname\": \"uom\", \"print_hide\": 0, \"label\": \"UOM \"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"box_pallet_count\", \"print_hide\": 0, \"label\": \"Boxes/Pallet-Count\"}, {\"fieldname\": \"net_wt\", \"print_hide\": 0, \"label\": \"Net Wt\"}, {\"fieldname\": \"seacontainertype\", \"print_hide\": 0, \"label\": \"Sea Container Type\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Summary of Box & Pallet\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"box_summary_table\", \"print_hide\": 0, \"label\": \"Box Summary\", \"visible_columns\": [{\"fieldname\": \"box\", \"print_width\": \"200px\", \"print_hide\": 0}, {\"fieldname\": \"total_no_of_box\", \"print_width\": \"150px\", \"print_hide\": 0}, {\"fieldname\": \"weight_per_unit\", \"print_width\": \"150px\", \"print_hide\": 0}, {\"fieldname\": \"total_weight\", \"print_width\": \"150px\", \"print_hide\": 0}, {\"fieldname\": \"total_length\", \"print_width\": \"100px\", \"print_hide\": 0}, {\"fieldname\": \"total_breadth\", \"print_width\": \"150px\", \"print_hide\": 0}, {\"fieldname\": \"total_height\", \"print_width\": \"100px\", \"print_hide\": 0}]}, {\"fieldname\": \"pallet_summary\", \"print_hide\": 0, \"label\": \"Pallet Summary\", \"visible_columns\": [{\"fieldname\": \"pallet\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"total_no_of_pallet\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"weight_per_unit\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"total_weight\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"total_length\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"total_breadth\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"total_height\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"Attach Documents\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"document_attached\", \"print_hide\": 0, \"visible_columns\": [{\"fieldname\": \"\", \"print_hide\": 0}]}, {\"fieldname\": \"draft_invoice\", \"print_hide\": 0, \"label\": \"Draft Invoice\"}, {\"fieldname\": \"packing_list_2\", \"print_hide\": 0, \"label\": \"Packing List\"}, {\"fieldname\": \"payment_ttc\", \"print_hide\": 0, \"label\": \"Payment TTC\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Logistics OPS\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"date_of_shipment\", \"print_hide\": 0, \"label\": \"Date of Shipment\"}, {\"fieldname\": \"wonjin_incoterms\", \"print_hide\": 0, \"label\": \"Wonjin INCOTERMS\"}, {\"fieldname\": \"pol_seaport\", \"print_hide\": 0, \"label\": \"POL SEAPORT\"}, {\"fieldname\": \"pol_city_seaport\", \"print_hide\": 0, \"label\": \"POL City\"}, {\"fieldname\": \"pol_country_seaport\", \"print_hide\": 0, \"label\": \"POL Country\"}, {\"fieldname\": \"pol_airport\", \"print_hide\": 0, \"label\": \"POL AIRPORT\"}, {\"fieldname\": \"pol_city_airport\", \"print_hide\": 0, \"label\": \"POL City\"}, {\"fieldname\": \"pol_country_airport\", \"print_hide\": 0, \"label\": \"POL Country\"}, {\"fieldname\": \"etd\", \"print_hide\": 0, \"label\": \"ETD \"}, {\"fieldname\": \"transit_time\", \"print_hide\": 0, \"label\": \"Transit Time\"}, {\"fieldname\": \"master_bl_number__awb\", \"print_hide\": 0, \"label\": \"Master BL Number / AWB\"}, {\"fieldname\": \"carrier_name\", \"print_hide\": 0, \"label\": \"Carrier Name\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"shipping_line\", \"print_hide\": 0, \"label\": \"Shipping Line\"}, {\"fieldname\": \"supplier_incoterms\", \"print_hide\": 0, \"label\": \"Supplier INCOTERMS\"}, {\"fieldname\": \"customer_incoterms\", \"print_hide\": 0, \"label\": \"Customer INCOTERMS\"}, {\"fieldname\": \"pod_seaport\", \"print_hide\": 0, \"label\": \"POD SEAPORT\"}, {\"fieldname\": \"pod_city_seaport\", \"print_hide\": 0, \"label\": \"POD City\"}, {\"fieldname\": \"pod_country_seaport\", \"print_hide\": 0, \"label\": \"POD Country\"}, {\"fieldname\": \"pod_airport\", \"print_hide\": 0, \"label\": \"POD AIRPORT\"}, {\"fieldname\": \"pod_city_airport\", \"print_hide\": 0, \"label\": \"POD City\"}, {\"fieldname\": \"pod_country_airport\", \"print_hide\": 0, \"label\": \"POD Country\"}, {\"fieldname\": \"eta\", \"print_hide\": 0, \"label\": \"ETA\"}, {\"fieldname\": \"document_dispatch_list\", \"print_hide\": 0, \"label\": \"Document Dispatch List\"}, {\"fieldname\": \"normal_bl_number__awb\", \"print_hide\": 0, \"label\": \"Normal BL Number / AWB\"}, {\"fieldtype\": \"Section Break\", \"label\": \"ETD / ETA Revision Log\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"remarks\", \"print_hide\": 0, \"label\": \"Remarks\", \"visible_columns\": [{\"fieldname\": \"date\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"time\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"revision_on\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"remarks\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"Freight & Forwarder\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"ffw_quotation\", \"print_hide\": 0, \"label\": \"FFW Quotation\", \"visible_columns\": [{\"fieldname\": \"ffw_name\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"currency\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"quoted_value\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"quotation\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"clearance_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"total\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"percentage_on_purchase_value\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"recommended_ffw\", \"print_hide\": 0, \"label\": \"Recommended FFW\"}, {\"fieldname\": \"cdm_comment\", \"print_hide\": 0, \"label\": \"CDM Comment (Optional)\"}, {\"fieldname\": \"ffw_approved\", \"print_hide\": 0, \"label\": \"FFW Approved\"}, {\"fieldname\": \"freight_charges\", \"print_hide\": 0, \"label\": \"Freight Charges\"}, {\"fieldname\": \"cha_charges\", \"print_hide\": 0, \"label\": \"CHA Charges\"}, {\"fieldname\": \"comments\", \"print_hide\": 0, \"label\": \"Comments\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"handling_charges\", \"print_hide\": 0, \"label\": \"Port/Handling Charges\"}, {\"fieldname\": \"insurance\", \"print_hide\": 0, \"label\": \"Insurance\"}, {\"fieldname\": \"total_shipment_cost\", \"print_hide\": 0, \"label\": \"Total Shipment Cost\"}, {\"fieldname\": \"quoted_value_in_company_currency\", \"print_hide\": 0, \"label\": \"Quoted Value (INR)\"}, {\"fieldname\": \"quoted_currency\", \"print_hide\": 0, \"label\": \"Quoted Currency\"}, {\"fieldname\": \"quoted_amount\", \"print_hide\": 0, \"label\": \"Quoted Amount\"}, {\"fieldname\": \"revised_quote\", \"print_hide\": 0, \"label\": \"Revised Quote\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Customs House Agent (CHA) & Clearance\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"appointed_cha_name\", \"print_hide\": 0, \"label\": \"Appointed CHA name\"}, {\"fieldname\": \"boe_number\", \"print_hide\": 0, \"label\": \"BOE Number\"}, {\"fieldname\": \"duty_details\", \"print_hide\": 0, \"label\": \" Duty/Duty Drawback Details\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"clearance_status\", \"print_hide\": 0, \"label\": \"Clearance Status\"}, {\"fieldname\": \"boe_date\", \"print_hide\": 0, \"label\": \"BOE Date\"}, {\"fieldname\": \"payment_challan_attachment\", \"print_hide\": 0, \"label\": \"Payment Challan Attachment\"}, {\"fieldname\": \"payment_date\", \"print_hide\": 0, \"label\": \"Payment Date\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Documents Status\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"received_by\", \"print_hide\": 0, \"label\": \"Received By\"}, {\"fieldname\": \"dispatched_by\", \"print_hide\": 0, \"label\": \"Dispatched By\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"date\", \"print_hide\": 0, \"label\": \"Date&Time\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Delivery\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"vehicle_number_copy\", \"print_hide\": 0, \"label\": \"Vehicle Number\"}, {\"fieldname\": \"vehicle_type_copy\", \"print_hide\": 0, \"label\": \"Vehicle Type\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"driver_name_copy\", \"print_hide\": 0, \"label\": \"Driver Name\"}, {\"fieldname\": \"driver_contact_number_copy\", \"print_hide\": 0, \"label\": \"Driver Contact Number\"}, {\"fieldtype\": \"Section Break\", \"label\": \"E- Way Bill\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"e_way_bill__copy\", \"print_hide\": 0, \"label\": \"E-Way Bill\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"e_way_no_copy\", \"print_hide\": 0, \"label\": \"E-Way No\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Attach Bills\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"bills_copy\", \"print_hide\": 0, \"label\": \"Bills\", \"visible_columns\": [{\"fieldname\": \"bills\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"amount\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldname\": \"mode_of_dispatch_copy\", \"print_hide\": 0, \"label\": \"Mode of Dispatch\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Applicable Charges\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"taxes\", \"print_hide\": 0, \"label\": \"Taxes on Charges\", \"visible_columns\": [{\"fieldname\": \"expense_account\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"account_currency\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"exchange_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"description\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"base_amount\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"ffw\", \"print_hide\": 0, \"label\": \"FFW  Name\"}, {\"fieldname\": \"purchase_order\", \"print_hide\": 0, \"label\": \"Purchase Order\"}, {\"fieldname\": \"freight_rate\", \"print_hide\": 0, \"label\": \"Freight rate \"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"cha\", \"print_hide\": 0, \"label\": \"CHA Name\"}, {\"fieldname\": \"reached_port\", \"print_hide\": 0, \"label\": \"Reached Port\"}, {\"fieldname\": \"custom_payment\", \"print_hide\": 0, \"label\": \"Customs Duty Payment Status \"}, {\"fieldtype\": \"Section Break\", \"label\": \"Attach Supporting Document\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"support_documents\", \"print_hide\": 0, \"visible_columns\": [{\"fieldname\": \"\", \"print_hide\": 0}]}, {\"fieldname\": \"download\", \"print_hide\": 0, \"label\": \"Download\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Document for Payment Clearance\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"payment_clearance\", \"print_hide\": 0, \"label\": \"Payment Clearance\", \"visible_columns\": [{\"fieldname\": \"attach\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"Customs Clearance & Payment \"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"payment_challan\", \"print_hide\": 0, \"label\": \"Payment Challan Attachment\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"customs_clearance_status\", \"print_hide\": 0, \"label\": \"Customs Clearance Status\"}, {\"fieldname\": \"customs_clearance\", \"print_hide\": 0, \"label\": \"Payment Date\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Delivery\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"vehicle_number\", \"print_hide\": 0, \"label\": \"Vehicle Number\"}, {\"fieldname\": \"vehicle_type\", \"print_hide\": 0, \"label\": \"Vehicle Type\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"driver_name\", \"print_hide\": 0, \"label\": \"Driver Name\"}, {\"fieldname\": \"driver_contact_number\", \"print_hide\": 0, \"label\": \"Driver Contact Number\"}, {\"fieldtype\": \"Section Break\", \"label\": \"E- Way Bill\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"e_way_bill\", \"print_hide\": 0, \"label\": \"E-Way Bill \"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"e_way_no\", \"print_hide\": 0, \"label\": \"E-Way No\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Purchase Receipts\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"receipts\", \"print_hide\": 0, \"label\": \"Receipts\", \"visible_columns\": [{\"fieldname\": \"purchase_receipt\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"Attach Bills\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"bills\", \"print_hide\": 0, \"label\": \"Bills\", \"visible_columns\": [{\"fieldname\": \"bills\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"amount\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldname\": \"mode_of_dispatch\", \"print_hide\": 0, \"label\": \"Mode of Dispatch\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"attachment\", \"print_hide\": 0, \"label\": \"Attach Proof\"}, {\"fieldname\": \"date_of_delivery\", \"print_hide\": 0, \"label\": \"Date of Delivery\"}, {\"fieldname\": \"receive_by_name\", \"print_hide\": 0, \"label\": \"Receive by Name\"}, {\"fieldname\": \"closing_remarks\", \"print_hide\": 0, \"label\": \"Closing Remarks\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"invoice_attachment\", \"print_hide\": 0, \"label\": \"Invoice Attachment\"}, {\"fieldname\": \"date_of_invoice\", \"print_hide\": 0, \"label\": \"Date of Invoice\"}, {\"fieldname\": \"ffw_final\", \"print_hide\": 0, \"label\": \"FFW\"}, {\"fieldname\": \"invoice_value\", \"print_hide\": 0, \"label\": \"Invoice Value\"}]",
  "html": "<meta name=\"pdfkit-orientation\" content=\"landscape\" />\n<meta name=\"page-size\" content ='A4'/>\n\n<div class='col-xs-12'>\n    <br><br>\n    <!--<table border=1 width=100%>-->\n        <table border=\"1\" cellspacing=\"0\" cellpadding=\"5\" style=\"width:100%; border-collapse:collapse; text-align:center;\">\n        <tr>\n            <td colspan=10><img src=\"/files/ci_img.png\" width=\"200px\">\n                 <p style=\" margin-left:240px; display:inline; font-size: 15px; font-family: 'Book Antiqua', 'Palatino Linotype', Palatino, serif; text-align:center;\">\n                        <b>{{ doc.company }}</b>\n                 </p>\n            </td>\n        </tr>\n        <tr style=\"font-size: 12px;font-weight: bold;text-align:center; font-family: 'Book Antiqua', 'Palatino Linotype', Palatino, serif;\">\n            <td colspan=5 style=\"background-color: #f2f2f2;\">Approval Request - <p style=\" display:inline; font-size:12px;\">{{doc.customer}}</p></td>\n            {% if doc.cargo_type == \"Air\" and doc.scope_of_delivery==\"Wonjin\" %}\n                <td colspan=1 style=\"height:40px; width:12.5%\">Prepared</td>\n                <td colspan=1 style=\"height:40px; width:12.5%\">Finance</td>\n                <td colspan=1 style=\"height:40px; width:12.5%\">BMD</td>\n                <td colspan=1 style=\"height:40px; width:12.5%\">CMD</td>\n                <td colspan=1 style=\"height:40px; width:12.5%\">SMD</td>\n            {% elif doc.cargo_type == \"Sea\" and doc.scope_of_delivery==\"Wonjin\"  %}\n               <td colspan=\"1\" style=\"height:40px; width:12.5%\">Prepared</td>\n        <td colspan=\"2\" style=\"height:40px; width:12.5%\">Finance</td>\n        <td colspan=\"2\" style=\"height:40px; width:12.5%\">CMD</td>\n            {% elif doc.scope_of_delivery==\"Customer\" %} \n               <td colspan=1 style=\"height:40px; width:12.5%\">Prepared</td>\n                <td colspan=2 style=\"height:40px; width:12.5%\">Finance</td>\n                <td colspan=2 style=\"height:40px; width:12.5%\">HOD</td>\n            {% endif %}\n        </tr>\n        <tr style=\"font-size: 12px; font-family: 'Book Antiqua', 'Palatino Linotype', Palatino, serif; text-wrap:None;\">\n            <td colspan=1 style='font-weight: bold;text-align:left;width:40px; '>Scope of Delivery</td>\n            <td colspan=4>{{doc.scope_of_delivery or \"\"}}</td>\n            \n            {% if doc.cargo_type == \"Air\" and doc.scope_of_delivery==\"Wonjin\"  %} \n            \n            \n               {%set prepared_by = frappe.db.get_value(\"Employee\",{\"user_id\": doc.owner},['custom_digital_signature']) %}\n                    <td colspan=1 rowspan=4 style=\"height:80px; width:12.5%; vertical-align:middle;\">\n                        {% if prepared_by %}\n                        <img src=\"{{prepared_by}}\" style=\"height:70px; width:80%; object-fit:contain;\">\n        \n                        {% endif %}\n                    </td>\n                    \n                    \n                {% set hod = frappe.db.get_value(\"Employee\", {\"name\": 'S0189'}, [\"custom_digital_signature\"]) %}\n                \n                <td colspan=1 rowspan=4 style=\"height:80px; width:12.5%; vertical-align:middle;\">\n                    {% if hod %}\n                    <img src=\"{{hod}}\" style=\"height:70px; width:80%; object-fit:contain;\">\n    \n                    {% endif %}\n                </td>\n                \n                    \n                {% set bmd = frappe.db.get_value(\"Employee\", {\"name\": \"BMD01\"}, [\"custom_digital_signature\"]) %}\n            \n                <td colspan=1 rowspan=4 style=\"height:80px; width:12.5%; vertical-align:middle;\">\n                    {% if bmd %}\n                    <img src=\"{{bmd}}\" style=\"height:70px; width:80%; object-fit:contain;\">\n    \n                    {% endif %}\n                </td>\n                {% set cmd = frappe.db.get_value(\"Employee\", {\"name\": 'CMD01'}, [\"custom_digital_signature\"]) %}\n            \n                <td colspan=1 rowspan=4 style=\"height:80px; width:12.5%; vertical-align:middle;\">\n                    {% if cmd %}\n                    <img src=\"{{cmd}}\" style=\"height:70px; width:80%; object-fit:contain;\">\n    \n                    {% endif %}\n                </td>\n                {% set smd = frappe.db.get_value(\"Employee\", {\"name\": 'SMD01'}, [\"custom_digital_signature\"]) %}\n            \n                <td colspan=1 rowspan=4 style=\"height:80px; width:12.5%; vertical-align:middle;\">\n                    {% if smd %}\n                    <img src=\"{{smd}}\" style=\"height:70px; width:80%; object-fit:contain;\">\n    \n                    {% endif %}\n                </td>\n            {% elif doc.cargo_type == \"Sea\" and doc.scope_of_delivery==\"Wonjin\"  %}\n                          <td colspan=\"1\" rowspan=\"4\" style=\"height:80px; width:12.5%; vertical-align:middle;\">\n            {% set prepared_by = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n            {% if prepared_by %}\n                <img src=\"{{ prepared_by }}\" style=\"height:70px; width:80%; object-fit:contain;\">\n            {% endif %}\n        </td>\n\n        <!-- HOD -->\n        <td colspan=\"2\" rowspan=\"4\" style=\"height:80px; width:12.5%; vertical-align:middle;\">\n            {% set hod = frappe.db.get_value(\"Employee\", {\"name\": 'S0189'}, \"custom_digital_signature\") %}\n            {% if hod %}\n                <img src=\"{{ hod }}\" style=\"height:70px; width:80%; object-fit:contain;\">\n            {% endif %}\n        </td>\n\n        <!-- CMD -->\n        <td colspan=\"2\" rowspan=\"4\" style=\"height:80px; width:12.5%; vertical-align:middle;\">\n            {% set cmd = frappe.db.get_value(\"Employee\", {\"name\": 'CMD01'}, \"custom_digital_signature\") %}\n            {% if cmd %}\n                <img src=\"{{ cmd }}\" style=\"height:70px; width:80%; object-fit:contain;\">\n            {% endif %}\n        </td>\n            {% elif doc.scope_of_delivery==\"Customer\" %}\n            \n            \n            {%set prepared_by = frappe.db.get_value(\"Employee\",{\"user_id\": doc.owner},['custom_digital_signature']) %}\n                    <td colspan=1 rowspan=4 style=\"height:80px; width:12.5%; vertical-align:middle;\">\n                        {% if prepared_by %}\n                        <img src=\"{{prepared_by}}\" style=\"height:70px; width:80%; object-fit:contain;\">\n        \n                        {% endif %}\n                    </td>\n\n                {% set finance = frappe.db.get_value(\"Employee\", {\"name\": 'S0189'}, [\"custom_digital_signature\"]) %}\n                \n                <td colspan=2 rowspan=4 style=\"height:80px; width:12.5%; vertical-align:middle;\">\n                    {% if finance %}\n                    <img src=\"{{finance}}\" style=\"height:70px; width:80%; object-fit:contain;\">\n    \n                    {% endif %}\n                </td>\n                {% set hod = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, [\"custom_digital_signature\"]) %}\n                \n                <td colspan=2 rowspan=4 style=\"height:80px; width:12.5%; vertical-align:middle;\">\n                    {% if hod %}\n                    <img src=\"{{hod}}\" style=\"height:70px; width:80%; object-fit:contain;\">\n    \n                    {% endif %}\n                </td>\n            \n            \n            {% endif %}\n            \n        </tr>\n        \n        <tr style=\"font-size: 12px; font-family: 'Book Antiqua', 'Palatino Linotype', Palatino, serif;\">\n            <td colspan=1 style='font-weight: bold;text-align:left;width:40px; '>Shipment Mode</td>\n            <td colspan=4>{{doc.cargo_type or \"\"}}</td>\n            \n            \n        </tr>\n        <tr style=\"font-size: 12px; font-family: 'Book Antiqua', 'Palatino Linotype', Palatino, serif;\">\n            <td colspan=1 style='font-weight: bold;text-align:left;width:40px; '>Logistic Mode</td>\n            <td colspan=4>{{doc.logistic_type or \"\"}}</td>\n            \n            \n        </tr>\n        \n        <tr style=\"font-size: 12px; font-family: 'Book Antiqua', 'Palatino Linotype', Palatino, serif;\">\n            <td colspan=1 style='font-weight: bold;text-align:left;width:40px; '>Doc. No</td>\n            <td colspan=4>{{doc.name}}</td>\n            \n            \n        </tr>\n        \n        <tr style=\"font-size: 12px; font-family: 'Book Antiqua', 'Palatino Linotype', Palatino, serif;\">\n            <td colspan=1 style='font-weight: bold;text-align:left;width:40px; '>Department</td>\n            <td colspan=4>LOGISTICS</td>\n            \n            <td colspan=7 rowspan=4><b>Remarks:</b></td>\n            \n            \n        </tr>\n        <tr style=\"font-size: 12px; font-family: 'Book Antiqua', 'Palatino Linotype', Palatino, serif;\">\n            <td colspan=1 style='font-weight: bold;text-align:left;width:40px; '>Requester Name</td>\n            {%set name = frappe.db.get_value(\"Employee\",{\"user_id\": doc.owner},['employee_name']) %}\n            <td colspan=4>{{name or ''}}</td>\n            \n            \n        </tr>\n        <tr style=\"font-size: 12px; font-family: 'Book Antiqua', 'Palatino Linotype', Palatino, serif;\">\n            <td colspan=1 style='font-weight: bold;text-align:left;width:40px; '>Request Date</td>\n            <td colspan=4>{{frappe.utils.format_date(doc.creation)}}</td>\n            \n        </tr>\n        <tr style=\"font-size: 12px; font-family: 'Book Antiqua', 'Palatino Linotype', Palatino, serif;\">\n            <td colspan=1 style='font-weight: bold;text-align:left;width:40px; '>Invoice No</td>\n            <td colspan=4>{{doc.order_no or \"\"}}</td>\n            \n        </tr>\n        <tr style=\"font-size: 12px;font-weight: bold;text-align:center; font-family: 'Book Antiqua', 'Palatino Linotype', Palatino, serif; background-color: #f2f2f2;\">\n            <td colspan=12 style='font-weight: bold;text-align:center;'>Details</td>\n            \n        </tr>\n\n        <tr style=\"font-size: 12px;font-weight: bold; text-align:center; font-family: 'Book Antiqua', 'Palatino Linotype', Palatino, serif;\">\n            <td colspan=1 style=\"width:12%;\">S.No</td>\n            <td colspan=1 style=\"width:38%;\">Forwarder Name</td>\n            <td colspan=1 style=\"width:10px\">Volume in details(CBM)</td>\n            <td colspan=1 style=\"width:10px\">Invoice Value INR</td>\n            <td colspan=1 style=\"width:10px\">Freight Charges</td>\n            <td colspan=1 style=\"width:10px\">Port/Handling Charges</td>\n            <td colspan=1 style=\"width:10px\">CHA Charges</td>\n            <td colspan=1 style=\"width:10px\">Total Expenses</td>\n            <td colspan=1>%</td>\n            <td colspan=1>Remarks</td>\n        </tr>\n        {%for i in doc.ffw_quotation%}\n        <tr style=\"font-size: 12px; font-family: 'Book Antiqua', 'Palatino Linotype', Palatino, serif;\">\n            {%set ffw_name = frappe.db.get_value(\"Supplier\",i.ffw_name,'supplier_name') %}\n            <td colspan=1 style=\"width:12%; text-align:center;\">{{i.idx}}</td>\n            <td colspan=1 style=\"text-align:center;\">{{ffw_name}}</td>\n            <td colspan=1 style='text-align:center; width:10px'>{{doc.cbm or \"\"}}</td>\n            {% set tot = frappe.db.get_value(\"Sales Invoice\",{\"name\":doc.order_no},\"base_grand_total\")%}\n            <td colspan=1 style='text-align:right; width:10px'>{{frappe.utils.fmt_money(tot)}}</td>\n            <td colspan=1 style='text-align:right; width:10px'>{{i.freight_charges }}</td>\n            <td colspan=1 style='text-align:right; width:10px'>{{i.porthandling_charges }}</td>\n            <td colspan=1 style='text-align:right; width:10px; '>{{i.cha_charges}}</td>\n            <td colspan=1 style='text-align:right; width:10px;'>{{frappe.utils.fmt_money(i.total_shipment_cost)}}</td>\n            {% set per = ((i.quoted_value / doc.grand_total) * 100) %}\n            <td colspan=1 style='text-align:right;'>{{ \"{:.2f}%\".format(per) }}</td>\n            <td colspan=1></td>\n            \n        </tr>{%endfor%}\n    </table><br>\n    \n    <table border=1 width=100%>\n        \n        <tr style=\"font-size: 12px;  font-family: 'Book Antiqua', 'Palatino Linotype', Palatino, serif; text-align:left;\">\n            <td><b>ETD</b>&nbsp;:&nbsp;{{frappe.format(doc.etd,{'fieldtype': 'Date'}) or \"\"}}</td>\n            <td><b>ETA</b>&nbsp;:&nbsp;{{frappe.format(doc.eta,{'fieldtype': 'Date'}) or \"\"}}</td>\n            <td><b>Transit Time</b>&nbsp;:&nbsp;{{doc.transit_time or \"\"}}</td>\n        </tr>\n    </table><br>\n    {%set supplier_name = frappe.db.get_value(\"Supplier\",doc.recommended_ffw,'supplier_name') %}\n    <p style=\"font-size: 12px; font-family: 'Book Antiqua', 'Palatino Linotype', Palatino, serif;\">\n            Conclusion : After a several round of discussion we have finalized the deal with <b>{{supplier_name}}</b>\n\n</div>\n<footer id=\"footer-html\">\n   <table width=\"100%\" style=\"border:none;\">\n       <tr>\n           <td width=\"100%\" style=\"text-align:center; font-size:10px;border:none; padding:0; margin:0;\">\n               <i>Page <span class=\"page\"></span> / <span class=\"topage\"></span></i>\n           </td>\n       </tr>\n   </table>\n</footer>\n\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-09-22 12:48:09.647368",
  "module": "ONEGENE",
  "name": "FFW Approval",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".tab1,\n.tab1 tr,\n.tab1 td{\n    \n    border:1px solid black;\n}\n\n\n.tab2,\n.tab2 tr,\n.tab2 td{\n    \n    border:1px solid black;\n}\n\n.tab3,\n.tab3 tr,\n.tab3 td{\n    \n    border:1px solid black;\n}\n\n.no-border{\n    border:none !important;\n}\n\n.no-border-1{\n    border-top:none !important;\n    border-bottom:none !important;\n}",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Logistics Request",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<div class=\"container \">\n    <div class=\"row\">\n        <div class=\"col-xs-12 p-0\">\n            \n            <table width=100% style=\"border-collapse:collapse;\" class=\"tab1\">\n                \n                <tr>\n                    <td colspan=\"3\">\n                       <center><p style=\"font-size:20px;\"><b>PACKING LIST</b></p></center> \n                    </td>\n                </tr>\n                <tr>\n                    <td rowspan=\"4\"  >\n                        <p><b>Factory Address</b></p>\n                        <p>{{frappe.db.get_value(\"Address\",{'address_title':doc.company},\"address_title\")or \"\"}}</p>\n                        <p>{{frappe.db.get_value(\"Address\",{'address_title':doc.company},\"address_line1\") or \"\"}}</p>\n                        <p>{{frappe.db.get_value(\"Address\",{'address_title':doc.company},\"address_line2\") or \"\"}}</p>\n                        <p>{{frappe.db.get_value(\"Address\",{'address_title':doc.company},\"city\")or \"\"}}</p>\n                        <p>{{frappe.db.get_value(\"Address\",{'address_title':doc.company},\"state\")or \"\"}}</p>\n                        <p>{{frappe.db.get_value(\"Address\",{'address_title':doc.company},\"country\")or \"\"}}</p>\n                    </td>\n                    <td rowspan=\"4\"  >\n                        <p>\n                            <b>Exporter</b></p>\n                            <p>{{frappe.db.get_value(\"Address\",{'address_title':doc.company},\"address_title\")or \"\"}}</p>\n                        <p>{{frappe.db.get_value(\"Address\",{'address_title':doc.company},\"address_line1\") or \"\"}}</p>\n                        <p>{{frappe.db.get_value(\"Address\",{'address_title':doc.company},\"address_line2\") or \"\"}}</p>\n                        <p>{{frappe.db.get_value(\"Address\",{'address_title':doc.company},\"city\")or \"\"}}</p>\n                        <p>{{frappe.db.get_value(\"Address\",{'address_title':doc.company},\"state\")or \"\"}}</p>\n                        <p>{{frappe.db.get_value(\"Address\",{'address_title':doc.company},\"country\")or \"\"}}</p>\n                        \n                    </td>\n                    <td  class=\"col-xs-5\" >\n                        <span><b>Invoice No & Date:</b></span>\n                        <span style=\"float:right;\"><b>Exporter IEC</b></span><br>\n                        \n                        <span><b>{{doc.order_no}}&nbsp;&&nbsp;{{ frappe.format(frappe.db.get_value(\"Sales Invoice\",{\"name\":doc.order_no},\"posting_date\"),{'fieldtype':'Date'}) or \"\"  }}</b></span>\n                        <span style=\"float:right;\"><b>{{frappe.db.get_value('Company',{'name':doc.company},\"custom_exporter_iec\")or \"\"}}</b></span>\n                    </td>\n                </tr>\n                \n                <tr>\n                    <td>\n                        \n                          <span><b>Buyer's Order No & PO :</b></span> &nbsp; \n                            \n                        <span><b>{{frappe.db.get_value(\"Sales Invoice\",{\"name\":doc.order_no},\"po_no\") or \"\"}}</b></span>\n                        \n                    </td>\n                </tr>\n                \n                <tr>\n                    <td>\n                        <p><b>CIN No:{{frappe.db.get_value('Customer',{'name':doc.customer},\"custom_cin_number\")or \"\"}}</b></p>\n                    </td>\n                </tr>\n                \n                <tr>\n                    <td>\n                        <p><b>GSTIN No :&nbsp;{{frappe.db.get_value('Address',{'address_title':doc.company},'gstin') or \"\"}}</b></p>\n                        <p><b>Other References :</b></p>\n                    </td>\n                </tr>\n                \n                \n                \n                <tr>\n                    <td colspan=\"2\">\n                        <p><b>Consignee</b></p>\n                        <p>{{frappe.db.get_value(\"Address\",{'address_title':doc.customer},\"address_title\")or \"\"}}</p>\n                        <p>{{frappe.db.get_value(\"Address\",{'address_title':doc.customer},\"address_line1\") or \"\"}}</p>\n                        <p>{{frappe.db.get_value(\"Address\",{'address_title':doc.customer},\"address_line2\") or \"\"}}</p>\n                        <p>{{frappe.db.get_value(\"Address\",{'address_title':doc.customer},\"city\")or \"\"}}</p>\n                        <p>{{frappe.db.get_value(\"Address\",{'address_title':doc.customer},\"state\")or \"\"}}</p>\n                        <p>{{frappe.db.get_value(\"Address\",{'address_title':doc.customer},\"country\")or \"\"}}</p>\n                    </td>\n                    \n                    <td>\n                        <p><b>Buyer if Other  than consignee</b></p>\n                        <p>{{frappe.db.get_value(\"Address\",{'address_title':doc.customer},\"address_title\")or \"\"}}</p>\n                        <p>{{frappe.db.get_value(\"Address\",{'address_title':doc.customer},\"address_line1\") or \"\"}}</p>\n                        <p>{{frappe.db.get_value(\"Address\",{'address_title':doc.customer},\"address_line2\") or \"\"}}</p>\n                        <p>{{frappe.db.get_value(\"Address\",{'address_title':doc.customer},\"city\")or \"\"}}</p>\n                        <p>{{frappe.db.get_value(\"Address\",{'address_title':doc.customer},\"state\")or \"\"}}</p>\n                        <p>{{frappe.db.get_value(\"Address\",{'address_title':doc.customer},\"country\")or \"\"}}</p>\n                    </td>\n                </tr>\n                \n                <tr>\n                    <td><p><b>Pre Carriage by:</b></p>\n                    \n                    <p>{{doc.custom_pre_carriage_by or \"\"}}</p>\n                    \n                    </td>\n                    \n                        \n                    <td><p><b>Place of receipt by pre-carrier</b></p>\n                    \n                    <p>{{doc.custom_place_of_receipt_by_precarrier or \"NA\"}}</p>\n                    \n                    \n                    </td>\n                    <td style=\"position:relative; height:40px\">\n                        <span>\n                        <b>Country of Origin of Goods</b></span> &nbsp;\n                        <br>\n                        \n                        <span style=\"position:absolute;top:23px; left:7px; bottom:2px; \">{{doc.pol_country_airport or \"\"}}</span>\n                    </td>\n                </tr>\n                \n                <tr>\n                    <td>\n                        <p><b>Vessels / Flight No.</b></p>\n                        <p>BY&nbsp;{{doc.cargo_type or \"\"}}</p>\n                    </td>\n                    <td>\n                        <p><b>Port of Loading</b></p>\n                        <p>{{doc.pol_city_airport or \"\"}}</p>\n                    </td>\n                    <td rowspan=\"3\">\n                        <p>\n                            <b>Terms of Delivery & Payment</b>\n                        </p>\n                        <p>{{frappe.db.get_value(\"Sales Invoice\",{\"name\":doc.order_no},\"terms\") or \"\"}}</p><br>\n                        \n                        <p><b>Payment</b></p>\n                        <p>{{frappe.db.get_value(\"Payment Schedule\",{'parent':doc.order_no},\"payment_term\") or \" \"}}</p>\n                        \n                        \n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        <p><b>Port Of Discahrge</b></p>\n                        <p>{{doc.pod_city_airport or \"\"}}</p>\n                    </td>\n                    <td>\n                        <p><b>Final Destination</b></p>\n                        <p>{{doc.final_destination or \"\"}}</p>\n                    </td>\n                </tr>\n                \n                <tr>\n                    <td colspan=\"2\">\n                        <p><b>General Description of the below mentioned Products is Automobile Components</b></p>\n                    </td>\n                </tr>\n                \n                \n            </table>\n            \n        </div>\n    </div>\n    \n</div>\n\n\n\n\n<div class=\"container\">\n    <div class=\"row\">\n        <div class=\"col-xs-12 p-0\">\n            <table width=100% style=\"border-collapse:collapse; \" class=\"tab2 mr-0 ml-0\">\n                \n                <tr style=\"border-bottom:1px solid black;\">\n                    <td ><b><center>Marks & Nos</center></b></td>\n                    <td ><b><center>No of packages</center></b></td>\n                    <td rowspan=\"2\"><b><center>Parts/BOX</center></b></td>\n                    <td rowspan=\"2\"><b><center>Item Code</center></b></td>\n                    <td rowspan=\"2\"><b><center>Description of Goods</center></b></td>\n                    <td rowspan=\"2\"><b><center>HSN Code</center></b></td>\n                    <td rowspan=\"2\"><b><center>Quality Nos</center></b></td>\n                    <td rowspan=\"2\"><b><center>Remark</center></b></td>\n                </tr>\n                <tr style=\"border-bottom:1px solid black;\">\n                    <td><b><center>Pallet Details</center></b></td>\n                    <td><b><center>Boxes</center></b></td>\n                </tr>\n                \n                \n                \n                {%- for i in doc.product_description_so -%}\n                \n                <tr style=\"border-bottom:none !important; border-top:none;\">\n                    <td class=\"no-border-1\" style=\"text-align:center;\">{{i.custom_no_of_pallets or \"\"}}</td>\n                    \n                       \n\n                    \n                    <td class=\"no-border-1\" style=\"text-align:center;\">{{i.custom_no_of_boxes or \"\"}}</td>\n                    \n                        \n\n                    \n                    <td class=\"no-border-1\" style=\"text-align:center;\">{{frappe.db.get_value(\"Box Table\",{'parent':i.item_code,\"box\":i.custom_box},\"qty\")or \"\"}}</td>\n                    <td class=\"no-border-1\">{{i.item_code or \"\"}}</td>\n                    <td class=\"no-border-1\">{{i.description or \"\"}}</td>\n                    <td class=\"no-border-1\" style=\"text-align:center;\">{{i.gst_hsn_code or \"\"}}</td>\n                    <td class=\"no-border-1\"  style=\"text-align:center;\">{{i.qty or \"\"}}</td>\n                    <td class=\"no-border-1\" ></td>\n                    \n                </tr>\n                \n                \n                {%- endfor-%}\n                \n                {% set p_total = doc.product_description_so | map(attribute=\"custom_no_of_pallets\") | sum %}\n                {% set b_total = doc.product_description_so | map(attribute=\"custom_no_of_boxes\") | sum %}\n                {% set q_total = doc.product_description_so | map(attribute=\"qty\") | sum %}\n                \n                \n                <tr style=\"border-bottom:none !important;\">\n                    <td colspan=\"1\" class=\"no-border\">\n                        <center><p><b>{{p_total}}</b></p></center>\n                    </td>\n                    <td colspan=\"1\" class=\"no-border\">\n                       <center><p><b>{{b_total}}</b></p></center> \n                    </td>\n                    <td colspan=\"5\" class=\"no-border\">\n                       <p style=\"text-align:right;\" class=\"mr-5\"><b>{{q_total}}</b></p> \n                    </td>\n                    <td colspan=\"1\" class=\"no-border\">\n                        \n                    </td>\n                </tr>\n                \n                <tr style=\"border-bottom:none !important; border-top:none !important\" >\n                    <td colspan=\"8\" class=\"no-border\">\n                        <p>This Shipment under duty draw back </p>\n                    </td>\n                </tr>\n                \n                <tr style=\"border-top:none !important; border-bottom:none;\">\n                    <td colspan=\"3\" style=\"text-align:right; \" class=\"no-border\">\n                        <p><b><u>COUNTRY OF ORIGIN :{{doc.pol_country_airport or \"\"}}</u></b></p>\n                    </td>\n                    <td colspan=\"5\" class=\"no-border\">\n                        \n                    </td>\n                </tr>\n                \n                <tr >\n                    \n                    <td colspan=\"3\" class=\"no-border\">\n                        <b>Total Gross Weight&nbsp;&nbsp;{{doc.gross_wt}}KGS</b>\n                    </td>\n                    <td colspan=\"5\" class=\"no-border\" style=\"position:relative; \">\n                        <b style=\"position:absolute; left:50px;\" >Total Net Weight&nbsp;&nbsp;{{doc.net_wt}}KGS</b> \n                        \n                        <b style=\"position:absolute; left:350px;\">Total No.of Packaged:{{p_total}}Nos</b>\n                    </td>\n                </tr>\n                \n                <tr  style=\"border-top:none !important; border-bottom:none !important ;\">\n                    <td colspan=\"8\" class=\"no-border\">\n                        <table syle=\"border-collapse:collapse; border:1px solid black;\">\n                            <tr>\n                                <td rowspan=\"2\">\n                                    <p><b>Box Dimensions<br></b></p>\n                                    <center><b>(mm)</b></center>\n                                </td>\n                                <td><p><b>Length</b></p></td>\n                                <td><p><b>Width</b></p></td>\n                                <td><p><b>Height</b></p></td>\n                            </tr>\n                            <tr>\n                                <td style=\"text-align:center;\">{{frappe.db.get_value(\"Box Summary\",{'parent':doc.name},\"total_length\") or \"\"}}</td>\n                                <td style=\"text-align:center;\">{{frappe.db.get_value(\"Box Summary\",{'parent':doc.name},\"total_breadth\") or \"\"}}</td>\n                                <td style=\"text-align:center;\">{{frappe.db.get_value(\"Box Summary\",{'parent':doc.name},\"total_height\") or \"\"}}</td>\n                            </tr>\n                            <tr>\n                                <td><p><b>Pallet Dimension</b><br></p>\n                                <center><b>(mm)</b></center></td>\n                                <td style=\"text-align:center;\">{{frappe.db.get_value(\"Pallet Summary\",{'parent':doc.name},\"total_length\") or \"\"}}</td>\n                                <td style=\"text-align:center;\">{{frappe.db.get_value(\"Pallet Summary\",{'parent':doc.name},\"total_breadth\") or \"\"}}</td>\n                                <td style=\"text-align:center;\">{{frappe.db.get_value(\"Pallet Summary\",{'parent':doc.name},\"total_height\") or \"\"}}</td>\n                            </tr>\n                        </table>\n                    </td>\n                </tr>\n                \n                <tr style=\"border-top:none !important; border-bottom:none !important ;\">\n                    <td colspan=\"8\" class=\"no-border\">\n                        \n                        \n                        <p><b><u>DECLARATION</u></b></p>\n                        <P>We declare that this packing list shows the actual</P>\n                        <P>Weight of the goods</P>\n                        <P>Described and that all particulars are true and correct</P>\n                                    \n                        \n                        \n                    </td>\n                    \n                </tr>\n                \n            </table>\n            \n            \n            \n          \n            \n        </div>\n    </div>\n    \n   </div> \n<footer id=\"footer-html\">\n   <table width=\"100%\" style=\"border:none;\">\n       <tr>\n           <td width=\"100%\" style=\"text-align:center; font-size:10px;border:none; padding:0; margin:0;\">\n               <i>Page <span class=\"page\"></span> / <span class=\"topage\"></span></i>\n           </td>\n       </tr>\n   </table>\n</footer>\n\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-10-12 14:43:25.598382",
  "module": "ONEGENE",
  "name": "Export Packing List",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "td {\n    font-size: 13px;\n}\n\n/*no-side {*/\n/*    border-right-style: hidden;*/\n/*    border-left-style: hidden;*/\n/*}*/",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Material Request",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "\r\n{% set total_items = doc.items|length %}\r\n{% for i in range(0, total_items, 34) %}\r\n    {% set batch = doc.items[i:i+34] %}\r\n    \r\n    {% if i > 0 %}\r\n        <div style=\"page-break-before: always;\"></div>\r\n    {% endif %}\r\n\r\n    <table width=\"100%\" style=\"border-bottom-style: hidden;\">\r\n        <tr style=\"border: solid 1px black;\">\r\n            <td><img src=\"/files/ci_img.png\" width=\"120px\"></td>\r\n            <td style=\"text-align: center; font-weight: 700; font-size: 18px;\">MATERIAL REQUEST NOTE</td>\r\n            <td style=\"text-align: right;\">DOCUMENT NO : STR\\R\\02</td>\r\n        </tr>\r\n    </table>\r\n\r\n    <table width=\"100%\">\r\n        <tr style=\"border: solid 1px black;\">\r\n            <td colspan=4 style=\"padding-left: 20px;\">MR No. : {{doc.name}}</td>\r\n            <td colspan=5 style=\"text-align: right; padding-right: 20px;\">\r\n                MR Date: {{ doc.creation.strftime('%d-%m-%Y %H:%M:%S') }}\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"font-weight: 700;border: solid 1px black;\">S.No.</td>\r\n            <td style=\"font-weight: 700;border: solid 1px black;\">Item Description</td>\r\n            <td style=\"font-weight: 700;border: solid 1px black;\">Rate</td>\r\n            <td style=\"font-weight: 700;border: solid 1px black;\">Req Amt INR</td>\r\n            <td style=\"font-weight: 700;border: solid 1px black;\">Actual Qty</td>\r\n            <td style=\"font-weight: 700;border: solid 1px black;\">Req vs Short</td>\r\n            <td style=\"font-weight: 700;border: solid 1px black;\">Total Req Qty</td>\r\n            <td style=\"font-weight: 700;border: solid 1px black;\">Shop Floor Qty</td>\r\n            <td style=\"font-weight: 700;border: solid 1px black;\">Req Qty</td>\r\n        </tr>\r\n\r\n        {% for row in batch %}\r\n        <tr>\r\n            <td style=\"text-align: right;border: solid 1px black;\">{{row.idx}}</td>\r\n            <td style=\"border: solid 1px black;\">{{row.item_code or ''}} - {{row.item_name or ''}}</td>\r\n            <td style=\"text-align: right;border: solid 1px black;\">{{row.rate or 0}}</td>\r\n            <td style=\"text-align: right;border: solid 1px black;\">{{row.amount or 0}}</td>\r\n            <td style=\"text-align: right;border: solid 1px black;\">{{row.actual_qty or 0}}</td>\r\n            <td style=\"text-align: right;border: solid 1px black;\">{{row.custom_required_vs_short_qty or 0}}</td>\r\n            <td style=\"text-align: right;border: solid 1px black;\">{{row.custom_total_req_qty or 0}}</td>\r\n            <td style=\"text-align: right;border: solid 1px black;\">{{row.custom_shop_floor_stock or 0}}</td>\r\n            <td style=\"text-align: right;border: solid 1px black;\">{{row.custom_requesting_qty or 0}}</td>\r\n        </tr>\r\n        {% endfor %}\r\n        <tr style=\"border: solid 1px black;\">\r\n            <td colspan=9 style=\"border: solid 1px black;\"><br><br><br></td>\r\n        </tr>\r\n        <tr style=\"border: solid 1px black; border-top-style: hidden;\">\r\n            <td colspan=9 style=\"font-weight: 700;\">\r\n                Prepared By &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                Block HOD &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                AGM &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                Approved By &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                Issued By &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                Received By\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    \r\n{% endfor %}\r\n<footer id=\"footer-html\">\r\n   <table width=\"100%\" style=\"border:none;\">\r\n       <tr>\r\n           <td width=\"100%\" style=\"text-align:center; font-size:10px;border:none; padding:0; margin:0;\">\r\n               <i>Page <span class=\"page\"></span> / <span class=\"topage\"></span></i>\r\n           </td>\r\n       </tr>\r\n   </table>\r\n</footer>\r\n\r\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\r\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-09-26 10:12:10.877281",
  "module": "ONEGENE",
  "name": "Material Request",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Job Card",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<img src=\\\"https://api.qrserver.com/v1/create-qr-code/?size=100x100&amp;data={{ doc.custom_scan_barcode }}\\\" alt=\\\"QR Code\\\" />\\n<p>{{ doc.name }}</p>\\n<p>{{ doc.production_item }}</p>\\n<p>{{ doc.total_completed_qty }}</p>\\n\"}]",
  "html": "{% if (doc.custom_accepted_qty % doc.custom_pack_size) > 0  %}\n{% for i in range(1, doc.custom_no_of_bins) %}\n<table class=\"mb-5\">\n    <tr>\n        <td rowspan=5>\n            <img width=\"100px\" src=\"https://api.qrserver.com/v1/create-qr-code/?size=100x100&amp;data={{ doc.custom_scan_barcode }}\" alt=\"QR Code\" />\n        </td>\n        <td><b>&nbsp;Date: {{ doc.posting_date }}</b></td>\n    </tr>\n    <tr>\n        <td><b>&nbsp;Job Card: {{ doc.name }}</b></td>\n    </tr>\n    <tr>\n        <td><b>&nbsp;Item: {{ doc.production_item }} - {{ doc.item_name }}</b></td>\n    </tr>\n    <tr>\n        <td><b>&nbsp;Accepted Quantity: {{ doc.custom_pack_size | int }}</b></td>\n    </tr>\n</table>\n{% endfor %}\n{% else %}\n{% for i in range(1, doc.custom_no_of_bins + 1) %}\n<table class=\"mb-5\">\n    <tr>\n        <td rowspan=5>\n            <img width=\"100px\" src=\"https://api.qrserver.com/v1/create-qr-code/?size=100x100&amp;data={{ doc.custom_scan_barcode }}\" alt=\"QR Code\" />\n        </td>\n        <td><b>&nbsp;Date: {{ doc.posting_date }}</b></td>\n    </tr>\n    <tr>\n        <td><b>&nbsp;Job Card: {{ doc.name }}</b></td>\n    </tr>\n    <tr>\n        <td><b>&nbsp;Item: {{ doc.production_item }} - {{ doc.item_name }}</b></td>\n    </tr>\n    <tr>\n        <td><b>&nbsp;Accepted Quantity: {{ doc.custom_pack_size | int }}</b></td>\n    </tr>\n</table>\n{% endfor %}\n{% endif %}\n\n{% if (doc.custom_accepted_qty % doc.custom_pack_size) > 0%}\n<table class=\"mb-5\">\n    <tr>\n        <td rowspan=5>\n            <img width=\"100px\" src=\"https://api.qrserver.com/v1/create-qr-code/?size=100x100&amp;data={{ doc.custom_scan_barcode }}\" alt=\"QR Code\" />\n        </td>\n        <td><b>&nbsp;Date: {{ doc.posting_date }}</b></td>\n    </tr>\n    <tr>\n        <td><b>&nbsp;Job Card: {{ doc.name }}</b></td>\n    </tr>\n    <tr>\n        <td><b>&nbsp;Item: {{ doc.production_item }} - {{ doc.item_name }}</b></td>\n    </tr>\n    <tr>\n        <td><b>&nbsp;Accepted Quantity: {{ (doc.custom_accepted_qty % doc.custom_pack_size) | int }}</b></td>\n    </tr>\n</table>\n{% endif %}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n{% if doc.custom_rejected_qty > 0 %}\n<table class=\"mb-5\">\n    <tr>\n        <td rowspan=5>\n            <img width=\"100px\" src=\"https://api.qrserver.com/v1/create-qr-code/?size=100x100&amp;data={{ frappe.utils.get_url('/app/job-card/' + doc.name) }}\" alt=\"QR Code\" />\n        </td>\n        <td><b>&nbsp;Date: {{ doc.posting_date }}</b></td>\n    </tr>\n    <tr>\n        <td><b>&nbsp;Job Card: {{ doc.name }}</b></td>\n    </tr>\n    <tr>\n        <td><b>&nbsp;Item: {{ doc.production_item }} - {{ doc.item_name }}</b></td>\n    </tr>\n    <tr>\n        <td><b>&nbsp;Rejected Quantity: {{ doc.custom_rejected_qty | int }}</b></td>\n    </tr>\n</table>\n{% endif %}\n\n{% if doc.custom_rework_waiting_qty_details > 0 %}\n<table class=\"mb-5\">\n    <tr>\n        <td rowspan=6>\n            <img width=\"100px\" src=\"https://api.qrserver.com/v1/create-qr-code/?size=100x100&amp;data={{ frappe.utils.get_url('/app/job-card/' + doc.name) }}\" alt=\"QR Code\" />\n        </td>\n        <td><b>&nbsp;Date: {{ doc.posting_date }}</b></td>\n    </tr>\n    <tr>\n        <td><b>&nbsp;Job Card: {{ doc.name }}</b></td>\n    </tr>\n    <tr>\n        <td><b>&nbsp;Item: {{ doc.production_item }} - {{ doc.item_name }}</b></td>\n    </tr>\n    <tr>\n        <td><b>&nbsp;Rework Quantity: {{ doc.custom_rework_waiting_qty_details | int }}</b></td>\n    </tr>\n</table>\n{% endif %}\n<footer id=\"footer-html\">\n   <table width=\"100%\" style=\"border:none;\">\n       <tr>\n           <td width=\"100%\" style=\"text-align:center; font-size:10px; padding:0; margin:0;\">\n               <i>Page <span class=\"page\"></span> / <span class=\"topage\"></span></i>\n           </td>\n       </tr>\n   </table>\n</footer>\n\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-09-18 15:24:56.439342",
  "module": "ONEGENE",
  "name": "Job Card",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Quality Inspection",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<img src=\\\"https://api.qrserver.com/v1/create-qr-code/?size=100x100&amp;data={{ doc.custom_scan_barcode }}\\\" alt=\\\"QR Code\\\" />\\n<p>{{ doc.name }}</p>\\n<p>{{ doc.production_item }}</p>\\n<p>{{ doc.total_completed_qty }}</p>\\n\"}]",
  "html": "<img width=\"100px\" src=\"https://api.qrserver.com/v1/create-qr-code/?size=100x100&amp;data={{ doc.name }}\" alt=\"QR Code\" />\n<footer id=\"footer-html\">\n   <table width=\"100%\" style=\"border:none;\">\n       <tr>\n           <td width=\"100%\" style=\"text-align:center; font-size:10px; padding:0; margin:0;\">\n               <i>Page <span class=\"page\"></span> / <span class=\"topage\"></span></i>\n           </td>\n       </tr>\n   </table>\n</footer>\n\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-09-17 18:51:57.778980",
  "module": "ONEGENE",
  "name": "Quality Inspection QID",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "td {\n    font-size: 13px;\n}\n\n/*no-side {*/\n/*    border-right-style: hidden;*/\n/*    border-left-style: hidden;*/\n/*}*/",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Material Request",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\r\n.page-wrapper {\r\n    border: 2px solid black;\r\n    box-sizing: border-box;\r\n    min-height: 257mm; /* full page height */\r\n    max-width: 200mm;\r\n    margin: 0 auto;\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.content-wrapper {\r\n    flex: 1; /* grow to fill space above footer */\r\n}\r\n\r\n.item-table {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n    margin-top:-5px;\r\n}\r\n\r\n.item-table th, .item-table td {\r\n    border: 1px solid black;\r\n    padding: 4px;\r\n    text-align: center;\r\n}\r\n\r\n.item-table td.right-align {\r\n    text-align: right;\r\n}\r\n\r\n.signature-footer {\r\n    margin-top: auto; /* push to bottom */\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n}\r\n\r\n.signature-footer td {\r\n    font-weight: 700;\r\n    margin-bottom:-80px;\r\n    border-top: 1px solid black;\r\n}\r\n</style>\r\n\r\n{% set total_items = doc.items|length %}\r\n{% for i in range(0, total_items, 25) %}\r\n    {% set batch = doc.items[i:i+25] %}\r\n{% set last_index = total_items - 1 %}\r\n{% set is_last_batch = (i + batch|length) == total_items %}\r\n\r\n    <div class=\"page-wrapper\">\r\n        <div class=\"content-wrapper\">\r\n\r\n            {% if i == 0 %}\r\n                <!-- Header (only on first page) -->\r\n                <table width=\"100%\" style=\"border-bottom-style: hidden; margin-bottom:5px;border-top:hidden;border-left:hidden;border-right:hidden\">\r\n                    <tr style=\"border: solid 1px black;\">\r\n                        <td><img src=\"/files/ci_img.png\" width=\"120px\"></td>\r\n                        <td style=\"text-align: center; font-weight: 700; font-size: 18px;\">MATERIAL REQUEST NOTE</td>\r\n                        <td style=\"text-align: right;\">DOCUMENT NO : STR\\R\\02</td>\r\n                    </tr>\r\n                </table>\r\n\r\n                <!-- MR Info (only on first page) -->\r\n                <table style=\"width:100%; border-collapse: collapse;margin-top:-4px;\">\r\n                    <tr>\r\n                        <td style=\"width:65%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;border-left:hidden; font-size: 11px;\">\r\n                            <p style=\"line-height:1\">\r\n                                <span style=\"display:inline-block; width:90px;border-left:hidden\">Department</span>: {{ doc.custom_department or '' }}<br><br>\r\n                                <span style=\"display:inline-block; width:90px;border-left:hidden;\">Requested By</span>: <span style=\"font-size: 9px;\">{{ doc.custom_requested_by or '' }} - {{ doc.custom_requester_name or '' }}</span><br><br>\r\n                                <span style=\"display:inline-block; width:90px;border-left:hidden\">Warehouse</span>: {{ doc.set_from_warehouse or '' }}\r\n                            </p>\r\n                        </td>\r\n                        <td style=\"width:35%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;border-right:hidden; font-size: 11px;\">\r\n                            <p style=\"line-height:1;\">\r\n                                <span style=\"display:inline-block; width:80px;border-right:hidden\">MR No</span>: {{doc.name}}<br><br>\r\n                                <span style=\"display:inline-block; width:80px;border-right:hidden\">MR Date</span>: {{ frappe.utils.format_date(doc.transaction_date, \"dd-MM-yyyy\") or '' }}\r\n                            </p>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            {% else %}\r\n                <div style=\"page-break-before: always;\"></div>\r\n            {% endif %}\r\n\r\n            <!-- Items Table -->\r\n            <table class=\"item-table\">\r\n                <tr>\r\n                    <th style=\"border-left:hidden; font-size: 9px;\">S.No.</th>\r\n                    <th style=\"font-size: 9px;\">Item Description</th>\r\n                    <th style=\"font-size: 9px;\">MR Req Qty</th>\r\n                    <th style=\"font-size: 9px;\">Shop Floor Qty</th>\r\n                    <th style=\"border-right:hidden; font-size: 9px;\">Today Req Qty</th>\r\n                </tr>\r\n                {% for row in batch %}\r\n                <tr>\r\n                    <td class=\"right-align;\" style=\"border-left:hidden; font-size: 9px;border-bottom:hidden;\">{{ loop.index + i }}</td>\r\n                    <td style=\"font-size: 9px; text-align: left;border-bottom:hidden;\">{{row.item_code or ''}} - {{row.item_name or ''}}</td>\r\n                    <td class=\"right-align\" style=\"font-size: 9px;border-bottom:hidden;\">{{row.custom_total_req_qty or 0}}</td>\r\n                    <td class=\"right-align\" style=\"font-size: 9px;border-bottom:hidden;\">{{row.custom_shop_floor_stock or 0}}</td>\r\n                    <td style=\"border-right:hidden;text-align:right; font-size: 9px;border-bottom:hidden;\">{{row.custom_requesting_qty or 0}}</td>\r\n                </tr>\r\n                {% endfor %}\r\n            </table>\r\n            <table style=\"width:100%\">\r\n                {% if is_last_batch %}\r\n<tr>\r\n    <td colspan=\"4\" style=\"font-weight:bold; text-align:center; border-left:hidden; border-right:hidden; font-size: 10px;border-top:1px solid black ! important;border-bottom:1px solid black;\">Total</td>\r\n    <td style=\"font-weight:bold; text-align:right; border-right:hidden; font-size: 9px;border-top:1px solid black;border-bottom:1px solid black;\">\r\n        {{ doc.items | sum(attribute='custom_requesting_qty') }}\r\n    </td>\r\n</tr>\r\n{% endif %}\r\n\r\n            </table>\r\n        </div>\r\n    </div>\r\n{% endfor %}\r\n<table class=\"signature-footer\" style=\"margin-top:-160px;padding-top:20px;\">\r\n\r\n    {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.owner}, \"custom_digital_signature\") %}\r\n\t\t\t{% set prepared_by_name = frappe.db.get_value(\"User\", doc.owner, \"full_name\") if doc.owner else None %}\r\n    {% set hod_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.custom_hod_approved_by}, \"custom_digital_signature\") %}\r\n    {% set plant_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.custom_erp_team}, \"custom_digital_signature\") %}\r\n    <tr>\r\n        <td style=\"text-align:center; border-right:none;font-size:9px;border-bottom:none;\"></td>\r\n        <td style=\"text-align:center; border-left:none; border-right:none;font-size:9px;border-bottom:none;\"></td> \r\n        <td style=\"text-align:center; border-left:none;font-size:9px;border-bottom:none;\"></td>\r\n    </tr>\r\n    <tr>\r\n        <td style=\"text-align:center; border-right:none;border-bottom:hidden;padding:top:8px;border-top:none;\">\r\n        {% if prepared_signature %}\r\n        <img src=\"{{ prepared_signature }}\" style=\"height:30px;\">\r\n          {%else%}\r\n        <b style=\"font-size: 12px; height: 30px;\">{{prepared_by_name}}</b>\r\n        {% endif %}\r\n        </td>\r\n        <td style=\"text-align:center; border-right:none;border-bottom:hidden;padding:top:20px;border-top:none;\">\r\n        {% if hod_signature %}\r\n        <img src=\"{{ hod_signature }}\" style=\"height:40px;\">\r\n          {%else%}\r\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:40px;\">\r\n        {% endif %}\r\n        </td>\r\n        <td style=\"text-align:center; border-right:none;border-bottom:hidden;padding:top:8px;border-top:none;\">\r\n        {% if plant_signature %}\r\n        <img src=\"{{ plant_signature }}\" style=\"height:30px;\">\r\n          {%else%}\r\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:40px;\">\r\n        {% endif %}\r\n        </td>\r\n    </tr>\r\n    <tr>\r\n        <td style=\"text-align:center; border-right:none;font-size:9px;border-bottom:none;\">{{ frappe.utils.format_datetime(doc.creation, \"dd-MM-yyyy HH:mm:ss\") or '' }}</td>\r\n        <td style=\"text-align:center; border-left:none; border-right:none;font-size:9px;border-bottom:none;\">{{ frappe.utils.format_datetime(doc.custom_hod_approved_on, \"dd-MM-yyyy HH:mm:ss\") or '' }}</td> \r\n        <td style=\"text-align:center; border-left:none;font-size:9px;border-bottom:none;\">{{ frappe.utils.format_datetime(doc.custom_erp_team_approved_on, \"dd-MM-yyyy HH:mm:ss\") or '' }}</td>\r\n    </tr>\r\n     <tr>\r\n        <td style=\"text-align:center; border-right:none;border-top:none;\">Prepared</td>\r\n        <td style=\"text-align:center; border-left:none; border-right:none;border-top:none;\">HOD</td> \r\n        <td style=\"text-align:center; border-left:none;border-top:none;\">ERP Team</td>\r\n    </tr>\r\n</table>\r\n<div style=\"text-align:left; font-size:11px;margin-top:10px;font-weight:normal; padding-left: 20px;\">\r\n    Note: This document is Digitally Signed\r\n</div>\r\n<footer id=\"footer-html\">\r\n   <table width=\"100%\" style=\"border:none;\">\r\n       <tr>\r\n           <td width=\"100%\" style=\"text-align:center; font-size:10px;border:none; padding:0; margin:0;\">\r\n               <i>Page <span class=\"page\"></span> / <span class=\"topage\"></span></i>\r\n           </td>\r\n       </tr>\r\n   </table>\r\n</footer>\r\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\">",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-11-06 12:48:57.736843",
  "module": "ONEGENE",
  "name": "MR Print",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n@page {\n    size: A4;\n    margin: 5mm 5mm 5mm 5mm; /* top right bottom left */\n}\n\n.page-wrapper {\n    border: 2px solid black;\n    padding: 2mm;\n    box-sizing: border-box;\n    min-height: 265mm; /* full page height */\n    max-width:200mm;\n    margin-top:0mm;\n    \n}\n.content {\n    margin-bottom: 50mm; /* leave space for repeated footer */\n        width: 100%;\n\n}\n.fixed-footer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    padding: 2mm 5mm;\n    box-sizing: border-box;\n    border-top:none;\n    font-size: 10px;\n}\n\n.footer {\n    display: block;\n    position: running(footer); /* makes it a repeated element on every page */\n}\n/* tables inside footer */\n.fixed-footer table {\n    width: 100%;\n    border-collapse: collapse;\n}\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n            page-break-inside: avoid;\n\n    }\n    td, th {\n        border: 1px solid black;\n    }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n        width: 100%;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<div class=\"page-wrapper\">\n    <div class=\"content\">\n\n<table>\n    <tr>\n        <td style=\"width: 15%;text-align:center;border-right:none;border-bottom:none;border-bottom:bold\">\n            <div style=\"padding-top:8px;\">\n                <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\n            </div>\n        </td>\n        <td style=\"width:30%;font-size:20px;text-align:center;border-right:none;border-bottom:none;padding-top:13px\" nowrap>\n            <div class=\"header-title\" style=\"padding-top:10px\">INTER OFFICE MEMO (I O M)</div>         </td>\n        <td style=\"width:15%;white-space:nowrap;border-bottom:none;font-weight:bold;\">\n    <div style=\"padding-top:13px;border-bottom:none;\">\n        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\n            ✔\n        </span>\n        {{ doc.priority }}\n    </div>\n</td>\n\n\n\n    </tr>\n</table>\n{% set emp_name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n    \n\n<table style=\"width:100%; border-collapse: collapse; margin-top:-16px;\">\n    <tr>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;\">\n           <p style=\"line-height:1\">\n    <span style=\"display:inline-block; width:80px;\">Dept.From </span>:&nbsp;{{ doc.department_from or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Dept.To</span>:&nbsp; {{ doc.department_to or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Created By</span>: &nbsp;{{emp_name or '' }}<br><br>\n   \n</p>\n\n       </td>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;\">\n           <p style=\"line-height:1\">\n            <span style=\"display:inline-block; width:80px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Doc.No</span>: {{ doc.name }}<br><br>\n        <span style=\"display:inline-block; width:80px;\">Instructed By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\n   \n       </p></td>\n   </tr>\n    \n</table>\n<table style=\"margin-top:-30px; width: 100%;\">\n    <tr>\n        <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\n            SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;\n            <span style=\"display: inline-block; width: 60%; text-align: center;\">\n                {{ doc.iom_type or 'NA' }}\n            </span>\n        </td>\n    </tr>\n</table>\n\n{% set label_width = \"130px\" %} <!-- adjust as needed -->\n\n{% if doc.customer %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer Group</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.customer_group or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer Name</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.customer or 'NA' }}</span>\n</div>\n\n{% elif doc.supplier %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.supplier or 'NA' }}</span>\n</div>\n{% endif %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Currency</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.currency or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">PO No & PO Date</span>\n    <span>\n        :&nbsp;&nbsp;&nbsp;\n        {% if doc.proto_sample_po and doc.proto_sample_po[0] %}\n            {{ \n                doc.proto_sample_po[0].po_no \n                if doc.proto_sample_po[0].po_no \n                else (doc.proto_sample_po[0].po_no_new if doc.proto_sample_po[0].po_no_new else 'NA') \n            }}\n            &nbsp;/&nbsp;\n            {{ frappe.utils.formatdate(doc.proto_sample_po[0].po_date, \"dd-MM-yyyy\") if doc.proto_sample_po[0].po_date else 'NA' }}\n        {% else %}\n            NA / NA\n        {% endif %}\n    </span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">HSN Code</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.proto_sample_po[0].hsn_code if doc.proto_sample_po and doc.proto_sample_po[0].hsn_code else 'NA' }}</span>\n</div>\n{% if doc.customer_group == \"Domestic\" %}\n{% set ns = namespace(gst_rates=[]) %}  \n{% if doc.taxes %}\n    {% for t in doc.taxes %}\n        {% if t.rate %}\n            {% set ns.gst_rates = ns.gst_rates + [t.rate|int|string + '%'] %}\n        {% endif %}\n    {% endfor %}\n{% endif %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">GST Rate</span>\n    <span>:&nbsp;&nbsp;&nbsp;{{ ns.gst_rates | join(' + ') or '' }}</span>\n</div>\n{% endif %}\n\n\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Reason For Update</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.proto_sample_po[0].reason_for_request if doc.proto_sample_po and doc.proto_sample_po[0].reason_for_request else 'NA' }}</span>\n</div>\n\n<br>\n{% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table>\n    <tr>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:10px;\">S.No</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:10px;\">Item Code</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:10px;\">Item Name</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:10px;\">Qty</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:10px;\">PO Price ({{doc.currency or ''}})</td>\n                <td style=\"background-color:#fec76f;text-align:center;font-size:10px;\">Value({{doc.currency or ''}})</td>\n\n\n        </tr>\n    {% for i in doc.proto_sample_po%}\n    <tr>\n        <td>{{loop.index}}</td>\n        <td style=\"text-align:left;white-space:nowrap;font-size:10px;\">{{i.part_no or i.item_code_new or ''}}</td>\n        <td style=\"text-align:left;font-size:10px;\">{{i.part_name or i.item_name_new or ''}}</td>\n {% if i.type==\"Existing\"%}\n        <td style=\"text-align:center;white-space:nowrap;font-size:10px;\">{{i.qty or 0}}</td>\n        {% else%}\n        <td style=\"text-align:center;white-space:nowrap;font-size:10px;\">{{i.qty_new or 0}}</td>\n        {%endif%}\n        <td style=\"text-align:right;white-space:nowrap;font-size:10px;\">{{frappe.utils.fmt_money(i.po_price or i.po_price_new or 0 , currency=doc.currency)}}</td>\n        <td style=\"text-align:right;white-space:nowrap;font-size:10px;\">{{frappe.utils.fmt_money(i.value or 0 , currency=doc.currency)}}</td>\n\n    </tr>\n    {%endfor%}\n    <tr>\n        <td colspan=5 style=\"text-align:center;font-weight:bold\">Total PO Value({{doc.currency or ''}})</td>\n        <td colspan=1 style=\"text-align:right;font-weight:bold\">{{frappe.utils.fmt_money(doc.total_po_value or 0 , currency=doc.currency)}}</td>\n    </tr>\n      </table>\n<br>\n    <div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:50%;font-weight:bold;\">TERMS & CONDITIONS</span>\n</div><br>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Payment Terms</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.payment_terms or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Incoterms</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.wonjin_incoterms or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Mode Of Dispatch</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.mode_of_dispatch or 'NA' }}</span>\n</div>\n<div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n</div>\n<div class=\"fixed-footer\">\n\n\n\n<br><br>\n    <table>\n   <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:9.11%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:9.11%;background-color:#a5a3ac\">HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:9.11%;background-color:#a5a3ac\">ERP Team</td>\n    <td style=\"text-align:center; font-weight:bold; font-size:15px; width:9.11%;background-color:#a5a3ac\">Material Manager</td>\n\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:9.11%;background-color:#a5a3ac\">Plant Head</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:9.11%;background-color:#a5a3ac\">GM</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:9.11%;background-color:#a5a3ac\">Finance</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:9.11%;background-color:#a5a3ac\">BMD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:9.11%;background-color:#a5a3ac\">CMD</td>\n</tr>\n\n\n   <tr style=\"height: 50px;\">\n    {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n       {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\n\n       {% set gm_signature = frappe.db.get_value(\"Employee\", {\"name\":\"KR002\"}, \"custom_digital_signature\") %}\n        {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"BMD01\"}, \"custom_digital_signature\") %}\n        {% set cmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"CMD01\"}, \"custom_digital_signature\") %}\n        \n         {% set erp_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.erp_team}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.plant_head}, \"custom_digital_signature\") %}\n              {% set material_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.material_manager}, \"custom_digital_signature\") %}\n\n       {% set marketing_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.marketing_manager}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.finance}, \"custom_digital_signature\") %}\n      <td style=\"text-align:center;font-size:15px;\">\n    {% if prepared_signature %}\n        <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\n           {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n     {% if doc.date_time %}\n        {% set formatted_date = frappe.utils.formatdate(doc.date_time, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.date_time, \"HH:mm:ss\") %}\n          <span style=\"font-size:5px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n        <td style=\"text-align:center;font-size:15px;\">\n    {% if hod_signature %}\n        <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\n           {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.hod_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.hod_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.hod_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:5px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n <td style=\"text-align:center;font-size:15px;\">\n    {% if erp_signature %}\n        <img src=\"{{ erp_signature }}\" style=\"height:50px;\">\n           {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.erp_team_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.erp_team_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.erp_team_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:5px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if material_signature %}\n        <img src=\"{{ material_signature }}\" style=\"height:50px;\">\n           {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.material_manager_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.material_manager_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.material_manager_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:5px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n\n<td style=\"text-align:center;font-size:15px;\">\n    {% if plant_signature %}\n        <img src=\"{{ plant_signature }}\" style=\"height:50px;\">\n           {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.plant_head_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.plant_head_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.plant_head_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:5px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if gm_signature %}\n        <img src=\"{{ gm_signature }}\" style=\"height:50px;\">\n           {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.gm_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.gm_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.gm_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:5px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if finance_signature %}\n        <img src=\"{{ finance_signature }}\" style=\"height:50px;\">\n           {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.finance_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.finance_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.finance_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:5px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if bmd_signature %}\n        <img src=\"{{ bmd_signature }}\" style=\"height:50px;\">\n           {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.bmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.bmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.bmd_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:5px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if cmd_signature %}\n        <img src=\"{{ cmd_signature }}\" style=\"height:50px;\">\n           {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.cmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.cmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.cmd_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:5px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n</div>\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 17:58:47.894927",
  "module": "ONEGENE",
  "name": "Approval for Proto Sample PO",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n@page {\n    size: A4;\n    margin: 5mm 5mm 5mm 5mm; /* top right bottom left */\n}\n\n.page-wrapper {\n    border: 2px solid black;\n    padding: 2mm;\n    box-sizing: border-box;\n    min-height: 265mm; /* full page height */\n    max-width:200mm;\n    margin-top:0mm;\n    \n}\n.content {\n    margin-bottom: 50mm; /* leave space for repeated footer */\n        width: 100%;\n\n}\n.fixed-footer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    padding: 2mm 5mm;\n    box-sizing: border-box;\n    border-top:none;\n    font-size: 10px;\n}\n\n.footer {\n    display: block;\n    position: running(footer); /* makes it a repeated element on every page */\n}\n/* tables inside footer */\n.fixed-footer table {\n    width: 100%;\n    border-collapse: collapse;\n}\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n            page-break-inside: avoid;\n\n    }\n    td, th {\n        border: 1px solid black;\n    }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n        width: 100%;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<div class=\"page-wrapper\">\n    <div class=\"content\">\n\n<table>\n    <tr>\n        <td style=\"width: 15%;text-align:center;border-right:none;border-bottom:none;border-bottom:bold\">\n            <div style=\"padding-top:8px;\">\n                <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\n            </div>\n        </td>\n        <td style=\"width:30%;font-size:20px;text-align:center;border-right:none;border-bottom:none;padding-top:13px\" nowrap>\n            <div class=\"header-title\" style=\"padding-top:10px\">INTER OFFICE MEMO (I O M)</div>         </td>\n        <td style=\"width:15%;white-space:nowrap;border-bottom:none;font-weight:bold;\">\n    <div style=\"padding-top:13px;border-bottom:none;\">\n        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\n            ✔\n        </span>\n        {{ doc.priority }}\n    </div>\n</td>\n\n\n\n    </tr>\n</table>\n\n{% set emp_name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n<table style=\"width:100%; border-collapse: collapse; margin-top:-16px;\">\n    <tr>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;\">\n           <p style=\"line-height:1\">\n    <span style=\"display:inline-block; width:80px;\">Dept.From </span>:&nbsp;{{ doc.department_from or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Dept.To</span>:&nbsp; {{ doc.department_to or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Created By</span>: &nbsp;{{emp_name or '' }}<br><br>\n   \n</p>\n\n       </td>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;\">\n           <p style=\"line-height:1\">\n            <span style=\"display:inline-block; width:80px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Doc.No</span>: {{ doc.name }}<br><br>\n        <span style=\"display:inline-block; width:80px;\">Instructed By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\n\n       </p></td>\n   </tr>\n    \n</table>\n<table style=\"margin-top:-30px; width: 100%;\">\n    <tr>\n        <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\n            SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;\n            <span style=\"display: inline-block; width: 60%; text-align: center;\">\n                {{ doc.iom_type or 'NA' }}\n            </span>\n        </td>\n    </tr>\n</table>\n\n{% set label_width = \"130px\" %} <!-- adjust as needed -->\n\n{% if doc.customer %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer Name</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.customer or 'NA' }}</span>\n</div>\n\n{% elif doc.supplier %}\n    {% set supplier_name = frappe.db.get_value(\"Supplier\", {\"name\": doc.supplier}, \"supplier_name\") %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{supplier_name or 'NA' }}</span>\n</div>\n{% elif doc.new_customer %}\n    <div style=\"margin-bottom: 4px;\">\n        <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer</span>\n        <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.new_customer or 'NA' }}</span>\n    </div>\n\n\n{% endif %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Currency</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.currency or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">PO No & Date</span>\n    <span>\n        :&nbsp;&nbsp;&nbsp;\n        {{doc.po_no or \"NA\"}}&nbsp;/&nbsp;{{frappe.utils.formatdate(doc.po_date, \"dd-MM-yyyy\") or 'NA'}}\n    </span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">HSN Code</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.approval_business_po[0].hsn_code if doc.approval_business_po and doc.approval_business_po[0].hsn_code else 'NA' }}</span>\n</div>\n {% if doc.customer_group == \"Domestic\" or doc.new_customer_group==\"Domestic\"%}\n{% set ns = namespace(gst_rates=[]) %}  \n{% if doc.taxes %}\n    {% for t in doc.taxes %}\n        {% if t.rate %}\n            {% set ns.gst_rates = ns.gst_rates + [t.rate|string + '%'] %}\n        {% endif %}\n    {% endfor %}\n{% endif %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">GST Rate</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ ns.gst_rates | join(' + ') or '' }}</span>\n</div>\n\n{% endif %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Order Type</span>\n    <span>:&nbsp;&nbsp;&nbsp;\n        {{doc.order_type or 'NA' }}\n    </span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Remarks</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.subject or 'NA' }}</span>\n</div>\n\n<br>\n{% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table>\n    <tr>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:10px;\">S.No</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:10px;\">Item Code</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:10px;\">Item Name</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">UOM</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:10px;\">Qty</td>\n            <td style=\"background-color:#fec76f;text-align:center;\">PO Price({{doc.currency or ''}})</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Value({{doc.currency or ''}})</td>\n\n\n        </tr>\n    {% for i in doc.approval_business_po%}\n    <tr>\n        <td>{{loop.index}}</td>\n        <td style=\"text-align:left;white-space:nowrap;font-size:10px;\">{{i.part_no or ''}}</td>\n        <td style=\"text-align:left;font-size:10px;\">{{i.part_name or ''}}</td>\n         <td style=\"text-align:center;white-space:nowrap;\">{{i.uom or ''}}</td>\n        <td style=\"text-align:center;white-space:nowrap;font-size:10px;\">{{i.qty or ''}}</td>\n        <td style=\"text-align:right;white-space:nowrap;\">{{frappe.utils.fmt_money(i.po_price or 0 , currency=doc.currency)}}</td>\n        <td style=\"text-align:right;white-space:nowrap;\">{{frappe.utils.fmt_money(i.value or 0 , currency=doc.currency)}}</td>\n\n    </tr>\n    {%endfor%}\n    <tr><td colspan=6 style=\"text-align:center;font-weight:bold\">Total PO Value</td>\n    <td colspan=1 style=\"text-align:right;font-weight:bold\">{{frappe.utils.fmt_money(doc.total_po_value or 0 , currency=doc.currency) }}</td>\n    </tr>\n    </table>\n\n    <div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:50%;font-weight:bold;\">TERMS & CONDITIONS</span>\n</div><br>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Payment Terms</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.payment_terms or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Incoterms</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.wonjin_incoterms or 'NA' }}</span>\n</div>\n<div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n</div>\n\n<div class=\"fixed-footer\">\n\n<br><br>\n    <table>\n   <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">ERP Team</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Plant Head</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">GM</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Finance</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">BMD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">CMD</td>\n</tr>\n\n\n   <tr style=\"height: 50px;\">\n    {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n       {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\n       \n       {% set gm_signature = frappe.db.get_value(\"Employee\", {\"name\":\"KR002\"}, \"custom_digital_signature\") %}\n        {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"BMD01\"}, \"custom_digital_signature\") %}\n        {% set cmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"CMD01\"}, \"custom_digital_signature\") %}\n        {% set erp_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.erp_team}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.plant_head}, \"custom_digital_signature\") %}\n        {% set material_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.material_manager}, \"custom_digital_signature\") %}\n\n       {% set marketing_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.marketing_manager}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.finance}, \"custom_digital_signature\") %}\n      <td style=\"text-align:center;font-size:15px;\">\n    {% if prepared_signature %}\n        <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\n          {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n     {% if doc.date_time %}\n        {% set formatted_date = frappe.utils.formatdate(doc.date_time, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.date_time, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n        <td style=\"text-align:center;font-size:15px;\">\n    {% if hod_signature %}\n        <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.hod_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.hod_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.hod_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n <td style=\"text-align:center;font-size:15px;\">\n    {% if erp_signature %}\n        <img src=\"{{ erp_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.erp_team_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.erp_team_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.erp_team_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n\n<td style=\"text-align:center;font-size:15px;\">\n    {% if plant_signature %}\n        <img src=\"{{ plant_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.plant_head_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.plant_head_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.plant_head_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if gm_signature %}\n        <img src=\"{{ gm_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.gm_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.gm_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.gm_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if finance_signature %}\n        <img src=\"{{ finance_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.finance_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.finance_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.finance_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if bmd_signature %}\n        <img src=\"{{ bmd_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.bmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.bmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.bmd_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if cmd_signature %}\n        <img src=\"{{ cmd_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.cmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.cmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.cmd_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n\n</div>\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 18:00:55.690816",
  "module": "ONEGENE",
  "name": "Approval for New Business PO",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n@page {\n    size: A4;\n    margin: 5mm 5mm 5mm 5mm; /* top right bottom left */\n}\n\n.page-wrapper {\n    border: 2px solid black;\n    padding: 2mm;\n    box-sizing: border-box;\n    min-height: 265mm; /* full page height */\n    max-width:200mm;\n    margin-top:0mm;\n    \n}\n.content {\n    margin-bottom: 50mm; /* leave space for repeated footer */\n        width: 100%;\n\n}\n.fixed-footer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    padding: 2mm 5mm;\n    box-sizing: border-box;\n    border-top:none;\n    font-size: 10px;\n}\n\n.footer {\n    display: block;\n    position: running(footer); /* makes it a repeated element on every page */\n}\n/* tables inside footer */\n.fixed-footer table {\n    width: 100%;\n    border-collapse: collapse;\n}\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n            page-break-inside: avoid;\n\n    }\n    td, th {\n        border: 1px solid black;\n    }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n        width: 100%;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<div class=\"page-wrapper\">\n    <div class=\"content\">\n\n<table>\n    <tr>\n        <td style=\"width: 15%;text-align:center;border-right:none;border-bottom:none;border-bottom:bold\">\n            <div style=\"padding-top:8px;\">\n                <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\n            </div>\n        </td>\n        <td style=\"width:30%;font-size:20px;text-align:center;border-right:none;border-bottom:none;padding-top:13px\" nowrap>\n            <div class=\"header-title\" style=\"padding-top:10px\">INTER OFFICE MEMO (I O M)</div>         </td>\n        <td style=\"width:15%;white-space:nowrap;border-bottom:none;font-weight:bold;\">\n    <div style=\"padding-top:13px;border-bottom:none;\">\n        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\n            ✔\n        </span>\n        {{ doc.priority }}\n    </div>\n</td>\n\n\n\n    </tr>\n</table>\n\n{% set emp_name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table style=\"width:100%; border-collapse: collapse; margin-top:-16px;\">\n    <tr>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;\">\n           <p style=\"line-height:1\">\n    <span style=\"display:inline-block; width:80px;\">Dept.From </span>:&nbsp;{{ doc.department_from or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Dept.To</span>:&nbsp; {{ doc.department_to or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Created By</span>: &nbsp;{{emp_name or '' }}<br><br>\n   \n</p>\n\n       </td>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;\">\n           <p style=\"line-height:1\">\n            <span style=\"display:inline-block; width:80px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Doc.No</span>: {{ doc.name }}<br><br>\n        <span style=\"display:inline-block; width:80px;\">Instructed By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\n\n       </p></td>\n   </tr>\n    \n</table>\n<table style=\"margin-top:-30px; width: 100%;\">\n    <tr>\n        <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\n            SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;\n            <span style=\"display: inline-block; width: 60%; text-align: center;\">\n                {{ doc.iom_type or 'NA' }}\n            </span>\n        </td>\n    </tr>\n</table>\n\n{% set label_width = \"130px\" %} <!-- adjust as needed -->\n\n{% if doc.customer_group %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer Group</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.customer_group }}</span>\n</div>\n{% endif %}\n\n{% if doc.customer %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer Name</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.customer }}</span>\n</div>\n{% endif %}\n\n{% if doc.supplier %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.supplier }}</span>\n</div>\n{% endif %}\n\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Currency</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.currency or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">PO Date</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ frappe.utils.formatdate(doc.validate_from, \"dd-MM-yyyy\") or 'NA' }}</span>\n</div>\n\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">HSN Code</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.price_revision_po[0].hsn_code if doc.price_revision_po and doc.price_revision_po[0].hsn_code else 'NA' }}</span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Reason For Update</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.subject or  'NA' }}</span>\n</div>\n\n\n<br>\n{% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table>\n    <tr>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:9px;\">S.No</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:9px;\">Item Code</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:9px;\">Item Name</td>\n         <td style=\"background-color:#fec76f;text-align:center;font-size:9px;\">UOM</td>\n                <td style=\"background-color:#fec76f;text-align:center;font-size:9px;\">PO No</td>\n\n        <td style=\"background-color:#fec76f;text-align:center;font-size:9px;\">Current PO Price ({{doc.currency or ''}})</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:9px;\">New PO Price ({{doc.currency or ''}})</td>\n                <td style=\"background-color:#fec76f;text-align:center;font-size:9px;\">Price Diff({{doc.currency or ''}})</td>\n\n        </tr>\n    {% for i in doc.price_revision_po%}\n    <tr>\n        <td>{{loop.index}}</td>\n        <td style=\"text-align:left;white-space:nowrap;font-size:9px;\">{{i.part_no or ''}}</td>\n        <td style=\"text-align:left;font-size:9px;\">{{i.part_name or ''}}</td>\n        <td style=\"text-align:center;white-space:nowrap;font-size:9px;\">{{i.uom or ''}}</td>\n        <td style=\"text-align:left;font-size:9px;white-space:nowrap\">{{i.po_no or ''}}</td>\n\n                <td style=\"text-align:right;white-space:nowrap;font-size:9px;\">{{frappe.utils.fmt_money(i.po_price or 0 , currency=\"INR\", precision=5)}}</td>\n\n        <td style=\"text-align:right;white-space:nowrap;font-size:9px;\">{{frappe.utils.fmt_money(i.new_price or 0 , currency=\"INR\", precision=5)}}</td>\n        <td style=\"text-align:right;white-space:nowrap;font-size:9px;\">{{frappe.utils.fmt_money(i.increase_price or 0 , currency=\"INR\", precision=5)}}</td>\n\n    </tr>\n    {%endfor%}\n      </table>\n <div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:50%;font-weight:bold;\">TERMS & CONDITIONS</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Payment Terms</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.payment_terms or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Incoterms</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.wonjin_incoterms or 'NA' }}</span>\n</div>\n<div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n</div>\n<div class=\"fixed-footer\">\n\n\n<br><br>\n    <table>\n   <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">ERP Team</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Plant Head</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">GM</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Finance</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">BMD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">CMD</td>\n</tr>\n\n\n   <tr style=\"height: 50px;\">\n    {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n       {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\n       {% set gm_signature = frappe.db.get_value(\"Employee\", {\"name\":\"KR002\"}, \"custom_digital_signature\") %}\n        {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"BMD01\"}, \"custom_digital_signature\") %}\n        {% set cmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"CMD01\"}, \"custom_digital_signature\") %}\n        \n       {% set erp_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.erp_team}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.plant_head}, \"custom_digital_signature\") %}\n              {% set material_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.material_manager}, \"custom_digital_signature\") %}\n\n       {% set marketing_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.marketing_manager}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.finance}, \"custom_digital_signature\") %}\n      <td style=\"text-align:center;font-size:15px;\">\n    {% if prepared_signature %}\n        <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\n        {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n     {% if doc.date_time %}\n        {% set formatted_date = frappe.utils.formatdate(doc.date_time, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.date_time, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n        <td style=\"text-align:center;font-size:15px;\">\n    {% if hod_signature %}\n        <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\n        {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.hod_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.hod_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.hod_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n <td style=\"text-align:center;font-size:15px;\">\n    {% if erp_signature %}\n        <img src=\"{{ erp_signature }}\" style=\"height:50px;\">\n        {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.erp_team_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.erp_team_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.erp_team_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n\n<td style=\"text-align:center;font-size:15px;\">\n    {% if plant_signature %}\n        <img src=\"{{ plant_signature }}\" style=\"height:50px;\">\n        {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.plant_head_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.plant_head_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.plant_head_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if gm_signature %}\n        <img src=\"{{ gm_signature }}\" style=\"height:50px;\">\n        {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.gm_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.gm_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.gm_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if finance_signature %}\n        <img src=\"{{ finance_signature }}\" style=\"height:50px;\">\n        {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.finance_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.finance_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.finance_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if bmd_signature %}\n        <img src=\"{{ bmd_signature }}\" style=\"height:50px;\">\n        {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.bmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.bmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.bmd_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if cmd_signature %}\n        <img src=\"{{ cmd_signature }}\" style=\"height:50px;\">\n        {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.cmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.cmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.cmd_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n</div>\n\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 18:00:42.829761",
  "module": "ONEGENE",
  "name": "Approval for Price Revision PO",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n    body {\n        font-size: 14px;\n    }\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n    }\n    td, th {\n        border: 2px solid black;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n    }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<table>\n    <tr>\n    {% if doc.priority == \"Important / Urgent\" %}\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td><td style=\"border-left:none;border-top:none;border-bottom:none;\"></td>\n        <td style=\"text-align:center; vertical-align:middle;background-color:red\"></td>\n        <td style=\"text-align:center; vertical-align:middle; font-weight:bold;width:25%\">\n            A - IMPORTANT / URGENT\n        </td>\n        <td style=\"border-right:none;border-top:none;border-bottom:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n    {% endif %}\n    {% if doc.priority == \"Information\" %}\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td><td></td>\n        <td style=\"text-align:center; vertical-align:middle;background-color:yellow\">\n            <!--<span class=\"color-box yellow\" style=\"display:inline-block; width:15px; height:15px; background-color:yellow; border:1px solid #000;\"></span>-->\n        </td>\n        <td style=\"text-align:center; vertical-align:middle; font-weight:bold;width:25%\">\n           B - INFORMATION\n        </td>\n        <td style=\"border-right:none;border-top:none;border-bottom:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n    {% endif %}\n    {% if doc.priority == \"Improvement\" %}\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td><td></td>\n        <td style=\"text-align:center; vertical-align:middle;background-color:#4472C4\">\n        </td>\n        <td style=\"text-align:center; vertical-align:middle; font-weight:bold;width:25%\">\n           C - IMPROVEMENT\n        </td>\n        <td style=\"border-right:none;border-top:none;border-bottom:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n    {% endif %}\n</tr>\n\n\n\n</table>\n\n<table>\n    <tr>\n        <td rowspan=\"4\" style=\"width: 34%;text-align:center;\"><div style=\"padding-top:32px;\"><img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 100%;\"></div></td>\n        <td rowspan=\"4\" style=\"width:30%;font-size:28px;text-align:center;\" class=\"header-title\" nowrap><div style=\"padding-top:42px;\">INTER OFFICE MEMO (I O M)</div></td>\n        <td style=\"width: 20%;font-weight:bold;\"><div style=\"padding-top:7px;\">DATE & TIME</div></td>\n        <td style=\"width:20%; text-align:left;\">\n            {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}\n        </td>\n        \n\n\n    </tr>\n    <tr>\n        <td style=\"font-weight:bold;\">DEPT. FROM</td>\n        <td style=\"text-align:left;\">{{doc.department_from or 'NA'}}</td>\n    </tr>\n    <tr>\n        <td style=\"font-weight:bold;\">DEPT. TO</td>\n        <td style=\"text-align:left;\">{{doc.department_to or 'NA'}}</td>\n    </tr>\n     \n    <tr>\n        <td style=\"font-weight:bold;\">INSTRUCTED BY</td>\n        <td style=\"text-align:left;\">{{doc.employee_name or 'NA'}}</td>\n    </tr>\n   \n</table>\n\n\n<table>\n    <tr>\n        <td colspan =1 style=\"width: 23.5%;text-align:left;font-weight:bold;font-size:15px;\">SUBJECT:</td>\n        <td  colspan =5 style=\"font-size:15px;\">{{doc.iom_type or 'NA'}}</td>\n    </tr>\n</table>\n{% set label_width = \"130px\" %} <!-- adjust as needed -->\n\n{% if doc.customer %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer Name</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.customer or 'NA' }}</span>\n</div>\n{% elif doc.supplier %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.supplier or 'NA' }}</span>\n</div>\n{% endif %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Currency</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.currency or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Reason for Request</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.subject or 'NA' }}</span>\n</div>\n\n<br>\n{% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n<table>\n    <tr>\n        <td style=\"background-color:#fec76f;text-align:center;\">S.No</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Item</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Item Name</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">PO/JO No</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Qty</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">UOM</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Current Price (INR)</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">New Price (INR)</td>\n\n        </tr>\n    {% for i in doc.table_fkwq%}\n    <tr>\n        <td>{{loop.index}}</td>\n        <td style=\"text-align:left\">{{i.part_no or ''}}</td>\n        <td style=\"text-align:left\">{{i.part_name or '' }}</td>\n        <td style=\"text-align:left\">{{i.po_no or '' }}</td>\n        <td style=\"text-align:center\">{{i.qty or ''}}</td>\n        <td style=\"text-align:center\">{{i.uom or ''}}</td>\n        <td style=\"text-align:right\">{{i.current_priceinr or ''}}</td>\n        <td style=\"text-align:right\">{{i.new_price_inr or ''}}</td>\n\n    </tr>\n    {%endfor%}\n    </table>\n    <br>\n   <div style=\"font-weight:bold; font-size:15px; margin-bottom:6px;\">\n    TERMS & CONDITIONS\n</div>\n{% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:120px;font-weight:bold;\">PAYMENT TERMS</span>\n    <span>:&nbsp;&nbsp;{{ doc.payment_terms or 'NA' }}</span>\n</div>\n{% if doc.taxes %}\n{% set ns = namespace(gst_rates=[]) %}\n{% for t in doc.taxes %}\n    {% if t.rate %}\n        {% set ns.gst_rates = ns.gst_rates + [t.rate|string + '%'] %}\n    {% endif %}\n{% endfor %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:120px;font-weight:bold;\">GST</span>\n    <span>:&nbsp;&nbsp;{{ ns.gst_rates | join(' + ') }}</span>\n</div>\n{% endif %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:120px;font-weight:bold;\">INCOTERMS</span>\n    <span>:&nbsp;&nbsp;{{ doc.wonjin_incoterms or 'NA' }}</span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:120px;font-weight:bold;\">DELIVERY TERMS</span>\n    <span>:&nbsp;&nbsp;{{ doc.delivery_terms or 'NA' }}</span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:120px;font-weight:bold;\">MODE OF DISPATCH</span>\n    <span>:&nbsp;&nbsp;{{ doc.mode_of_dispatch or 'NA' }}</span>\n</div>\n<div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n\n\n<br>\n  <table>\n   <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac\">HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac\">ERP Team</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac\">Marketing Manager</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac\">Plant Head</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac\">GM</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac\">Finance</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac\">BMD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac\">CMD</td>\n\n</tr>\n\n\n    <tr style=\"height: 80px;\">\n         {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n       {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to_name}, \"custom_digital_signature\") %}\n       {% set erp_signature = frappe.db.get_value(\"Employee\", {\"name\":\"S0330\"}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"name\":\"S0004\"}, \"custom_digital_signature\") %}\n       {% set gm_signature = frappe.db.get_value(\"Employee\", {\"name\":\"KR002\"}, \"custom_digital_signature\") %}\n       {% set marketing_signature = frappe.db.get_value(\"Employee\", {\"name\":\"S0116\"}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"name\":\"S0189\"}, \"custom_digital_signature\") %}\n        {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"BMD01\"}, \"custom_digital_signature\") %}\n        {% set cmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"CMD01\"}, \"custom_digital_signature\") %}\n      <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if prepared_signature %}\n        <img src=\"{{ prepared_signature }}\" style=\"max-height:50px;\">\n    {% endif %}\n    <br>\n     {% if doc.date_time %}\n        {% set formatted_date = frappe.utils.formatdate(doc.date_time, \"dd-MM-yyyy\") %}\n        <span>{{ formatted_date }}</span>\n    {% endif %}\n</td>\n        <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if hod_signature %}\n        <img src=\"{{ hod_signature }}\" style=\"max-height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.hod_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.hod_approved_on, \"dd-MM-yyyy\") %}\n        <span>{{ formatted_date }}</span>\n    {% endif %}\n</td>\n <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if erp_signature %}\n        <img src=\"{{ erp_signature }}\" style=\"max-height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.erp_team_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.erp_team_approved_on, \"dd-MM-yyyy\") %}\n        <span>{{ formatted_date }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if marketing_signature %}\n        <img src=\"{{ marketing_signature }}\" style=\"max-height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.marketing_manager_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.marketing_manager_approved_on, \"dd-MM-yyyy\") %}\n        <span>{{ formatted_date }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if plant_signature %}\n        <img src=\"{{ plant_signature }}\" style=\"max-height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.plant_head_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.plant_head_approved_on, \"dd-MM-yyyy\") %}\n        <span>{{ formatted_date }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if gm_signature %}\n        <img src=\"{{ gm_signature }}\" style=\"max-height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.gm_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.gm_approved_on, \"dd-MM-yyyy\") %}\n        <span>{{ formatted_date }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if finance_signature %}\n        <img src=\"{{ finance_signature }}\" style=\"max-height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.finance_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.finance_approved_on, \"dd-MM-yyyy\") %}\n        <span>{{ formatted_date }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if bmd_signature %}\n        <img src=\"{{ bmd_signature }}\" style=\"max-height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.bmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.bmd_approved_on, \"dd-MM-yyyy\") %}\n        <span>{{ formatted_date }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if cmd_signature %}\n        <img src=\"{{ cmd_signature }}\" style=\"max-height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.cmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.cmd_approved_on, \"dd-MM-yyyy\") %}\n        <span>{{ formatted_date }}</span>\n    {% endif %}\n</td>\n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n<footer id=\"footer-html\">\n   <table width=\"100%\" style=\"border:none;\">\n       <tr>\n           <td width=\"100%\" style=\"text-align:center; font-size:10px;border:none; padding:0; margin:0;\">\n               <i>Page <span class=\"page\"></span> / <span class=\"topage\"></span></i>\n           </td>\n       </tr>\n   </table>\n</footer>\n\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 17:56:40.489556",
  "module": "ONEGENE",
  "name": "Approval for Price Revision PO Material",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n@page {\n    size: A4;\n    margin: 5mm 5mm 5mm 5mm; /* top right bottom left */\n}\n\n.page-wrapper {\n    border: 2px solid black;\n    padding: 2mm;\n    box-sizing: border-box;\n    min-height: 265mm; /* full page height */\n    max-width:200mm;\n    margin-top:0mm;\n    \n}\n.content {\n    margin-bottom: 50mm; /* leave space for repeated footer */\n        width: 100%;\n\n}\n.fixed-footer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    padding: 2mm 5mm;\n    box-sizing: border-box;\n    border-top:none;\n    font-size: 10px;\n}\n\n.footer {\n    display: block;\n    position: running(footer); /* makes it a repeated element on every page */\n}\n/* tables inside footer */\n.fixed-footer table {\n    width: 100%;\n    border-collapse: collapse;\n}\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n            page-break-inside: avoid;\n\n    }\n    td, th {\n        border: 1px solid black;\n    }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n        width: 100%;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<div class=\"page-wrapper\">\n    <div class=\"content\">\n\n<table>\n    <tr>\n        <td style=\"width: 15%;text-align:center;border-right:none;border-bottom:none;border-bottom:bold\">\n            <div style=\"padding-top:8px;\">\n                <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\n            </div>\n        </td>\n        <td style=\"width:30%;font-size:20px;text-align:center;border-right:none;border-bottom:none;padding-top:13px\" nowrap>\n            <div class=\"header-title\" style=\"padding-top:10px\">INTER OFFICE MEMO (I O M)</div>         </td>\n        <td style=\"width:15%;white-space:nowrap;border-bottom:none;font-weight:bold;\">\n    <div style=\"padding-top:13px;border-bottom:none;\">\n        <span style=\"border: 2px solid black; width: 18px; height: 18px; font-weight:bold; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\n            ✔\n        </span>\n        {{ doc.priority }}\n    </div>\n</td>\n\n\n\n    </tr>\n</table>\n\n{% set emp_name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n<table style=\"width:100%; border-collapse: collapse; margin-top:-16px;\">\n    <tr>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;\">\n           <p style=\"line-height:1\">\n    <span style=\"display:inline-block; width:80px;\">Dept.From </span>:&nbsp;{{ doc.department_from or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Dept.To</span>:&nbsp; {{ doc.department_to or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Created By</span>: &nbsp;{{ emp_name or '' }}<br><br>\n   \n</p>\n\n       </td>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;\">\n           <p style=\"line-height:1\">\n            <span style=\"display:inline-block; width:80px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Doc.No</span>: {{ doc.name }}<br><br>\n    <span style=\"display:inline-block; width:80px;white-space:nowrap\">Requested By&nbsp</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\n       </p></td>\n   </tr>\n    \n</table>\n<table style=\"margin-top:-30px; width: 100%;\">\n    <tr>\n        <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\n            SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;\n            <span style=\"display: inline-block; width: 60%; text-align: center;\">\n                {{ doc.iom_type or 'NA' }}\n            </span>\n        </td>\n    </tr>\n</table>\n\n{% set label_width = \"130px\" %} <!-- adjust as needed -->\n\n{% if doc.customer %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer Group</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.customer_group or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer Name</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.customer or 'NA' }}</span>\n</div>\n\n{% elif doc.supplier %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.supplier or 'NA' }}</span>\n</div>\n{% endif %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Currency</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.currency or 'NA' }}</span>\n</div>\n{% if doc.customer_group == \"Export\" %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Exchange Rate</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.exchange_rate or 'NA' }}</span>\n</div>\n{% endif %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">PO No & PO Date</span>\n    <span>\n        :&nbsp;&nbsp;&nbsp;&nbsp;\n        {% if doc.approval_tooling_invoice and doc.approval_tooling_invoice[0] %}\n            {{ \n                doc.approval_tooling_invoice[0].po_no \n                if doc.approval_tooling_invoice[0].po_no \n                else (doc.approval_tooling_invoice[0].po_no_new if doc.approval_tooling_invoice[0].po_no_new else 'NA') \n            }}\n            &nbsp;/&nbsp;\n            {{ frappe.utils.formatdate(doc.approval_tooling_invoice[0].po_date, \"dd-MM-yyyy\") if doc.approval_tooling_invoice[0].po_date else 'NA' }}\n        {% else %}\n            NA / NA\n        {% endif %}\n    </span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">HSN Code</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.approval_tooling_invoice[0].hsn_code if doc.approval_tooling_invoice and doc.approval_tooling_invoice[0].hsn_code else 'NA' }}</span>\n</div>\n{% if doc.customer_group == \"Domestic\" %}\n{% set ns = namespace(gst_rates=[]) %}  \n{% if doc.taxes %}\n    {% for t in doc.taxes %}\n        {% if t.rate %}\n            {% set ns.gst_rates = ns.gst_rates + [t.rate|int|string + '%'] %}\n        {% endif %}\n    {% endfor %}\n{% endif %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">GST Rate</span>\n    <span>:&nbsp;&nbsp;&nbsp;{{ ns.gst_rates | join(' + ') or '' }}</span>\n</div>\n{% endif %}\n\n\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Reason For Update</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.approval_tooling_invoice[0].reason_for_request if doc.approval_tooling_invoice and doc.approval_tooling_invoice[0].reason_for_request else 'NA' }}</span>\n</div>\n\n<br>\n{% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table>\n    <tr>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:10px;\">S.No</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:10px;\">Item Code</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:10px;\">Item Name</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:10px;\">Qty</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:10px;\">PO Price({{doc.currency or ''}})</td>\n                <td style=\"background-color:#fec76f;text-align:center;font-size:10px;\">Cost({{doc.currency or ''}})</td>\n\n        </tr>\n    {% for i in doc.approval_tooling_invoice%}\n    <tr>\n        <td>{{loop.index}}</td>\n        <td style=\"text-align:left;font-size:10px;\">{{i.part_no or i.item_code_new or ''}}</td>\n        <td style=\"text-align:left;font-size:10px;\">{{i.part_name or i.item_name_new or ''}}</td>\n                <td style=\"text-align:center;white-space:nowrap;font-size:10px;\">{{i.qty}}</td>\n\n        <td style=\"text-align:right;white-space:nowrap;font-size:10px;\">{{frappe.utils.fmt_money(i.po_price or 0 , currency=doc.currency)}}</td>\n        <td style=\"text-align:right;white-space:nowrap;font-size:10px;\">{{frappe.utils.fmt_money(i.tool_cost or 0 , currency=doc.currency)}}</td>\n\n    </tr>\n    {%endfor%}\n        <tr><td colspan=5 style=\"font-weight:bold;text-align:center\">Total Tool Cost</td>\n    <td colspan=1 style=\"font-weight:bold;text-align:right\">{{frappe.utils.fmt_money(doc.total_tool_cost or 0 , currency=doc.currency)}}</td></tr>\n      </table>\n<br>\n\n    <div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:50%;font-weight:bold;\">TERMS & CONDITIONS</span>\n</div><br>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Payment Terms</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.payment_terms or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Incoterms</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.wonjin_incoterms or 'NA' }}</span>\n</div>\n<div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n</div>\n\n<div class=\"fixed-footer\">\n\n<br><br>\n    <table>\n   <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">ERP Team</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Plant Head</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">GM</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Finance</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">BMD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">CMD</td>\n</tr>\n\n\n   <tr style=\"height: 50px;\">\n    {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n       {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\n       {% set gm_signature = frappe.db.get_value(\"Employee\", {\"name\":\"KR002\"}, \"custom_digital_signature\") %}\n       \n        {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"BMD01\"}, \"custom_digital_signature\") %}\n        {% set cmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"CMD01\"}, \"custom_digital_signature\") %}\n        \n        {% set erp_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.erp_team}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.plant_head}, \"custom_digital_signature\") %}\n              {% set material_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.material_manager}, \"custom_digital_signature\") %}\n\n       {% set marketing_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.marketing_manager}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.finance}, \"custom_digital_signature\") %}\n      <td style=\"text-align:center;font-size:15px;\">\n    {% if prepared_signature %}\n        <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\n          {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n     {% if doc.date_time %}\n        {% set formatted_date = frappe.utils.formatdate(doc.date_time, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.date_time, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n        <td style=\"text-align:center;font-size:15px;\">\n    {% if hod_signature %}\n        <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\n          {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.hod_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.hod_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.hod_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n <td style=\"text-align:center;font-size:15px;\">\n    {% if erp_signature %}\n        <img src=\"{{ erp_signature }}\" style=\"height:50px;\">\n          {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.erp_team_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.erp_team_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.erp_team_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n\n<td style=\"text-align:center;font-size:15px;\">\n    {% if plant_signature %}\n        <img src=\"{{ plant_signature }}\" style=\"height:50px;\">\n          {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.plant_head_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.plant_head_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.plant_head_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if gm_signature %}\n        <img src=\"{{ gm_signature }}\" style=\"height:50px;\">\n          {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.gm_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.gm_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.gm_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if finance_signature %}\n        <img src=\"{{ finance_signature }}\" style=\"height:50px;\">\n          {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.finance_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.finance_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.finance_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if bmd_signature %}\n        <img src=\"{{ bmd_signature }}\" style=\"height:50px;\">\n          {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.bmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.bmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.bmd_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if cmd_signature %}\n        <img src=\"{{ cmd_signature }}\" style=\"height:50px;\">\n          {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.cmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.cmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.cmd_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n</div>\n\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 18:03:10.256012",
  "module": "ONEGENE",
  "name": "Approval for Tooling Invoice",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<meta name=\"page-size\" content ='A4'/>\n\n<style>\n@page {\n    size: A4;\n    margin: 5mm 5mm 5mm 5mm; /* top right bottom left */\n}\n\n.page-wrapper {\n    border: 2px solid black;\n    padding: 2mm;\n    box-sizing: border-box;\n    min-height: 265mm; /* full page height */\n    max-width:200mm;\n    margin-top:0mm;\n    \n}\n.content {\n    margin-bottom: 50mm; /* leave space for repeated footer */\n        width: 100%;\n\n}\n.fixed-footer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    padding: 2mm 5mm;\n    box-sizing: border-box;\n    border-top:none;\n    font-size: 10px;\n}\n\n.footer {\n    display: block;\n    position: running(footer); /* makes it a repeated element on every page */\n}\n/* tables inside footer */\n.fixed-footer table {\n    width: 100%;\n    border-collapse: collapse;\n}\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n            page-break-inside: avoid;\n\n    }\n    td, th {\n        border: 1px solid black;\n    }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n        width: 100%;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<div class=\"page-wrapper\">\n    <div class=\"content\">\n\n<table>\n    <tr>\n        <td style=\"width: 15%;text-align:center;border-right:none;border-bottom:none;border-bottom:bold\">\n            <div style=\"padding-top:8px;\">\n                <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\n            </div>\n        </td>\n        <td style=\"width:30%;font-size:20px;text-align:center;border-right:none;border-bottom:none;padding-top:13px\" nowrap>\n            <div class=\"header-title\" style=\"padding-top:10px\">INTER OFFICE MEMO (I O M)</div>\n        </td>\n        <td style=\"width:15%;white-space:nowrap;border-bottom:none;font-weight:bold;\">\n    <div style=\"padding-top:13px;border-bottom:none;\">\n        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\n            ✔\n        </span>\n        {{ doc.priority }}\n    </div>\n</td>\n\n\n\n    </tr>\n</table>\n\n {% set emp_name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table style=\"width:100%; border-collapse: collapse; margin-top:-16px;\">\n    <tr>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;\">\n            <p style=\"line-height: 1.6;\"> <!-- apply line-height here -->\n               <span style=\"display:inline-block; width:80px;\">Dept.From</span>: {{ doc.department_from or '' }}<br>\n               <span style=\"display:inline-block; width:80px;\">Dept.To</span>: {{ doc.department_to or '' }}<br>\n        <span style=\"display:inline-block; width:80px;\">Created By</span>: {{emp_name or '' }}<br><br>\n           </p>\n\n       </td>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;\">\n           <p style=\"line-height: 1.6;\">\n            <span style=\"display:inline-block; width:80px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br>\n    <span style=\"display:inline-block; width:80px;\">Doc.No</span>: {{ doc.name }}<br>\n            <span style=\"display:inline-block; width:80px;\">Instructed By</span>:{{ doc.employee_name or '' }}<br><br>\n\n\n       </p></td>\n   </tr>\n    \n</table>\n<table style=\"margin-top:-30px; width: 100%;\">\n    <tr>\n        <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\n            SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;\n            <span style=\"display: inline-block; width: 60%; text-align: center;\">\n                {{ doc.iom_type or 'NA' }}\n            </span>\n        </td>\n    </tr>\n</table>\n\n{% set label_width = \"130px\" %} <!-- adjust as needed -->\n\n{% if doc.customer %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer Group</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.customer_group or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer Name</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.customer or 'NA' }}</span>\n</div>\n\n{% elif doc.supplier %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.supplier or 'NA' }}</span>\n</div>\n{% endif %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Currency</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.currency or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">PO NO</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.approval_credit_note[0].po_no if doc.approval_credit_note and doc.approval_credit_note[0].po_no else 'NA' }}</span>\n</div>\n{%if doc.customer_group==\"Domestic\"%}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">HSN Code</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.approval_credit_note[0].hsn_code if doc.approval_credit_note and doc.approval_credit_note[0].hsn_code else 'NA' }}</span>\n</div>\n{% if doc.taxes %}\n{% set ns = namespace(gst_rates=[]) %}\n{% for t in doc.taxes %}\n    {% if t.rate %}\n      {% set ns.gst_rates = ns.gst_rates + [t.rate | int|string + '%'] %}\n    {% endif %}\n{% endfor %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">GST Rate</span>\n    <span>:&nbsp;&nbsp;&nbsp;{{ ns.gst_rates | join(' + ') or ''}}</span>\n</div>\n\n{%endif%}\n\n\n{%endif%}\n{%if doc.customer_group==\"Export\"%}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Exchange Rate</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{doc.exchange_rate or 'NA' }}</span>\n</div>\n{%endif%}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Valid From</span>\n    <span>:&nbsp;&nbsp;&nbsp;\n        {{ frappe.utils.formatdate(doc.approval_credit_note[0].valid_from, \"dd-MM-yyyy\") \n           if doc.approval_credit_note and doc.approval_credit_note[0].valid_from else 'NA' }}\n    </span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Valid To</span>\n    <span>:&nbsp;&nbsp;&nbsp;\n        {{ frappe.utils.formatdate(doc.approval_credit_note[0].valid_to, \"dd-MM-yyyy\") \n           if doc.approval_credit_note and doc.approval_credit_note[0].valid_to else 'NA' }}\n    </span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Reason For Update</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.subject or 'NA' }}</span>\n</div>\n\n<br>\n{% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table style=\"width:100%\">\n    <tr>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:12px;width:2%;\">S.No</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:12px;width:25%;\">Item Code</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:12px;width:35%;\">Item Name</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:12px;width:5%;\">Current PO Price</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:12px;width:5%;\">New PO Price</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:12px;width:5%;\">Diff</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:12px;width:2%;\">Supplied Qty</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:12px;width:5%;\">Total CR Value({{doc.currency}})</td>\n        </tr>\n    {% for i in doc.approval_credit_note%}\n    <tr>\n        <td>{{loop.index}}</td>\n        <td style=\"text-align:left;font-size:10px;white-space:nowrap;\">{{i.part_no or ''}}</td>\n        <td style=\"text-align:left;font-size:10px;\">{{i.part_name or ''}}</td>\n        <td style=\"text-align:right;white-space:nowrap;font-size:10px;\">{{frappe.utils.fmt_money(i.po_price or 0 , currency=doc.currency)}}</td>\n        <td style=\"text-align:right;white-space:nowrap;font-size:10px;\">{{frappe.utils.fmt_money(i.settled_price or 0 , currency=doc.currency)}}</td>\n        <td style=\"text-align:right;white-space:nowrap;font-size:10px;\">{{frappe.utils.fmt_money(i.difference or 0 , currency=doc.currency)}}</td>\n         <td style=\"text-align:center;white-space:nowrap;font-size:10px;\">\n    {% if i.total_supplied_qty %}\n        {% if i.total_supplied_qty|float == i.total_supplied_qty|int %}\n            {{ i.total_supplied_qty|int }}\n        {% else %}\n            {{ i.total_supplied_qty|float }}\n        {% endif %}\n    {% endif %}\n</td>\n\n         <td style=\"text-align:right;white-space:nowrap;font-size:10px;\">{{frappe.utils.fmt_money(i.cn_value or 0, currency = doc.currency)}}</td>\n    </tr>\n    {%endfor%}\n    <tr>\n        <td colspan=7 style=\"text-align:center;font-weight:bold\">Total CN Value</td>\n        <td colspan=1 style=\"text-align:right; white-space:nowrap;font-weight:bold\">{{frappe.utils.fmt_money(doc.cn_value or 0, currency = doc.currency)}}</td>\n    </tr>\n    </table>\n    <div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n</div>\n<div class=\"fixed-footer\">\n<!--<footer id=\"footer-html\" style=\" border: 2px solid black;margin-top:0;\">-->\n        <table style=\"margin-top:0;\">\n   <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">ERP Team</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Plant Head</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">GM</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Finance</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">BMD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">CMD</td>\n</tr>\n\n\n   <tr style=\"height: 50px;\">\n    {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n       {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\n       \n       {% set gm_signature = frappe.db.get_value(\"Employee\", {\"name\":\"KR002\"}, \"custom_digital_signature\") %}\n       \n        {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"BMD01\"}, \"custom_digital_signature\") %}\n        {% set cmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"CMD01\"}, \"custom_digital_signature\") %}\n        {% set erp_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.erp_team}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.plant_head}, \"custom_digital_signature\") %}\n        {% set material_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.material_manager}, \"custom_digital_signature\") %}\n\n       {% set marketing_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.marketing_manager}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.finance}, \"custom_digital_signature\") %}\n      <td style=\"text-align:center; font-size:15px;\">\n  <div style=\"display:flex; flex-direction:column; align-items:center; justify-content:flex-start; height:70px;\">\n      {% if prepared_signature %}\n          <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\n                  {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n      {% endif %}\n      {% if doc.date_time %}\n          {% set formatted_date = frappe.utils.formatdate(doc.date_time, \"dd-MM-yyyy\") %}\n          {% set formatted_time = frappe.utils.format_datetime(doc.date_time, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n      {% endif %}\n  </div>\n</td>\n\n        <td style=\"text-align:center;font-size:15px;\">\n    {% if hod_signature %}\n        <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\n                {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.hod_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.hod_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.hod_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n <td style=\"text-align:center;font-size:15px;\">\n    {% if erp_signature %}\n        <img src=\"{{ erp_signature }}\" style=\"height:50px;\">\n                {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.erp_team_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.erp_team_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.erp_team_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n\n<td style=\"text-align:center;font-size:15px;\">\n    {% if plant_signature %}\n        <img src=\"{{ plant_signature }}\" style=\"height:50px;\">\n                {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.plant_head_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.plant_head_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.plant_head_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if gm_signature %}\n        <img src=\"{{ gm_signature }}\" style=\"height:50px;\">\n           {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.gm_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.gm_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.gm_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if finance_signature %}\n        <img src=\"{{ finance_signature }}\" style=\"height:50px;\">\n                {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.finance_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.finance_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.finance_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if bmd_signature %}\n        <img src=\"{{ bmd_signature }}\" style=\"height:50px;\">\n                {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.bmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.bmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.bmd_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n\n\n<td style=\"text-align:center;font-size:15px;\">\n    {% if cmd_signature %}\n        <img src=\"{{ cmd_signature }}\" style=\"height:50px;\">\n                {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.cmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.cmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.cmd_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n    </tr>\n<tr>\n           <td colspan=8 style=\"text-align:left; font-size:10px;border:none; padding:0; margin:0;\">\n    Note: This document is Digitally Signed</td>\n</tr>\n\n      \n   </table>\n\n\n\n<!--</footer>-->\n</div>\n\n<!--<meta name=\"pdfkit-margin-bottom\" content=\"80mm\"/>-->",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 17:58:33.115142",
  "module": "ONEGENE",
  "name": "Approval for Credit Note",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n@page {\n    size: A4;\n    margin: 5mm 5mm 5mm 5mm; /* top right bottom left */\n}\n\n.page-wrapper {\n    border: 2px solid black;\n    padding: 2mm;\n    box-sizing: border-box;\n    min-height: 265mm; /* full page height */\n    max-width:200mm;\n    margin-top:0mm;\n    \n}\n.content {\n    margin-bottom: 50mm; /* leave space for repeated footer */\n        width: 100%;\n\n}\n.fixed-footer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    padding: 2mm 5mm;\n    box-sizing: border-box;\n    border-top:none;\n    font-size: 10px;\n}\n\n.footer {\n    display: block;\n    position: running(footer); /* makes it a repeated element on every page */\n}\n/* tables inside footer */\n.fixed-footer table {\n    width: 100%;\n    border-collapse: collapse;\n}\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n            page-break-inside: avoid;\n\n    }\n    td, th {\n        border: 1px solid black;\n    }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n        width: 100%;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<div class=\"page-wrapper\">\n    <div class=\"content\">\n\n<table>\n    <tr>\n        <td style=\"width: 15%;text-align:center;border-right:none;border-bottom:none;border-bottom:bold\">\n            <div style=\"padding-top:8px;\">\n                <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\n            </div>\n        </td>\n        <td style=\"width:30%;font-size:20px;text-align:center;border-right:none;border-bottom:none;padding-top:13px\" nowrap>\n            <div class=\"header-title\" style=\"padding-top:10px\">INTER OFFICE MEMO (I O M)</div> <!-- ✅ Bold underline applied here -->\n        </td>\n        <td style=\"width:15%;white-space:nowrap;border-bottom:none;font-weight:bold;\">\n    <div style=\"padding-top:13px;border-bottom:none;\">\n        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\n            ✔\n        </span>\n        {{ doc.priority }}\n    </div>\n</td>\n\n\n\n    </tr>\n</table>\n\n{% set emp_name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n<table style=\"width:100%; border-collapse: collapse; margin-top:-16px;\">\n    <tr>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;\">\n           <p style=\"line-height: 1;\">\n    <span style=\"display:inline-block; width:80px;\">Dept.From </span>:&nbsp;{{ doc.department_from or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Dept.To</span>:&nbsp; {{ doc.department_to or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Created By</span>: &nbsp;{{emp_name or '' }}<br><br>\n   \n</p>\n\n       </td>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;\">\n           <p style=\"line-height: 1;\">\n            <span style=\"display:inline-block; width:80px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Doc.No</span>: {{ doc.name }}<br><br>\n        <span style=\"display:inline-block; width:80px;\">Instructed By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\n\n       </p></td>\n   </tr>\n    \n</table>\n<table style=\"margin-top:-30px; width: 100%;\">\n    <tr>\n        <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\n            SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;\n            <span style=\"display: inline-block; width: 60%; text-align: center;white-space:nowrap\">\n                {{ doc.iom_type or 'NA' }}\n            </span>\n        </td>\n    </tr>\n</table>\n\n{% set label_width = \"130px\" %} <!-- adjust as needed -->\n\n{% if doc.customer %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer Group</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.customer_group or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer Name</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.customer or 'NA' }}</span>\n</div>\n\n{% elif doc.supplier %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.supplier or 'NA' }}</span>\n</div>\n{% endif %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Currency</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.currency or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">PO NO</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.approval_debit_note[0].po_no if doc.approval_debit_note and doc.approval_debit_note[0].po_no else 'NA' }}</span>\n</div>\n{%if doc.customer_group==\"Domestic\"%}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">HSN Code</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.approval_debit_note[0].hsn_code if doc.approval_debit_note and doc.approval_debit_note[0].hsn_code else 'NA' }}</span>\n</div>\n{% if doc.taxes %}\n{% set ns = namespace(gst_rates=[]) %}\n{% for t in doc.taxes %}\n    {% if t.rate %}\n        {% set ns.gst_rates = ns.gst_rates + [t.rate|int|string + '%'] %}\n    {% endif %}\n{% endfor %}\n{%endif%}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">GST Rate</span>\n    <span>:&nbsp;&nbsp;&nbsp;{{ ns.gst_rates | join(' + ') or ''}}</span>\n</div>\n\n\n{%endif%}\n{%if doc.customer_group==\"Export\"%}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Exchange Rate</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;\n        {% if doc.exchange_rate %}\n            {% if doc.exchange_rate|float == doc.exchange_rate|int %}\n                {{ doc.exchange_rate|int }}   {# shows as 5 not 5.0 #}\n            {% else %}\n                {{ \"%.2f\"|format(doc.exchange_rate|float) }}  {# shows 5.50 or 5.5 #}\n            {% endif %}\n        {% else %}\n            NA\n        {% endif %}\n    </span>\n</div>\n\n{%endif%}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Valid From</span>\n    <span>:&nbsp;&nbsp;&nbsp;\n\n    {% if doc.validate_from %}\n        {{ frappe.utils.formatdate(doc.validate_from, \"dd-MM-yyyy\") }}\n    {% elif doc.approval_debit_note and doc.approval_debit_note[0].valid_from %}\n        {{ frappe.utils.formatdate(doc.approval_debit_note[0].valid_from, \"dd-MM-yyyy\") }}\n    {% else %}\n        NA\n    {% endif %}\n\n    </span>\n</div>\n\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Valid To</span>\n    <span>:&nbsp;&nbsp;&nbsp;\n      {% if doc.valid_to %}\n        {{ frappe.utils.formatdate(doc.valid_to, \"dd-MM-yyyy\") }}\n    {% elif doc.approval_debit_note and doc.approval_debit_note[0].valid_to %}\n        {{ frappe.utils.formatdate(doc.approval_debit_note[0].valid_to, \"dd-MM-yyyy\") }}\n    {% else %}\n        NA\n    {% endif %}\n    </span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;white-space:nowrap\">Remarks</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.subject or 'NA' }}</span>\n</div>\n\n<br>\n{% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table>\n    <tr>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:12px;width:2%;\">S.No</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:12px;\">Item Code</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:12px;\">Item Name</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:12px;\">PO Price</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:12px;\">Settled Price</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:12px;\">Diff</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:12px;\">Supplied Qty</td>\n\n        <td style=\"background-color:#fec76f;text-align:center;font-size:12px;\">Total DN Value ({{doc.currency}})</td>\n                            <td style=\"background-color:#fec76f;text-align:center;font-size:12px;\">Reason for Update</td>\n\n        </tr>\n    {% for i in doc.approval_debit_note%}\n    <tr>\n        <td>{{loop.index}}</td>\n        <td style=\"text-align:left;font-size:10px;white-space:nowrap;\">{{i.part_no or ''}}</td>\n        <td style=\"text-align:left;font-size:10px;\">{{i.part_name or ''}}</td>\n        <td style=\"text-align:right;white-space:nowrap;font-size:10px;\">{{frappe.utils.fmt_money(i.po_price or 0 , currency=doc.currency)}}</td>\n        <td style=\"text-align:right;white-space:nowrap;font-size:10px;\">{{frappe.utils.fmt_money(i.settled_price or 0 , currency=doc.currency)}}</td>\n        <td style=\"text-align:right;white-space:nowrap;font-size:10px;\">{{frappe.utils.fmt_money(i.difference or 0 , currency=doc.currency)}}</td>\n<td style=\"text-align:center;white-space:nowrap;font-size:10px;\">\n    {% if i.total_supplied_qty %}\n        {% if i.total_supplied_qty|float == i.total_supplied_qty|int %}\n            {{ i.total_supplied_qty|int }}\n        {% else %}\n            {{ i.total_supplied_qty|float }}\n        {% endif %}\n    {% endif %}\n</td>\n\n         <td style=\"text-align:right;white-space:nowrap;font-size:10px;\">{{frappe.utils.fmt_money(i.cn_value or 0, currency = doc.currency)}}</td>\n                      <td style=\"text-align:left;\">{{i.reason_for_request or ''}}</td>\n\n    </tr>\n    {%endfor%}\n    <tr>\n        <td colspan=7 style=\"text-align:center;font-weight:bold\">Total DN Value</td>\n        <td colspan=1 style=\"text-align:right; white-space:nowrap;font-weight:bold\">{{frappe.utils.fmt_money(doc.total_dn_value or 0, currency = doc.currency)}}</td>\n    <td colspan=1></td>\n    </tr>\n    </table>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:50%;font-weight:bold;\">TERMS & CONDITIONS</span>\n</div><br>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Payment Terms</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.payment_terms or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Incoterms</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.wonjin_incoterms or 'NA' }}</span>\n</div>\n<div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n\n</div>\n<div class=\"fixed-footer\">\n\n<br><br>\n    <table>\n   <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">ERP Team</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Plant Head</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">GM</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Finance</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">BMD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">CMD</td>\n</tr>\n\n\n   <tr style=\"height: 50px;\">\n    {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n       {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\n       \n       {% set gm_signature = frappe.db.get_value(\"Employee\", {\"name\":\"KR002\"}, \"custom_digital_signature\") %}\n        {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"BMD01\"}, \"custom_digital_signature\") %}\n        {% set cmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"CMD01\"}, \"custom_digital_signature\") %}\n        {% set erp_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.erp_team}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.plant_head}, \"custom_digital_signature\") %}\n        {% set material_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.material_manager}, \"custom_digital_signature\") %}\n\n       {% set marketing_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.marketing_manager}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.finance}, \"custom_digital_signature\") %}\n      <td style=\"text-align:center;font-size:15px;\">\n    {% if prepared_signature %}\n        <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\n        {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n     {% if doc.date_time %}\n        {% set formatted_date = frappe.utils.formatdate(doc.date_time, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.date_time, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n        <td style=\"text-align:center;font-size:15px;\">\n    {% if hod_signature %}\n        <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\n        {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.hod_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.hod_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.hod_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n <td style=\"text-align:center;font-size:15px;\">\n    {% if erp_signature %}\n        <img src=\"{{ erp_signature }}\" style=\"height:50px;\">\n        {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.erp_team_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.erp_team_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.erp_team_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n\n<td style=\"text-align:center;font-size:15px;\">\n    {% if plant_signature %}\n        <img src=\"{{ plant_signature }}\" style=\"height:50px;\">\n        {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.plant_head_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.plant_head_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.plant_head_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if gm_signature %}\n        <img src=\"{{ gm_signature }}\" style=\"height:50px;\">\n        {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.gm_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.gm_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.gm_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if finance_signature %}\n        <img src=\"{{ finance_signature }}\" style=\"height:50px;\">\n        {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.finance_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.finance_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.finance_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if bmd_signature %}\n        <img src=\"{{ bmd_signature }}\" style=\"height:50px;\">\n        {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.bmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.bmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.bmd_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if cmd_signature %}\n        <img src=\"{{ cmd_signature }}\" style=\"height:50px;\">\n        {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.cmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.cmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.cmd_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n</div>\n\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 18:04:46.652488",
  "module": "ONEGENE",
  "name": "Approval for Debit Note Marketing",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n    body {\n        font-size: 14px;\n    }\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n    }\n    td, th {\n        border: 2px solid black;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n    }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<table>\n    <tr>\n    {% if doc.priority == \"Important / Urgent\" %}\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td><td style=\"border-left:none;border-top:none;border-bottom:none;\"></td>\n        <td style=\"text-align:center; vertical-align:middle;background-color:red\"></td>\n        <td style=\"text-align:center; vertical-align:middle; font-weight:bold;width:25%\">\n            A - IMPORTANT / URGENT\n        </td>\n        <td style=\"border-right:none;border-top:none;border-bottom:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n    {% endif %}\n    {% if doc.priority == \"Information\" %}\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td><td></td>\n        <td style=\"text-align:center; vertical-align:middle;background-color:yellow\">\n            <!--<span class=\"color-box yellow\" style=\"display:inline-block; width:15px; height:15px; background-color:yellow; border:1px solid #000;\"></span>-->\n        </td>\n        <td style=\"text-align:center; vertical-align:middle; font-weight:bold;width:25%\">\n           B - INFORMATION\n        </td>\n        <td style=\"border-right:none;border-top:none;border-bottom:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n    {% endif %}\n    {% if doc.priority == \"Improvement\" %}\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td><td></td>\n        <td style=\"text-align:center; vertical-align:middle;background-color:#4472C4\">\n        </td>\n        <td style=\"text-align:center; vertical-align:middle; font-weight:bold;width:25%\">\n           C - IMPROVEMENT\n        </td>\n        <td style=\"border-right:none;border-top:none;border-bottom:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n    {% endif %}\n</tr>\n\n\n\n</table>\n\n<table>\n    <tr>\n        <td rowspan=\"4\" style=\"width: 34%;text-align:center;\"><div style=\"padding-top:32px;\"><img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 100%;\"></div></td>\n        <td rowspan=\"4\" style=\"width:24%;font-size:20px;text-align:center;\" class=\"header-title\" nowrap><div style=\"padding-top:42px;\">INTER OFFICE MEMO (I O M)</div></td>\n        <td style=\"width: 20%;font-weight:bold;\"><div style=\"padding-top:7px; line-height:1;\">DATE & TIME</div></td>\n        <td style=\"width:20%; text-align:left; line-height:1; white-space:nowrap;\">\n            {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}\n        </td>\n        \n\n\n    </tr>\n    <tr>\n        <td style=\"font-weight:bold; line-height:1;\">DEPT. FROM</td>\n        <td style=\"text-align:left; line-height:1; white-space:nowrap;\">{{doc.department_from or 'NA'}}</td>\n    </tr>\n    <tr>\n        <td style=\"font-weight:bold; line-height:1;\">DEPT. TO</td>\n        <td style=\"text-align:left; line-height:1; white-space:nowrap;\">{{doc.department_to or 'NA'}}</td>\n    </tr>\n     \n    <tr>\n        <td style=\"font-weight:bold; line-height:1; white-space:nowrap;\">INSTRUCTED BY</td>\n        <td style=\"text-align:left; line-height:1; white-space:nowrap;\">{{doc.employee_name or 'NA'}}</td>\n    </tr>\n   \n</table>\n\n\n<table>\n    <tr>\n        <td colspan =1 style=\"width: 20%;text-align:left;font-weight:bold;font-size:15px;\">SUBJECT:</td>\n        <td  colspan =5 style=\"font-size:15px;\">{{doc.iom_type or 'NA'}}</td>\n    </tr>\n</table>\n{% set label_width = \"130px\" %} <!-- adjust as needed -->\n\n{% if doc.customer %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer Name</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.customer or 'NA' }}</span>\n</div>\n{% elif doc.supplier %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.supplier or 'NA' }}</span>\n</div>\n{% endif %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Currency</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.currency or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">PO NO</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.approval_business_volume[0].po_no if doc.approval_business_volume and doc.approval_business_volume[0].po_no else 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">HSN Code</span>\n    <span>\n        :&nbsp;&nbsp;&nbsp;&nbsp;\n        {{ \n            doc.approval_business_volume[0].hsn_code \n            if doc.approval_business_volume and doc.approval_business_volume[0].hsn_code \n            else 'NA'\n        }}\n    </span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Reason for Request</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.subject or 'NA' }}</span>\n</div>\n<br>\n{% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table>\n    <tr>\n        <td style=\"background-color:#fec76f;text-align:center;\">S.No</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Item</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Item Name</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Volume</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Current Price (INR)</td>\n        \n        <td style=\"background-color:#fec76f;text-align:center;\">New Price (INR)</td>\n        \n        </tr>\n    {% for i in doc.approval_business_volume%}\n    <tr>\n        <td>{{loop.index}}</td>\n        <td style=\"text-align:left\">{{i.part_no or ''}}</td>\n        <td style=\"text-align:left\">{{i.part_name or ''}}</td>\n        <td style=\"text-align:center;white-space:nowrap\">{{i.qty or ''}}</td>\n        <td style=\"text-align:right;white-space:nowrap\">{{frappe.utils.fmt_money(i.current_price_inr or 0 , currency=doc.currency)}}</td>\n               \n        <td style=\"text-align:right;white-space:nowrap\">{{frappe.utils.fmt_money(i.new_price_inr or 0, currency=doc.currency)}}</td>\n    </tr>\n    {%endfor%}\n    <tr>\n        <td colspan=5 style=\"text-align:center\">Total</td>\n        <td colspan=1 style=\"text-align:right\">{{frappe.utils.fmt_money(doc.total_new_price_value_inr or 0 , currency=doc.currency)}}</td>\n    </tr>\n    </table>\n    <br>\n   <div style=\"font-weight:bold; font-size:13px; margin-bottom:6px;\">\n    TERMS & CONDITIONS\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:120px;font-weight:bold;\">Payment Terms</span>\n    <span>:&nbsp;&nbsp;{{ doc.payment_terms or 'NA' }}</span>\n</div>\n{% if doc.taxes %}\n{% set ns = namespace(gst_rates=[]) %}\n{% for t in doc.taxes %}\n    {% if t.rate %}\n        {% set ns.gst_rates = ns.gst_rates + [t.rate|string + '%'] %}\n    {% endif %}\n{% endfor %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:120px;font-weight:bold;\">GST</span>\n    <span>:&nbsp;&nbsp;{{ ns.gst_rates | join(' + ') }}</span>\n</div>\n{% else %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:120px;font-weight:bold;\">GST</span>\n    <span>:&nbsp;&nbsp;'NA'</span>\n</div>\n{% endif %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:120px;font-weight:bold;\">Incoterms</span>\n    <span>:&nbsp;&nbsp;{{ doc.wonjin_incoterms or 'NA' }}</span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:120px;font-weight:bold;\">Delivery Terms</span>\n    <span>:&nbsp;&nbsp;{{ doc.delivery_terms or 'NA' }}</span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:120px;font-weight:bold;\">Mode of Dispatch</span>\n    <span>:&nbsp;&nbsp;{{ doc.mode_of_dispatch or 'NA' }}</span>\n</div>\n<div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n<br>\n   <table>\n   <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac\">HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac\">ERP Team</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac\">Material Manager</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac\">Plant Head</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac\">GM</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac\">Finance</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac\">BMD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac\">CMD</td>\n</tr>\n\n<tr style=\"height: 80px;\">\n      {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n       {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to_name}, \"custom_digital_signature\") %}\n       {% set gm_signature = frappe.db.get_value(\"Employee\", {\"name\":\"KR002\"}, \"custom_digital_signature\") %}\n        {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"BMD01\"}, \"custom_digital_signature\") %}\n        {% set cmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"CMD01\"}, \"custom_digital_signature\") %}\n        \n        {% set erp_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.erp_team}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.plant_head}, \"custom_digital_signature\") %}\n        {% set material_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.material_manager}, \"custom_digital_signature\") %}\n\n       {% set marketing_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.marketing_manager}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.finance}, \"custom_digital_signature\") %}\n        <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if prepared_signature %}\n        <img src=\"{{ prepared_signature }}\" style=\"max-height:50px;\">\n    {% endif %}\n    <br>\n     {% if doc.date_time %}\n        {% set formatted_date = frappe.utils.formatdate(doc.date_time, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.date_time, \"HH:mm:ss\") %}\n        <span>{{ formatted_date }}</span>\n        <span>{{ formatted_time }}</span>\n    {% endif %}\n</td>\n        <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if hod_signature %}\n        <img src=\"{{ hod_signature }}\" style=\"max-height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.hod_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.hod_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.hod_approved_on, \"HH:mm:ss\") %}\n        <span>{{ formatted_date }}</span>\n        <span>{{ formatted_time }}</span>\n    {% endif %}\n</td>\n <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if erp_signature %}\n        <img src=\"{{ erp_signature }}\" style=\"max-height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.erp_team_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.erp_team_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.erp_team_approved_on, \"HH:mm:ss\") %}\n        <span>{{ formatted_date }}</span>\n        <span>{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if material_signature %}\n        <img src=\"{{ material_signature }}\" style=\"max-height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.material_manager_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.material_manager_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.material_manager_approved_on, \"HH:mm:ss\") %}\n        <span>{{ formatted_date }}</span>\n        <span>{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if plant_signature %}\n        <img src=\"{{ plant_signature }}\" style=\"max-height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.plant_head_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.plant_head_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.plant_head_approved_on, \"HH:mm:ss\") %}\n        <span>{{ formatted_date }}</span>\n        <span>{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if gm_signature %}\n        <img src=\"{{ gm_signature }}\" style=\"max-height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.gm_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.gm_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.gm_approved_on, \"HH:mm:ss\") %}\n        <span>{{ formatted_date }}</span>\n        <span>{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if finance_signature %}\n        <img src=\"{{ finance_signature }}\" style=\"max-height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.finance_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.finance_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.finance_approved_on, \"HH:mm:ss\") %}\n        <span>{{ formatted_date }}</span>\n        <span>{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if bmd_signature %}\n        <img src=\"{{ bmd_signature }}\" style=\"max-height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.bmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.bmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.bmd_approved_on, \"HH:mm:ss\") %}\n        <span>{{ formatted_date }}</span>\n        <span>{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if cmd_signature %}\n        <img src=\"{{ cmd_signature }}\" style=\"max-height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.cmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.cmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.cmd_approved_on, \"HH:mm:ss\") %}\n        <span>{{ formatted_date }}</span>\n        <span>{{ formatted_time }}</span>\n    {% endif %}\n</td>\n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n<footer id=\"footer-html\">\n   <table width=\"100%\" style=\"border:none;\">\n       <tr>\n           <td width=\"100%\" style=\"text-align:center; font-size:10px;border:none; padding:0; margin:0;\">\n               <i>Page <span class=\"page\"></span> / <span class=\"topage\"></span></i>\n           </td>\n       </tr>\n   </table>\n</footer>\n\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 17:59:01.431161",
  "module": "ONEGENE",
  "name": "Approval for Business Volume Increase",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n@page {\n    size: A4;\n    margin: 5mm 5mm 5mm 5mm; /* top right bottom left */\n}\n\n.page-wrapper {\n    border: 2px solid black;\n    padding: 2mm;\n    box-sizing: border-box;\n    min-height: 265mm; /* full page height */\n    max-width:200mm;\n    margin-top:0mm;\n    \n}\n.content {\n    margin-bottom: 50mm; /* leave space for repeated footer */\n        width: 100%;\n\n}\n.fixed-footer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    padding: 2mm 5mm;\n    box-sizing: border-box;\n    border-top:none;\n    font-size: 10px;\n}\n\n.footer {\n    display: block;\n    position: running(footer); /* makes it a repeated element on every page */\n}\n/* tables inside footer */\n.fixed-footer table {\n    width: 100%;\n    border-collapse: collapse;\n}\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n            page-break-inside: avoid;\n\n    }\n    td, th {\n        border: 1px solid black;\n    }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n        width: 100%;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<div class=\"page-wrapper\">\n    <div class=\"content\">\n\n<table>\n    <tr>\n        <td style=\"width: 15%;text-align:center;border-right:none;border-bottom:none;border-bottom:bold\">\n            <div style=\"padding-top:8px;\">\n                <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\n            </div>\n        </td>\n        <td style=\"width:30%;font-size:20px;text-align:center;border-right:none;border-bottom:none;padding-top:13px\" nowrap>\n            <div class=\"header-title\" style=\"padding-top:10px\">INTER OFFICE MEMO (I O M)</div>         </td>\n        <td style=\"width:15%;white-space:nowrap;border-bottom:none;font-weight:bold;\">\n    <div style=\"padding-top:13px;border-bottom:none;\">\n        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\n            ✔\n        </span>\n        {{ doc.priority }}\n    </div>\n</td>\n\n\n\n    </tr>\n</table>\n\n{% set emp_name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table style=\"width:100%; border-collapse: collapse; margin-top:-1px;\">\n    <tr>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;\">\n           <p style=\"line-height:1.1\">\n    <span style=\"display:inline-block; width:100px;\">Dept.From </span>:&nbsp;{{ doc.department_from or '' }}<br><br>\n    <span style=\"display:inline-block; width:100px;\">Dept.To </span>:&nbsp;{{ doc.department_to or '' }}<br><br>\n\n    <span style=\"display:inline-block; width:100px;\">Created By</span>: &nbsp;{{emp_name or '' }}<br><br>\n   \n</p>\n\n       </td>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;\">\n           <p style=\"line-height:1.1\">\n            <span style=\"display:inline-block; width:90px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\n    <span style=\"display:inline-block; width:90px;\">Doc.No</span>: {{ doc.name }}<br><br>\n        <span style=\"display:inline-block; width:90px;white-space:nowrap\">Requested By&nbsp</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\n\n       </p></td>\n   </tr>\n    \n</table>\n<table style=\"margin-top:-30px; width: 100%;\">\n    <tr>\n        <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\n            SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;\n            <span style=\"display: inline-block; width: 60%; text-align: center;\">\n                {{ doc.iom_type or 'NA' }}\n            </span>\n        </td>\n    </tr>\n</table>\n{% set label_width = \"130px\" %} <!-- adjust as needed -->\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer Group</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.customer_group or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer Name</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.customer or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Currency</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.currency or 'NA' }}</span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Reason For Update</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.subject or 'NA' }}</span>\n</div>\n<br>\n{%if doc.select_request_type==\"Both\" or doc.select_request_type==\"Customer Name\"%}\n\n<table style=\"width:100%; border-collapse: collapse;\">\n    <tr>\n        <td style=\"background-color:#fec76f;text-align:center;width:6%;\"><b>S.No</b></td>\n        <td style=\"background-color:#fec76f;text-align:center;width:47%;\"><b>Customer Current Name</b></td>\n        <td style=\"background-color:#fec76f;text-align:center;width:47%;\"><b>Customer New Name</b></td>\n        </tr>\n    <tr>\n        <td style=\"text-align:center\">1</td>\n        <td style=\"text-align:left\">{{doc.current_name}}</td>\n<td style=\"text-align:left; white-space: pre-line;\">{{doc.new_name}}</td>\n    </tr>\n    </table>\n{%endif%}\n<br>\n{%if doc.select_request_type==\"Both\" or doc.select_request_type==\"Customer Address\"%}\n<table style=\"width:100%; border-collapse: collapse;\">\n    <tr>\n        <td style=\"background-color:#fec76f;text-align:center;width:6%;\"><b>S.No</b></td>\n        <td style=\"background-color:#fec76f;text-align:center;width:47%;\"><b>Customer Current Address</b></td>\n        <td style=\"background-color:#fec76f;text-align:center;width:47%;\"><b>Customer New Address</b></td>\n        </tr>\n    <tr>\n        <td style=\"text-align:center\">1</td>\n        <td style=\"text-align:left\">{{doc.primary_address or ''}}</td>\n<td style=\"text-align:left; white-space: pre-line;\">{{ doc.new_address or '' }}</td>\n    </tr>\n    </table>\n{%endif%}\n   <div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n        <br>\n        {% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n</div>\n<div class=\"fixed-footer\">\n\n    <table>\n    <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">ERP Team</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">GM</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">Finance</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">BMD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">CMD</td>\n</tr>\n\n\n    <tr style=\"height: 80px;\">\n        {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n       {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\n        {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"BMD01\"}, \"custom_digital_signature\") %}\n        {%set gm_signature = frappe.db.get_value(\"Employee\", {\"name\":\"KR002\"}, \"custom_digital_signature\")%}\n        {% set cmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"CMD01\"}, \"custom_digital_signature\") %}\n         {% set erp_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.erp_team}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.plant_head}, \"custom_digital_signature\") %}\n        {% set material_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.material_manager}, \"custom_digital_signature\") %}\n\n       {% set marketing_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.marketing_manager}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.finance}, \"custom_digital_signature\") %}\n          <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if prepared_signature %}\n        <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n     {% if doc.date_time %}\n        {% set formatted_date = frappe.utils.formatdate(doc.date_time, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.date_time, \"HH:mm:ss\") %}\n                <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n        <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if hod_signature %}\n        <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.hod_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.hod_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.hod_approved_on, \"HH:mm:ss\") %}\n                <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if erp_signature %}\n        <img src=\"{{ erp_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.erp_team_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.erp_team_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.erp_team_approved_on, \"HH:mm:ss\") %}\n                <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if gm_signature %}\n        <img src=\"{{ gm_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.gm_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.gm_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.gm_approved_on, \"HH:mm:ss\") %}\n                <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if finance_signature %}\n        <img src=\"{{ finance_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.finance_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.finance_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.finance_approved_on, \"HH:mm:ss\") %}\n                <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if bmd_signature %}\n        <img src=\"{{ bmd_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.bmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.bmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.bmd_approved_on, \"HH:mm:ss\") %}\n                <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if cmd_signature %}\n        <img src=\"{{ cmd_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.cmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.cmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.cmd_approved_on, \"HH:mm:ss\") %}\n                <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n</div>\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 18:05:11.857870",
  "module": "ONEGENE",
  "name": "Approval for Customer Name/Address Change",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n    body {\n        font-size: 14px;\n    }\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n    }\n    td, th {\n        border: 2px solid black;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n    }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<table>\n    <tr>\n    {% if doc.priority == \"Important / Urgent\" %}\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td><td style=\"border-left:none;border-top:none;border-bottom:none;\"></td>\n        <td style=\"text-align:center; vertical-align:middle;background-color:red\"></td>\n        <td style=\"text-align:center; vertical-align:middle; font-weight:bold;width:25%\">\n            A - IMPORTANT / URGENT\n        </td>\n        <td style=\"border-right:none;border-top:none;border-bottom:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n    {% endif %}\n    {% if doc.priority == \"Information\" %}\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td><td></td>\n        <td style=\"text-align:center; vertical-align:middle;background-color:yellow\">\n            <!--<span class=\"color-box yellow\" style=\"display:inline-block; width:15px; height:15px; background-color:yellow; border:1px solid #000;\"></span>-->\n        </td>\n        <td style=\"text-align:center; vertical-align:middle; font-weight:bold;width:25%\">\n           B - INFORMATION\n        </td>\n        <td style=\"border-right:none;border-top:none;border-bottom:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n    {% endif %}\n    {% if doc.priority == \"Improvement\" %}\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td><td></td>\n        <td style=\"text-align:center; vertical-align:middle;background-color:#4472C4\">\n        </td>\n        <td style=\"text-align:center; vertical-align:middle; font-weight:bold;width:25%\">\n           C - IMPROVEMENT\n        </td>\n        <td style=\"border-right:none;border-top:none;border-bottom:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n    {% endif %}\n</tr>\n\n\n\n</table>\n\n<table>\n    <tr>\n        <td rowspan=\"4\" style=\"width: 34%;text-align:center;\"><div style=\"padding-top:32px;\"><img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 100%;\"></div></td>\n        <td rowspan=\"4\" style=\"width:30%;font-size:28px;text-align:center;\" class=\"header-title\" nowrap><div style=\"padding-top:42px;\">INTER OFFICE MEMO (I O M)</div></td>\n        <td style=\"width: 20%;font-weight:bold;\"><div style=\"padding-top:7px;\">DATE & TIME</div></td>\n        <td style=\"width:20%; text-align:left;\">\n            {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}\n        </td>\n        \n\n\n    </tr>\n    <tr>\n        <td style=\"font-weight:bold;\">DEPT. FROM</td>\n        <td style=\"text-align:left;\">{{doc.department_from or 'NA'}}</td>\n    </tr>\n    <tr>\n        <td style=\"font-weight:bold;\">DEPT. TO</td>\n        <td style=\"text-align:left;\">{{doc.department_to or 'NA'}}</td>\n    </tr>\n     \n    <tr>\n        <td style=\"font-weight:bold;\">INSTRUCTED BY</td>\n        <td style=\"text-align:left;\">{{doc.employee_name or 'NA'}}</td>\n    </tr>\n   \n</table>\n\n\n<table>\n    <tr>\n        <td colspan =1 style=\"width: 23.5%;text-align:left;font-weight:bold;font-size:15px;\">SUBJECT:</td>\n        <td  colspan =5 style=\"font-size:15px;\">{{doc.iom_type or 'NA'}}</td>\n    </tr>\n</table>\n{% set label_width = \"130px\" %} <!-- adjust as needed -->\n\n{% if doc.customer %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer Name</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.customer or 'NA' }}</span>\n</div>\n{% elif doc.supplier %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.supplier or 'NA' }}</span>\n</div>\n{% endif %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Currency</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.currency or 'NA' }}</span>\n</div>\n\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Reason for Request</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.subject or 'NA' }}</span>\n</div>\n{% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<br>\n<table>\n    <tr>\n        <td style=\"background-color:#fec76f;text-align:center;\">S.No</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Invoice No</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Invoice Date</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Price (INR)</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Payment status</td>\n        </tr>\n    {% for i in doc.approval_payment_right_off%}\n    <tr>\n        <td>{{loop.index}}</td>\n        <td style=\"text-align:left\">{{i.invoice_no or ''}}</td>\n        <td style=\"text-align:left\">{{ frappe.utils.format_datetime(i.invoice_date, \"dd-MM-yyyy\") or '' }}</td>\n        <td style=\"text-align:right\">{{ frappe.utils.fmt_money(i.price_inr or 0 , currency=doc.currency)}}</td>\n        <td style=\"text-align:left\">{{i.payment_status or ''}}</td>\n    </tr>\n    {%endfor%}\n    </table>\n    <br>\n   <div style=\"font-weight:bold; font-size:15px; margin-bottom:6px;\">\n    TERMS & CONDITIONS\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:120px;font-weight:bold;\">PAYMENT TERMS</span>\n    <span>:&nbsp;&nbsp;{{ doc.payment_terms or 'NA' }}</span>\n</div>\n{% if doc.taxes %}\n{% set ns = namespace(gst_rates=[]) %}\n{% for t in doc.taxes %}\n    {% if t.rate %}\n        {% set ns.gst_rates = ns.gst_rates + [t.rate|string + '%'] %}\n    {% endif %}\n{% endfor %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:120px;font-weight:bold;\">GST</span>\n    <span>:&nbsp;&nbsp;{{ ns.gst_rates | join(' + ') }}</span>\n</div>\n{% else %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:120px;font-weight:bold;\">GST</span>\n    <span>:&nbsp;&nbsp;'NA'</span>\n</div>\n{% endif %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:120px;font-weight:bold;\">INCOTERMS</span>\n    <span>:&nbsp;&nbsp;{{ doc.wonjin_incoterms or 'NA' }}</span>\n</div>\n\n\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:120px;font-weight:bold;\">MODE OF DISPATCH</span>\n    <span>:&nbsp;&nbsp;{{ doc.mode_of_dispatch or 'NA' }}</span>\n</div>\n<div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n<br>\n    <table>\n   <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:33.33%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:33.33%;background-color:#a5a3ac\">HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:33.33%;background-color:#a5a3ac\">ERP Team</td>\n  \n</tr>\n\n\n    <tr style=\"height: 80px;\">\n        {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n       {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to_name}, \"custom_digital_signature\") %}\n       {% set erp_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.erp_team}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.plant_head}, \"custom_digital_signature\") %}\n        {% set material_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.material_manager}, \"custom_digital_signature\") %}\n\n       {% set marketing_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.marketing_manager}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.finance}, \"custom_digital_signature\") %}\n       <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if prepared_signature %}\n        <img src=\"{{ prepared_signature }}\" style=\"max-height:50px;\">\n    {% endif %}\n    <br>\n     {% if doc.date_time %}\n        {% set formatted_date = frappe.utils.formatdate(doc.date_time, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.date_time, \"HH:mm:ss\") %}\n        <span>{{ formatted_date }}</span><br>\n        <span>{{ formatted_time }}</span>\n    {% endif %}\n</td>\n        <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if hod_signature %}\n        <img src=\"{{ hod_signature }}\" style=\"max-height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.hod_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.hod_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.hod_approved_on, \"HH:mm:ss\") %}\n        <span>{{ formatted_date }}</span><br>\n        <span>{{ formatted_time }}</span>\n    {% endif %}\n</td>\n <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if erp_signature %}\n        <img src=\"{{ erp_signature }}\" style=\"max-height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.erp_team_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.erp_team_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.erp_team_approved_on, \"HH:mm:ss\") %}\n        <span>{{ formatted_date }}</span><br>\n        <span>{{ formatted_time }}</span>\n    {% endif %}\n</td>\n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n<footer id=\"footer-html\">\n   <table width=\"100%\" style=\"border:none;\">\n       <tr>\n           <td width=\"100%\" style=\"text-align:center; font-size:10px;border:none; padding:0; margin:0;\">\n               <i>Page <span class=\"page\"></span> / <span class=\"topage\"></span></i>\n           </td>\n       </tr>\n   </table>\n</footer>\n\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 17:59:13.885782",
  "module": "ONEGENE",
  "name": "Approval for Payment Write Off",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n@page {\n    size: A4;\n    margin: 5mm 5mm 5mm 5mm; /* top right bottom left */\n}\n\n.page-wrapper {\n    border: 2px solid black;\n    padding: 2mm;\n    box-sizing: border-box;\n    min-height: 265mm; /* full page height */\n    max-width:200mm;\n    margin-top:0mm;\n    \n}\n.content {\n    margin-bottom: 50mm; /* leave space for repeated footer */\n        width: 100%;\n\n}\n.fixed-footer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    padding: 2mm 5mm;\n    box-sizing: border-box;\n    border-top:none;\n    font-size: 10px;\n}\n\n.footer {\n    display: block;\n    position: running(footer); /* makes it a repeated element on every page */\n}\n/* tables inside footer */\n.fixed-footer table {\n    width: 100%;\n    border-collapse: collapse;\n}\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n            page-break-inside: avoid;\n\n    }\n    td, th {\n        border: 1px solid black;\n    }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n        width: 100%;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<div class=\"page-wrapper\">\n    <div class=\"content\">\n\n<table>\n    <tr>\n        <td style=\"width: 15%;text-align:center;border-right:none;border-bottom:none;border-bottom:bold\">\n            <div style=\"padding-top:8px;\">\n                <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\n            </div>\n        </td>\n        <td style=\"width:30%;font-size:20px;text-align:center;border-right:none;border-bottom:none;padding-top:13px\" nowrap>\n            <div class=\"header-title\" style=\"padding-top:10px\">INTER OFFICE MEMO (I O M)</div>         </td>\n        <td style=\"width:15%;white-space:nowrap;border-bottom:none;font-weight:bold;\">\n    <div style=\"padding-top:13px;border-bottom:none;\">\n        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\n            ✔\n        </span>\n        {{ doc.priority }}\n    </div>\n</td>\n\n\n\n    </tr>\n</table>\n\n{% set emp_name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table style=\"width:100%; border-collapse: collapse; margin-top:-16px;\">\n    <tr>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;\">\n           <p style=\"line-height:1\">\n    <span style=\"display:inline-block; width:80px;\">Dept.From </span>:&nbsp;{{ doc.department_from or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Dept.To</span>:&nbsp; {{ doc.department_to or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Created By</span>: &nbsp;{{emp_name or '' }}<br><br>\n   \n</p>\n\n       </td>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;\">\n           <p style=\"line-height:1\">\n            <span style=\"display:inline-block; width:80px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Doc.No</span>: {{ doc.name }}<br><br>\n        <span style=\"display:inline-block; width:80px;\">Instructed By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\n\n       </p></td>\n   </tr>\n    \n</table>\n<table style=\"margin-top:-30px; width: 100%;\">\n    <tr>\n        <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\n            SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;\n            <span style=\"display: inline-block; width: 60%; text-align: center;\">\n                {{ doc.iom_type or 'NA' }}\n            </span>\n        </td>\n    </tr>\n</table>\n\n{% set label_width = \"130px\" %} <!-- adjust as needed -->\n\n  <div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer Group</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.customer_group or 'NA' }}</span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer Name</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.customer or 'NA' }}</span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Currency</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.currency or 'NA' }}</span>\n</div>\n\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">HSN Code</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.approval_sales_order[0].hsn_code if doc.approval_sales_order and doc.approval_sales_order[0].hsn_code else 'NA' }}</span>\n</div>\n\n<br>\n<table>\n    <tr>\n        <td style=\"background-color:#fec76f;text-align:center;\">S.No</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Item Code</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Item Name</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Qty</td>\n\n        </tr>\n    {% for i in doc.approval_sales_order%}\n    <tr>\n        <td>{{loop.index}}</td>\n        <td style=\"text-align:left\">{{i.part_no or ''}}</td>\n        <td style=\"text-align:left\">{{i.part_name or '' }}</td>\n        <td style=\"text-align:center\">{{i.qty or ''}}</td>\n\n    </tr>\n    {%endfor%}\n    </table>\n        <br>\n        <div style=\"margin-bottom: 4px;\">\n            <span style=\"display:inline-block;width:140px;font-weight:bold;white-space:nowrap\">Remarks</span>\n            <span>:&nbsp;&nbsp;{{ doc.subject or 'NA' }}</span>\n        </div>\n      <div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n</div>\n\n<br>\n<div class=\"fixed-footer\">\n\n{% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n   <table>\n   <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:16.66%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:16.66%;background-color:#a5a3ac\">HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:16.66%;background-color:#a5a3ac\">ERP Team</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:16.66%;background-color:#a5a3ac\">Finance</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:16.66%;background-color:#a5a3ac\">BMD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:16.66%;background-color:#a5a3ac\">CMD</td>\n  \n</tr>\n\n\n    <tr style=\"height: 80px;\">\n        {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n       {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\n        {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"BMD01\"}, \"custom_digital_signature\") %}\n        {% set cmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"CMD01\"}, \"custom_digital_signature\") %}\n        \n        {% set erp_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.erp_team}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.plant_head}, \"custom_digital_signature\") %}\n        {% set material_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.material_manager}, \"custom_digital_signature\") %}\n\n       {% set marketing_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.marketing_manager}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.finance}, \"custom_digital_signature\") %}\n         <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if prepared_signature %}\n        <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\n           {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n     {% if doc.date_time %}\n        {% set formatted_date = frappe.utils.formatdate(doc.date_time, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.date_time, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n        <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if hod_signature %}\n        <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\n           {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.hod_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.hod_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.hod_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if erp_signature %}\n        <img src=\"{{ erp_signature }}\" style=\"height:50px;\">\n           {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.erp_team_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.erp_team_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.erp_team_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if finance_signature %}\n        <img src=\"{{ finance_signature }}\" style=\"height:50px;\">\n           {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.finance_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.finance_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.finance_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if bmd_signature %}\n        <img src=\"{{ bmd_signature }}\" style=\"height:50px;\">\n           {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.bmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.bmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.bmd_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if cmd_signature %}\n        <img src=\"{{ cmd_signature }}\" style=\"height:50px;\">\n           {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.cmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.cmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.cmd_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n</div>\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 17:59:37.164420",
  "module": "ONEGENE",
  "name": "Approval for Sales Order DC",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n@page {\n    size: A4;\n    margin: 5mm 5mm 5mm 5mm; /* top right bottom left */\n}\n\n.page-wrapper {\n    border: 2px solid black;\n    padding: 2mm;\n    box-sizing: border-box;\n    min-height: 265mm; /* full page height */\n    max-width:200mm;\n    margin-top:0mm;\n    \n}\n.content {\n    margin-bottom: 50mm; /* leave space for repeated footer */\n        width: 100%;\n\n}\n.fixed-footer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    padding: 2mm 5mm;\n    box-sizing: border-box;\n    border-top:none;\n    font-size: 10px;\n}\n\n.footer {\n    display: block;\n    position: running(footer); /* makes it a repeated element on every page */\n}\n/* tables inside footer */\n.fixed-footer table {\n    width: 100%;\n    border-collapse: collapse;\n}\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n            page-break-inside: avoid;\n\n    }\n    td, th {\n        border: 1px solid black;\n    }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n        width: 100%;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<div class=\"page-wrapper\">\n    <div class=\"content\">\n\n<table>\n    <tr>\n        <td style=\"width: 15%;text-align:center;border-right:none;border-bottom:none;border-bottom:bold\">\n            <div style=\"padding-top:8px;\">\n                <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\n            </div>\n        </td>\n        <td style=\"width:30%;font-size:20px;text-align:center;border-right:none;border-bottom:none;padding-top:13px\" nowrap>\n            <div class=\"header-title\" style=\"padding-top:10px\">INTER OFFICE MEMO (I O M)</div>         </td>\n        <td style=\"width:15%;white-space:nowrap;border-bottom:none;font-weight:bold;\">\n    <div style=\"padding-top:13px;border-bottom:none;\">\n        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\n            ✔\n        </span>\n        {{ doc.priority }}\n    </div>\n</td>\n\n\n\n    </tr>\n</table>\n\n{% set emp_name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table style=\"width:100%; border-collapse: collapse; margin-top:-16px;\">\n    <tr>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;\">\n           <p style=\"line-height:1\">\n    <span style=\"display:inline-block; width:80px;\">Dept.From </span>:&nbsp;{{ doc.department_from or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Dept.To</span>:&nbsp; {{ doc.department_to or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Created By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\n   \n</p>\n\n       </td>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;\">\n           <p style=\"line-height:1\">\n            <span style=\"display:inline-block; width:80px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Doc.No</span>: {{ doc.name }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Instructed By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\n\n       </p></td>\n   </tr>\n    \n</table>\n<table style=\"margin-top:-30px; width: 100%;\">\n    <tr>\n        <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\n            SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;\n            <span style=\"display: inline-block; width: 60%; text-align: center;\">\n                {{ doc.iom_type or 'NA' }}\n            </span>\n        </td>\n    </tr>\n</table>\n\n\n{% set label_width = \"130px\" %} <!-- adjust as needed -->\n <div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer Group</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.customer_group or 'NA' }}</span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer Name</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.customer or 'NA' }}</span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Currency</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.currency or 'NA' }}</span>\n</div>\n\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">HSN Code</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.approval_part_level[0].hsn_code if doc.approval_part_level and doc.approval_part_level[0].hsn_code else 'NA' }}</span>\n</div>\n\n<br>\n<table>\n    <tr>\n        <td style=\"background-color:#fec76f;text-align:center;\">S.No</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Current Item Code</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Current Item Name</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">New Item Code</td>\n\n        </tr>\n    {% for i in doc.approval_part_level%}\n    <tr>\n        <td>{{loop.index}}</td>\n        <td style=\"text-align:left\">{{i.part_no or ''}}</td>\n            <td style=\"text-align:left\">{{i.part_name or '' }}</td>\n\n        <td style=\"text-align:left\">{{i.new_part_no or '' }}</td>\n\n    </tr>\n    {%endfor%}\n    </table>\n        <br>\n        \n        <div style=\"margin-bottom: 4px;\">\n            <span style=\"display:inline-block;width:140px;font-weight:bold;white-space:nowrap\">Remarks</span>\n            <span>:&nbsp;&nbsp;{{ doc.subject or 'NA' }}</span>\n        </div>\n       <div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n    </div>\n<br>\n<div class=\"fixed-footer\">\n\n   <table>\n   <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:25%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:25%;background-color:#a5a3ac\">HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:25%;background-color:#a5a3ac\">ERP Team</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:25%;background-color:#a5a3ac\">Design Manager</td>\n\n</tr>\n\n\n    <tr style=\"height: 80px;\">\n        {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n       {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\n       {% set design_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.design_manager}, \"custom_digital_signature\") %}\n       {% set erp_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.erp_team}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.plant_head}, \"custom_digital_signature\") %}\n        {% set material_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.material_manager}, \"custom_digital_signature\") %}\n\n       {% set marketing_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.marketing_manager}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.finance}, \"custom_digital_signature\") %}\n       <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if prepared_signature %}\n        <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n     {% if doc.date_time %}\n        {% set formatted_date = frappe.utils.formatdate(doc.date_time, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.date_time, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n        <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if hod_signature %}\n        <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.hod_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.hod_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.hod_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if erp_signature %}\n        <img src=\"{{ erp_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.erp_team_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.erp_team_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.erp_team_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if design_signature %}\n        <img src=\"{{ design_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.design_manager_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.design_manager_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.design_manager_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n</div>\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 18:03:27.070113",
  "module": "ONEGENE",
  "name": "Approval for Item Level Change",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n@page {\n    size: A4;\n    margin: 5mm 5mm 5mm 5mm; /* top right bottom left */\n}\n\n.page-wrapper {\n    border: 2px solid black;\n    padding: 2mm;\n    box-sizing: border-box;\n    min-height: 265mm; /* full page height */\n    max-width:200mm;\n    margin-top:0mm;\n    \n}\n.content {\n    margin-bottom: 50mm; /* leave space for repeated footer */\n        width: 100%;\n\n}\n.fixed-footer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    padding: 2mm 5mm;\n    box-sizing: border-box;\n    border-top:none;\n    font-size: 10px;\n}\n\n.footer {\n    display: block;\n    position: running(footer); /* makes it a repeated element on every page */\n}\n/* tables inside footer */\n.fixed-footer table {\n    width: 100%;\n    border-collapse: collapse;\n}\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n            page-break-inside: avoid;\n\n    }\n    td, th {\n        border: 1px solid black;\n    }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n        width: 100%;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<div class=\"page-wrapper\">\n    <div class=\"content\">\n\n<table>\n    <tr>\n        <td style=\"width: 15%;text-align:center;border-right:none;border-bottom:none;border-bottom:bold\">\n            <div style=\"padding-top:8px;\">\n                <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\n            </div>\n        </td>\n        <td style=\"width:30%;font-size:20px;text-align:center;border-right:none;border-bottom:none;padding-top:13px\" nowrap>\n            <div class=\"header-title\" style=\"padding-top:10px\">INTER OFFICE MEMO (I O M)</div>         </td>\n        <td style=\"width:15%;white-space:nowrap;border-bottom:none;font-weight:bold;\">\n    <div style=\"padding-top:13px;border-bottom:none;\">\n        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\n            ✔\n        </span>\n        {{ doc.priority }}\n    </div>\n</td>\n\n\n\n    </tr>\n</table>\n{% set emp_name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table style=\"width:100%; border-collapse: collapse; margin-top:-16px;\">\n    <tr>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;\">\n           <p style=\"line-height:1\">\n    <span style=\"display:inline-block; width:80px;\">Dept.From </span>:&nbsp;{{ doc.department_from or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Dept.To</span>:&nbsp; {{ doc.department_to or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Created By</span>: &nbsp;{{emp_name or '' }}<br><br>\n   \n</p>\n\n       </td>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;\">\n           <p style=\"line-height:1\">\n            <span style=\"display:inline-block; width:80px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Doc.No</span>: {{ doc.name }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Instructed By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\n       </p></td>\n   </tr>\n    \n</table>\n<table style=\"margin-top:-30px; width: 100%;\">\n    <tr>\n        <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\n            SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;\n            <span style=\"display: inline-block; width: 60%; text-align: center;\">\n                {{ doc.iom_type or 'NA' }}\n            </span>\n        </td>\n    </tr>\n</table>\n{% set label_width = \"130px\" %} <!-- adjust as needed -->\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier Group</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.supplier_group or 'NA' }}</span>\n</div>\n{% set supplier_name=frappe.db.get_value(\"Supplier\",{\"name\":doc.supplier},\"supplier_name\") %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ supplier_name or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Currency</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.currency or 'NA' }}</span>\n</div>\n{% set forwarder_name=frappe.db.get_value(\"Supplier\",{\"name\":doc.forwarder_name},\"supplier_name\") %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Forwarder Name</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{forwarder_name or 'NA' }}</span>\n\n</div>\n\n<br>\n\n<br>\n<table>\n    <tr>\n        <td style=\"background-color:#fec76f;text-align:center;\">S.No</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Item</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Item Name</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Qty</td>\n\n        </tr>\n    {% for i in doc.approval_shipment_materail%}\n    <tr>\n        <td>{{loop.index}}</td>\n        <td style=\"text-align:left;white-space:nowrap\">{{i.part_no or ''}}</td>\n        <td style=\"text-align:left;\">{{i.part_name or '' }}</td>\n        <td style=\"text-align:center;white-space:nowrap\">{{i.qty or '' }}</td>\n\n    </tr>\n    {%endfor%}\n   </table>\n\n    <table>\n    <tr>\n    <td style=\"text-align:center\">Fright Cost if sea({{doc.currency or 'NA'}})<br><b>{{frappe.utils.fmt_money(doc.fright_cost_if_sea_inr  or 0 , currency=\"INR\")}}</b></td>\n    <td style=\"text-align:center\">Fright Cost if air({{doc.currency or 'NA'}})<br><b>{{frappe.utils.fmt_money(doc.fright_cost_if_air_inr  or 0 , currency=\"INR\")}}</b></td>\n    <td style=\"text-align:center\">Loss Cost(INR)<br><b>{{frappe.utils.fmt_money(doc.total_loss_value  or 0 , currency=\"INR\")}}</b></td>\n\n    </tr>\n    </table>\n      <br>\n    <div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Remarks</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.subject or 'NA' }}</span>\n</div>\n<div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n</div>\n<div class=\"fixed-footer\">\n\n{% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<br><br>\n   <table>\n   <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Plant Head</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">GM</td>\n   <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Finance</td>\n    <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">BMD</td>\n    <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">CMD</td>\n    <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">SMD</td>\n\n</tr>\n\n\n    <tr style=\"height: 80px;\">\n         {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.finance}, \"custom_digital_signature\") %}\n         {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"BMD01\"}, \"custom_digital_signature\") %}\n        {% set cmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"CMD01\"}, \"custom_digital_signature\") %}\n         {% set smd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"SMD01\"}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.plant_head}, \"custom_digital_signature\") %}\n       {% set gm_signature = frappe.db.get_value(\"Employee\", {\"name\":\"KR002\"}, \"custom_digital_signature\") %}\n\n        <td style=\"text-align:center;font-size:15px;\">\n        <br>\n    {% if prepared_signature %}\n        <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\n          {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n     {% if doc.date_time %}\n{% set formatted_date = frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\n    {% endif %}</td>\n         <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if hod_signature %}\n        <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\n          {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.hod_approved_on %}\n{% set formatted_date = frappe.utils.format_datetime(doc.hod_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\n    {% endif %}\n</td>\n<!---->\n  <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if plant_signature %}\n        <img src=\"{{ plant_signature }}\" style=\"height:50px;\">\n          {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.plant_head_approved_on %}\n{% set formatted_date = frappe.utils.format_datetime(doc.plant_head_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\n    {% endif %}\n</td>\n<!---->\n <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if gm_signature %}\n        <img src=\"{{ gm_signature }}\" style=\"height:50px;\">\n          {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.gm_approved_on %}\n{% set formatted_date = frappe.utils.format_datetime(doc.gm_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\n    {% endif %}\n</td>\n<!---->\n        <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if finance_signature %}\n        <img src=\"{{ finance_signature }}\" style=\"height:50px;\">\n          {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n     <br>\n    {% if doc.finance_approved_on %}\n{% set formatted_date = frappe.utils.format_datetime(doc.finance_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\n    {% endif %}\n</td>\n        <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if bmd_signature %}\n        <img src=\"{{ bmd_signature }}\" style=\"height:50px;\">\n          {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n         <br>\n    {% if doc.bmd_approved_on %}\n{% set formatted_date = frappe.utils.format_datetime(doc.bmd_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\n    {% endif %}\n</td> \n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if cmd_signature %}\n        <img src=\"{{ cmd_signature }}\" style=\"height:50px;\">\n          {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n         <br>\n    {% if doc.cmd_approved_on %}\n{% set formatted_date = frappe.utils.format_datetime(doc.cmd_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\n    {% endif %}\n</td>\n       <!---->\n        <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if smd_signature %}\n        <img src=\"{{ smd_signature }}\" style=\"height:50px;\">\n          {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n         <br>\n    {% if doc.smd_approved_on %}\n{% set formatted_date = frappe.utils.format_datetime(doc.smd_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\n    {% endif %}\n</td> \n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n</div>\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 17:58:07.144606",
  "module": "ONEGENE",
  "name": "Approval for Air Shipment Material",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\r\n@page {\r\n    size: A4;\r\n    margin: 5mm 5mm 5mm 5mm; /* top right bottom left */\r\n}\r\n\r\n.page-wrapper {\r\n    border: 2px solid black;\r\n    padding: 2mm;\r\n    box-sizing: border-box;\r\n    min-height: 265mm; /* full page height */\r\n    max-width:200mm;\r\n    margin-top:0mm;\r\n    \r\n}\r\n.content {\r\n    margin-bottom: 50mm; /* leave space for repeated footer */\r\n        width: 100%;\r\n\r\n}\r\n.fixed-footer {\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    padding: 2mm 5mm;\r\n    box-sizing: border-box;\r\n    border-top:none;\r\n    font-size: 10px;\r\n}\r\n\r\n.footer {\r\n    display: block;\r\n    position: running(footer); /* makes it a repeated element on every page */\r\n}\r\n/* tables inside footer */\r\n.fixed-footer table {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n}\r\n    table {\r\n        border-collapse: collapse; \r\n        border-spacing: 0;\r\n        width: 100%;\r\n        margin-bottom: 16px;\r\n            page-break-inside: avoid;\r\n\r\n    }\r\n    td, th {\r\n        border: 1px solid black;\r\n    }\r\n    .header-title {\r\n        font-size: 18px;\r\n        font-weight: bold;\r\n        width: 100%;\r\n    }\r\n    .color-box {\r\n        width: 30px;\r\n        height: 20px;\r\n        display: inline-block;\r\n    }\r\n    .red { background-color: red; }\r\n    .yellow { background-color: yellow; }\r\n    .blue { background-color: blue; }\r\n    .right-align {\r\n        text-align: left;\r\n        padding-left: 5px;\r\n    }\r\n</style>\r\n<div class=\"page-wrapper\">\r\n    <div class=\"content\">\r\n\r\n<table>\r\n    <tr>\r\n        <td style=\"width: 15%;text-align:center;border-right:none;border-bottom:none;border-bottom:bold\">\r\n            <div style=\"padding-top:8px;\">\r\n                <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\r\n            </div>\r\n        </td>\r\n        <td style=\"width:30%;font-size:20px;text-align:center;border-right:none;border-bottom:none;padding-top:13px\" nowrap>\r\n            <div class=\"header-title\" style=\"padding-top:10px\">INTER OFFICE MEMO (I O M)</div>         </td>\r\n        <td style=\"width:15%;white-space:nowrap;border-bottom:none;font-weight:bold;\">\r\n    <div style=\"padding-top:13px;border-bottom:none;\">\r\n        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\r\n            ✔\r\n        </span>\r\n        {{ doc.priority }}\r\n    </div>\r\n</td>\r\n\r\n\r\n\r\n    </tr>\r\n</table>\r\n{% set emp_name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\r\n<table style=\"width:100%; border-collapse: collapse; margin-top:-15px;\">\r\n    <tr>\r\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;\">\r\n           <p style=\"line-height:1.1\">\r\n    <span style=\"display:inline-block; width:100px;\">Dept.From </span>:&nbsp;{{ doc.department_from or '' }}<br><br>\r\n        <span style=\"display:inline-block; width:100px;\">Dept.To </span>:&nbsp;{{ doc.department_to or '' }}<br><br>\r\n    <span style=\"display:inline-block; width:100px;\">Created By</span>: &nbsp;{{emp_name or '' }}<br><br>\r\n    \r\n   \r\n</p>\r\n\r\n       </td>\r\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;\">\r\n           <p style=\"line-height:1.1\">\r\n            <span style=\"display:inline-block; width:90px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\r\n    <span style=\"display:inline-block; width:90px;\">Doc.No</span>: {{ doc.name }}<br><br>\r\n    <span style=\"display:inline-block; width:90px;\">Requested By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\r\n       </p></td>\r\n   </tr>\r\n    \r\n</table>\r\n<table style=\"margin-top:-30px; width: 100%;\">\r\n    <tr>\r\n        <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\r\n            SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;\r\n            <span style=\"display: inline-block; width: 70%; text-align: center;\">\r\n                {{ doc.iom_type or 'NA' }}\r\n            </span>\r\n        </td>\r\n    </tr>\r\n\r\n</table>\r\n\r\n        <br>\r\n     {% set label_width = \"140px\" %} <!-- adjust as needed -->\r\n\r\n<div style=\"margin-bottom:2px;\">\r\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\"><u>Input Details</u></span>\r\n</div>\r\n\r\n    <table>\r\n    <tr>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">S.No</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Item Code</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Item Name</td>\r\n         <td style=\"background-color:#fec76f;text-align:center;\">UOM</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Warehouse</td>\r\n            <td style=\"background-color:#fec76f;text-align:center;\">Stock Qty</td>\r\n\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Input Qty</td>\r\n        </tr>\r\n    {% for i in doc.product_convertion%}\r\n    <tr>\r\n        <td>{{loop.index}}</td>\r\n        <td style=\"text-align:left\">{{i.part_nofrom or ''}}</td>\r\n        <td style=\"text-align:left\">{{i.part_namefrom or '' }}</td>\r\n         <td style=\"text-align:center;white-space:nowrap;\">{{i.uom or ''}}</td>\r\n        <td style=\"text-align:center;\">{{i.warehouse_from or '' }}</td>\r\n            <td style=\"text-align:center;\">{{i.stock_qty or '0' }}</td>\r\n\r\n        <td style=\"text-align:center;\">{{i.qtyfrom or '' }}</td>\r\n\r\n    </tr>\r\n    {%endfor%}\r\n    </table>\r\n    <br>\r\n    <div style=\"margin-bottom: 2px;\">\r\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\"><u>Converted Products</u></span>\r\n</div>\r\n    <table>\r\n    <tr>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">S.No</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Item Code</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Item Name</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">UOM</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Warehouse</td>\r\n            <td style=\"background-color:#fec76f;text-align:center;\">Stock Qty</td>\r\n\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Converted Qty</td>\r\n        </tr>\r\n    {% for i in doc.table_mugs%}\r\n   <tr>\r\n        <td>{{loop.index}}</td>\r\n        <td style=\"text-align:left\">{{i.part_nofrom or ''}}</td>\r\n        <td style=\"text-align:left\">{{i.part_namefrom or '' }}</td>\r\n          <td style=\"text-align:center;white-space:nowrap;\">{{i.uom or ''}}</td>\r\n        <td style=\"text-align:center;\">{{i.warehouse_from or '' }}</td>\r\n                <td style=\"text-align:center;\">{{i.stock_qty or '0' }}</td>\r\n\r\n        <td style=\"text-align:center;\">{{i.qtyfrom or '' }}</td>\r\n\r\n    </tr>\r\n    {%endfor%}\r\n    </table><br>\r\n    <div style=\"margin-bottom: 4px;\">\r\n    <span style=\"display:inline-block;width:160px;font-weight:bold;white-space:nowrap\">Reason For Conversion</span>\r\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.subject or 'NA' }}</span>\r\n</div>\r\n<div style=\"width:100%; margin-top:10px; display:flex;\">\r\n\r\n    {% if doc.approval_remarks %}\r\n    <div style=\"\r\n        width:50%;\r\n        padding:20px;\r\n        border:1px solid #000;\r\n        margin-right:20px; \r\n        box-sizing:border-box;\r\n    \">\r\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\r\n        <br><br>\r\n        {% for r in doc.approval_remarks %}\r\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\r\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\r\n            {% if not loop.last %}<br>{% endif %}\r\n        {% endfor %}\r\n    </div>\r\n    {% endif %}\r\n\r\n    {% if doc.rejection_remarks %}\r\n    <div style=\"\r\n        width:50%;\r\n        padding:20px;\r\n        border:1px solid #000;\r\n        margin-left:20px;   \r\n        box-sizing:border-box;\r\n    \">\r\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\r\n        <br><br>\r\n        {% for r in doc.rejection_remarks %}\r\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\r\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\r\n            {% if not loop.last %}<br>{% endif %}\r\n        {% endfor %}\r\n    </div>\r\n    {% endif %}\r\n\r\n</div>\r\n    <div class=\"fixed-footer\">\r\n        <br>\r\n        {% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\r\n\r\n   <table>\r\n  <tr>\r\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">Prepared</td>\r\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">HOD</td>\r\n   <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">ERP Team</td>\r\n   <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">Quality</td>\r\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">Plant Head</td>\r\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">BMD</td>\r\n   <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">CMD</td>\r\n\r\n</tr>\r\n\r\n\r\n    <tr style=\"height: 80px;\">\r\n     {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\r\n       {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\r\n       {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"BMD01\"}, \"custom_digital_signature\") %}\r\n        {% set cmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"CMD01\"}, \"custom_digital_signature\") %}\r\n        {% set quality_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.quality_manager}, \"custom_digital_signature\") %}\r\n\r\n\r\n        {% set erp_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.erp_team}, \"custom_digital_signature\") %}\r\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.plant_head}, \"custom_digital_signature\") %}\r\n        {% set material_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.material_manager}, \"custom_digital_signature\") %}\r\n\r\n       {% set marketing_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.marketing_manager}, \"custom_digital_signature\") %}\r\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.finance}, \"custom_digital_signature\") %}\r\n        <td style=\"text-align:center;font-size:15px;\">\r\n    <br>\r\n    {% if prepared_signature %}\r\n        <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\r\n         {%else%}\r\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\r\n    {% endif %}\r\n    <br>\r\n     {% if doc.date_time %}\r\n        {% set formatted_date = frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") %}\r\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\r\n    {% endif %}\r\n</td>\r\n        <td style=\"text-align:center;font-size:15px;\">\r\n    <br>\r\n    {% if hod_signature %}\r\n        <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\r\n         {%else%}\r\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\r\n    {% endif %}\r\n    <br>\r\n    {% if doc.hod_approved_on %}\r\n        {% set formatted_date = frappe.utils.format_datetime(doc.hod_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\r\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\r\n    {% endif %}\r\n</td>\r\n <td style=\"text-align:center;font-size:15px;\">\r\n    <br>\r\n    {% if erp_signature %}\r\n        <img src=\"{{ erp_signature }}\" style=\"height:50px;\">\r\n         {%else%}\r\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\r\n    {% endif %}\r\n    <br>\r\n    {% if doc.erp_team_approved_on %}\r\n        {% set formatted_date = frappe.utils.format_datetime(doc.erp_team_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\r\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\r\n    {% endif %}\r\n</td>\r\n<td style=\"text-align:center;font-size:15px;\">\r\n    <br>\r\n    {% if quality_signature %}\r\n        <img src=\"{{ quality_signature }}\" style=\"height:50px;\">\r\n         {%else%}\r\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\r\n    {% endif %}\r\n    <br>\r\n    {% if doc.quality_team_approved_on %}\r\n        {% set formatted_date = frappe.utils.format_datetime(doc.quality_team_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\r\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\r\n    {% endif %}\r\n</td>\r\n  \r\n <td style=\"text-align:center;font-size:15px;\">\r\n    <br>\r\n    {% if plant_signature %}\r\n        <img src=\"{{ plant_signature }}\" style=\"height:50px;\">\r\n         {%else%}\r\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\r\n    {% endif %}\r\n    <br>\r\n    {% if doc.plant_head_approved_on %}\r\n        {% set formatted_date = frappe.utils.format_datetime(doc.plant_head_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\r\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\r\n    {% endif %}\r\n</td>\r\n<td style=\"text-align:center;font-size:15px;\">\r\n    <br>\r\n    {% if bmd_signature %}\r\n        <img src=\"{{ bmd_signature }}\" style=\"height:50px;\">\r\n         {%else%}\r\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\r\n    {% endif %}\r\n    <br>\r\n    {% if doc.bmd_approved_on %}\r\n        {% set formatted_date = frappe.utils.format_datetime(doc.bmd_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\r\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\r\n    {% endif %}\r\n</td>\r\n<td style=\"text-align:center;font-size:15px;\">\r\n    <br>\r\n    {% if cmd_signature %}\r\n        <img src=\"{{ cmd_signature }}\" style=\"height:50px;\">\r\n         {%else%}\r\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\r\n    {% endif %}\r\n    <br>\r\n    {% if doc.cmd_approved_on %}\r\n        {% set formatted_date = frappe.utils.format_datetime(doc.cmd_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\r\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\r\n    {% endif %}\r\n</td>\r\n    </tr>\r\n</table>\r\n<div style=\"text-align:left; font-size:12px; margin-top:5px;\">\r\n            Note: This document is Digitally Signed\r\n        </div>\r\n    </div>\r\n\r\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\r\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>\r\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 18:01:25.945240",
  "module": "ONEGENE",
  "name": "Approval for Product Conversion",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n    body {\n        font-size: 14px;\n    }\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n    }\n    td, th {\n        border: 2px solid black;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n    }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<table>\n    <tr>\n    {% if doc.priority == \"Important / Urgent\" %}\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td><td style=\"border-left:none;border-top:none;border-bottom:none;\"></td>\n        <td style=\"text-align:center; vertical-align:middle;background-color:red\"></td>\n        <td style=\"text-align:center; vertical-align:middle; font-weight:bold;width:25%\">\n            A - IMPORTANT / URGENT\n        </td>\n        <td style=\"border-right:none;border-top:none;border-bottom:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n    {% endif %}\n    {% if doc.priority == \"Information\" %}\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td><td></td>\n        <td style=\"text-align:center; vertical-align:middle;background-color:yellow\">\n            <!--<span class=\"color-box yellow\" style=\"display:inline-block; width:15px; height:15px; background-color:yellow; border:1px solid #000;\"></span>-->\n        </td>\n        <td style=\"text-align:center; vertical-align:middle; font-weight:bold;width:25%\">\n           B - INFORMATION\n        </td>\n        <td style=\"border-right:none;border-top:none;border-bottom:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n    {% endif %}\n    {% if doc.priority == \"Improvement\" %}\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td><td></td>\n        <td style=\"text-align:center; vertical-align:middle;background-color:#4472C4\">\n        </td>\n        <td style=\"text-align:center; vertical-align:middle; font-weight:bold;width:25%\">\n           C - IMPROVEMENT\n        </td>\n        <td style=\"border-right:none;border-top:none;border-bottom:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n    {% endif %}\n</tr>\n\n\n\n</table>\n\n<table>\n    <tr>\n        <td rowspan=\"4\" style=\"width: 34%;text-align:center;\"><div style=\"padding-top:32px;\"><img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 100%;\"></div></td>\n        <td rowspan=\"4\" style=\"width:30%;font-size:28px;text-align:center;\" class=\"header-title\" nowrap><div style=\"padding-top:42px;\">INTER OFFICE MEMO (I O M)</div></td>\n        <td style=\"width: 20%;font-weight:bold;\"><div style=\"padding-top:7px;\">DATE & TIME</div></td>\n        <td style=\"width:20%; text-align:left;\">\n            {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}\n        </td>\n        \n\n\n    </tr>\n    <tr>\n        <td style=\"font-weight:bold;\">DEPT. FROM</td>\n        <td style=\"text-align:left;\">{{doc.department_from or 'NA'}}</td>\n    </tr>\n    <tr>\n        <td style=\"font-weight:bold;\">DEPT. TO</td>\n        <td style=\"text-align:left;\">{{doc.department_to or 'NA'}}</td>\n    </tr>\n     \n    <tr>\n        <td style=\"font-weight:bold;\">INSTRUCTED BY</td>\n        <td style=\"text-align:left;\">{{doc.employee_name or 'NA'}}</td>\n    </tr>\n   \n</table>\n\n\n<table>\n    <tr>\n        <td colspan =1 style=\"width: 23.5%;text-align:left;font-weight:bold;font-size:15px;\">SUBJECT:</td>\n        <td  colspan =5 style=\"font-size:15px;\">{{doc.iom_type or 'NA'}}</td>\n    </tr>\n</table>\n{% set label_width = \"130px\" %} <!-- adjust as needed -->\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Reason for Request</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.subject or 'NA' }}</span>\n</div>\n\n<br>\n{% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n<table>\n    <tr>\n        <td style=\"background-color:#fec76f;text-align:center;\">S.No</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Item</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Item Name</td>\n         <td style=\"background-color:#fec76f;text-align:center;\">Supplier Name (1)</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Scheduled Qty</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">UOM</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Revised Qty</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Supplier Name (2)</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Qty</td>\n\n        </tr>\n    {% for i in doc.table_koir %}\n<tr>\n    <td>{{ loop.index }}</td>\n    <td style=\"text-align:left\">{{ i.part_nofrom or '' }}</td>\n    <td style=\"text-align:left\">{{ i.part_namefrom or '' }}</td>\n    \n    {# Fetch Supplier Name for Supplier Name (1) #}\n    {% set supplier1_name = frappe.db.get_value(\"Supplier\", i.supplier_nameexisting, \"supplier_name\") %}\n    <td style=\"text-align:left\">{{ supplier1_name or '' }}</td>\n\n    <td style=\"text-align:center\">{{ i.qtyfrom or '' }}</td>\n    <td style=\"text-align:center\">{{ i.uom or '' }}</td>\n    <td style=\"text-align:center\">{{ i.revisied_qty or '' }}</td>\n\n    {# Fetch Supplier Name for Supplier Name (2) #}\n    {% set supplier2_name = frappe.db.get_value(\"Supplier\", i.supplier_namenew, \"supplier_name\") %}\n    <td style=\"text-align:left\">{{ supplier2_name or '' }}</td>\n\n    <td style=\"text-align:center\">{{ i.qtyto or '' }}</td>\n</tr>\n{% endfor %}\n    </table>\n    <br>\n   <div style=\"font-weight:bold; font-size:15px; margin-bottom:6px;\">\n    TERMS & CONDITIONS\n</div>\n{% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:120px;font-weight:bold;\">PAYMENT TERMS</span>\n    <span>:&nbsp;&nbsp;{{ doc.payment_terms or 'NA' }}</span>\n</div>\n{% if doc.taxes %}\n{% set ns = namespace(gst_rates=[]) %}\n{% for t in doc.taxes %}\n    {% if t.rate %}\n        {% set ns.gst_rates = ns.gst_rates + [t.rate|string + '%'] %}\n    {% endif %}\n{% endfor %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:120px;font-weight:bold;\">GST</span>\n    <span>:&nbsp;&nbsp;{{ ns.gst_rates | join(' + ') }}</span>\n</div>\n{% endif %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:120px;font-weight:bold;\">INCOTERMS</span>\n    <span>:&nbsp;&nbsp;{{ doc.wonjin_incoterms or 'NA' }}</span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:120px;font-weight:bold;\">DELIVERY TERMS</span>\n    <span>:&nbsp;&nbsp;{{ doc.delivery_terms or 'NA' }}</span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:120px;font-weight:bold;\">MODE OF DISPATCH</span>\n    <span>:&nbsp;&nbsp;{{ doc.mode_of_dispatch or 'NA' }}</span>\n</div>\n<div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n<br>\n   <table>\n   <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">ERP Team</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Plant Head</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">GM</td>\n\n</tr>\n\n\n    <tr style=\"height: 80px;\">\n        {% set erp_signature = frappe.db.get_value(\"Employee\", {\"name\":\"S0330\"}, \"custom_digital_signature\") %}\n        {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n       {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to_name}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"name\":\"S0004\"}, \"custom_digital_signature\") %}\n       {% set gm_signature = frappe.db.get_value(\"Employee\", {\"name\":\"KR002\"}, \"custom_digital_signature\") %}\n        <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if prepared_signature %}\n        <img src=\"{{ prepared_signature }}\" style=\"max-height:50px;\">\n    {% endif %}\n    <br>\n     {% if doc.date_time %}\n        {% set formatted_date = frappe.utils.formatdate(doc.date_time, \"dd-MM-yyyy\") %}\n        <span>{{ formatted_date }}</span>\n    {% endif %}\n</td>\n        <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if hod_signature %}\n        <img src=\"{{ hod_signature }}\" style=\"max-height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.hod_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.hod_approved_on, \"dd-MM-yyyy\") %}\n        <span>{{ formatted_date }}</span>\n    {% endif %}\n</td>\n <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if erp_signature %}\n        <img src=\"{{ erp_signature }}\" style=\"max-height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.erp_team_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.erp_team_approved_on, \"dd-MM-yyyy\") %}\n        <span>{{ formatted_date }}</span>\n    {% endif %}\n</td>\n        <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if plant_signature %}\n        <img src=\"{{ plant_signature }}\" style=\"max-height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.plant_head_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.plant_head_approved_on, \"dd-MM-yyyy\") %}\n        <span>{{ formatted_date }}</span>\n    {% endif %}\n</td>\n        <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if gm_signature %}\n        <img src=\"{{ gm_signature }}\" style=\"max-height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.gm_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.gm_approved_on, \"dd-MM-yyyy\") %}\n        <span>{{ formatted_date }}</span>\n    {% endif %}\n</td>\n       \n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n<footer id=\"footer-html\">\n   <table width=\"100%\" style=\"border:none;\">\n       <tr>\n           <td width=\"100%\" style=\"text-align:center; font-size:10px;border:none; padding:0; margin:0;\">\n               <i>Page <span class=\"page\"></span> / <span class=\"topage\"></span></i>\n           </td>\n       </tr>\n   </table>\n</footer>\n\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 17:57:37.883202",
  "module": "ONEGENE",
  "name": "Approval for Vendor Split order",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n    body {\n        font-size: 14px;\n    }\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n    }\n    td, th {\n        border: 2px solid black;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n    }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<table>\n    <tr>\n    {% if doc.priority == \"Important / Urgent\" %}\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td><td style=\"border-left:none;border-top:none;border-bottom:none;\"></td>\n        <td style=\"text-align:center; vertical-align:middle;background-color:red\"></td>\n        <td style=\"text-align:center; vertical-align:middle; font-weight:bold;width:25%\">\n            A - IMPORTANT / URGENT\n        </td>\n        <td style=\"border-right:none;border-top:none;border-bottom:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n    {% endif %}\n    {% if doc.priority == \"Information\" %}\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td><td></td>\n        <td style=\"text-align:center; vertical-align:middle;background-color:yellow\">\n            <!--<span class=\"color-box yellow\" style=\"display:inline-block; width:15px; height:15px; background-color:yellow; border:1px solid #000;\"></span>-->\n        </td>\n        <td style=\"text-align:center; vertical-align:middle; font-weight:bold;width:25%\">\n           B - INFORMATION\n        </td>\n        <td style=\"border-right:none;border-top:none;border-bottom:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n    {% endif %}\n    {% if doc.priority == \"Improvement\" %}\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td><td></td>\n        <td style=\"text-align:center; vertical-align:middle;background-color:#4472C4\">\n        </td>\n        <td style=\"text-align:center; vertical-align:middle; font-weight:bold;width:25%\">\n           C - IMPROVEMENT\n        </td>\n        <td style=\"border-right:none;border-top:none;border-bottom:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n    {% endif %}\n</tr>\n\n\n\n</table>\n\n<table>\n    <tr>\n        <td rowspan=\"4\" style=\"width: 34%;text-align:center;\"><div style=\"padding-top:32px;\"><img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 100%;\"></div></td>\n        <td rowspan=\"4\" style=\"width:30%;font-size:28px;text-align:center;\" class=\"header-title\" nowrap><div style=\"padding-top:42px;\">INTER OFFICE MEMO (I O M)</div></td>\n        <td style=\"width: 20%;font-weight:bold;\"><div style=\"padding-top:7px;\">DATE & TIME</div></td>\n        <td style=\"width:20%; text-align:left;\">\n            {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}\n        </td>\n        \n\n\n    </tr>\n    <tr>\n        <td style=\"font-weight:bold;\">DEPT. FROM</td>\n        <td style=\"text-align:left;\">{{doc.department_from or 'NA'}}</td>\n    </tr>\n    <tr>\n        <td style=\"font-weight:bold;\">DEPT. TO</td>\n        <td style=\"text-align:left;\">{{doc.department_to or 'NA'}}</td>\n    </tr>\n     \n    <tr>\n        <td style=\"font-weight:bold;\">INSTRUCTED BY</td>\n        <td style=\"text-align:left;\">{{doc.employee_name or 'NA'}}</td>\n    </tr>\n   \n</table>\n\n\n<table>\n    <tr>\n        <td colspan =1 style=\"width: 23.5%;text-align:left;font-weight:bold;font-size:15px;\">SUBJECT:</td>\n        <td  colspan =5 style=\"font-size:15px;\">{{doc.iom_type or 'NA'}}</td>\n    </tr>\n</table>\n{% set label_width = \"130px\" %} <!-- adjust as needed -->\n\n{% if doc.customer %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer Name</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.customer or 'NA' }}</span>\n</div>\n{% elif doc.supplier %}\n{% set supplier1_name = frappe.db.get_value(\"Supplier\", doc.supplier, \"supplier_name\") %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ supplier1_name or 'NA' }}</span>\n</div>\n{% endif %}\n\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Reason for Request</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.subject or 'NA' }}</span>\n</div>\n<br>\n{% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table>\n    <tr>\n        <td style=\"background-color:#fec76f;text-align:center;\">S.No</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Item</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Item Name</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">PO/JO No</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Monthly Schedule qty</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Balance Schedule qty</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Revised Schedule qty</td>\n\n        </tr>\n    {% for i in doc.table_scdo%}\n    <tr>\n        <td>{{loop.index}}</td>\n        <td style=\"text-align:left\">{{i.part_no or ''}}</td>\n        <td style=\"text-align:left\">{{i.part_name or '' }}</td>\n        <td style=\"text-align:left\">{{i.pojo__no or '' }}</td>\n        <td style=\"text-align:center\">{{i.monthly_schedule_qty or ''}}</td>\n         <td style=\"text-align:center\">{{i.balance_schedule_qty or ''}}</td>\n        <td style=\"text-align:center\">{{i.revised_schedule_qty or ''}}</td>\n\n    </tr>\n    {%endfor%}\n    </table>\n    <br>\n   <div style=\"font-weight:bold; font-size:15px; margin-bottom:6px;\">\n    TERMS & CONDITIONS\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:120px;font-weight:bold;\">PAYMENT TERMS</span>\n    <span>:&nbsp;&nbsp;{{ doc.payment_terms or 'NA' }}</span>\n</div>\n{% if doc.taxes %}\n{% set ns = namespace(gst_rates=[]) %}\n{% for t in doc.taxes %}\n    {% if t.rate %}\n        {% set ns.gst_rates = ns.gst_rates + [t.rate|string + '%'] %}\n    {% endif %}\n{% endfor %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:120px;font-weight:bold;\">GST</span>\n    <span>:&nbsp;&nbsp;{{ ns.gst_rates | join(' + ') }}</span>\n</div>\n{% endif %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:120px;font-weight:bold;\">INCOTERMS</span>\n    <span>:&nbsp;&nbsp;{{ doc.wonjin_incoterms or 'NA' }}</span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:120px;font-weight:bold;\">DELIVERY TERMS</span>\n    <span>:&nbsp;&nbsp;{{ doc.delivery_terms or 'NA' }}</span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:120px;font-weight:bold;\">MODE OF DISPATCH</span>\n    <span>:&nbsp;&nbsp;{{ doc.mode_of_dispatch or 'NA' }}</span>\n</div>\n<div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n\n<br>\n<br>\n    <table>\n   <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">ERP Team</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Plant Head</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">GM</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">BMD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">CMD</td>\n</tr>\n\n\n    <tr style=\"height: 80px;\">\n        {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n       {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to_name}, \"custom_digital_signature\") %}\n       {% set erp_signature = frappe.db.get_value(\"Employee\", {\"name\":\"S0330\"}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"name\":\"S0004\"}, \"custom_digital_signature\") %}\n       {% set gm_signature = frappe.db.get_value(\"Employee\", {\"name\":\"KR002\"}, \"custom_digital_signature\") %}\n        {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"BMD01\"}, \"custom_digital_signature\") %}\n        {% set cmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"CMD01\"}, \"custom_digital_signature\") %}\n        <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if prepared_signature %}\n        <img src=\"{{ prepared_signature }}\" style=\"max-height:50px;\">\n    {% endif %}\n    <br>\n     {% if doc.date_time %}\n        {% set formatted_date = frappe.utils.formatdate(doc.date_time, \"dd-MM-yyyy\") %}\n        <span>{{ formatted_date }}</span>\n    {% endif %}\n</td>\n        <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if hod_signature %}\n        <img src=\"{{ hod_signature }}\" style=\"max-height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.hod_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.hod_approved_on, \"dd-MM-yyyy\") %}\n        <span>{{ formatted_date }}</span>\n    {% endif %}\n</td>\n <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if erp_signature %}\n        <img src=\"{{ erp_signature }}\" style=\"max-height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.erp_team_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.erp_team_approved_on, \"dd-MM-yyyy\") %}\n        <span>{{ formatted_date }}</span>\n    {% endif %}\n</td>\n        <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if plant_signature %}\n        <img src=\"{{ plant_signature }}\" style=\"max-height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.plant_head_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.plant_head_approved_on, \"dd-MM-yyyy\") %}\n        <span>{{ formatted_date }}</span>\n    {% endif %}\n</td>\n        <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if gm_signature %}\n        <img src=\"{{ gm_signature }}\" style=\"max-height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.gm_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.gm_approved_on, \"dd-MM-yyyy\") %}\n        <span>{{ formatted_date }}</span>\n    {% endif %}\n</td>\n        <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if bmd_signature %}\n        <img src=\"{{ bmd_signature }}\" style=\"max-height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.bmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.bmd_approved_on, \"dd-MM-yyyy\") %}\n        <span>{{ formatted_date }}</span>\n    {% endif %}\n</td>\n         <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if cmd_signature %}\n        <img src=\"{{ cmd_signature }}\" style=\"max-height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.cmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.cmd_approved_on, \"dd-MM-yyyy\") %}\n        <span>{{ formatted_date }}</span>\n    {% endif %}\n</td>\n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n<footer id=\"footer-html\">\n   <table width=\"100%\" style=\"border:none;\">\n       <tr>\n           <td width=\"100%\" style=\"text-align:center; font-size:10px;border:none; padding:0; margin:0;\">\n               <i>Page <span class=\"page\"></span> / <span class=\"topage\"></span></i>\n           </td>\n       </tr>\n   </table>\n</footer>\n\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 17:56:25.008625",
  "module": "ONEGENE",
  "name": "Approval for Schedule Increase Material",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n@page {\n    size: A4;\n    margin: 5mm 5mm 5mm 5mm; /* top right bottom left */\n}\n\n.page-wrapper {\n    border: 2px solid black;\n    padding: 2mm;\n    box-sizing: border-box;\n    min-height: 265mm; /* full page height */\n    max-width:200mm;\n    margin-top:0mm;\n    \n}\n.content {\n    margin-bottom: 50mm; /* leave space for repeated footer */\n        width: 100%;\n\n}\n.fixed-footer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    padding: 2mm 5mm;\n    box-sizing: border-box;\n    border-top:none;\n    font-size: 10px;\n}\n\n.footer {\n    display: block;\n    position: running(footer); /* makes it a repeated element on every page */\n}\n/* tables inside footer */\n.fixed-footer table {\n    width: 100%;\n    border-collapse: collapse;\n}\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n            page-break-inside: avoid;\n\n    }\n    td, th {\n        border: 1px solid black;\n    }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n        width: 100%;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<div class=\"page-wrapper\">\n    <div class=\"content\">\n\n<table>\n    <tr>\n        <td style=\"width: 15%;text-align:center;border-right:none;border-bottom:none;border-bottom:bold\">\n            <div style=\"padding-top:8px;\">\n                <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\n            </div>\n        </td>\n        <td style=\"width:30%;font-size:20px;text-align:center;border-right:none;border-bottom:none;padding-top:13px\" nowrap>\n            <div class=\"header-title\" style=\"padding-top:10px\">INTER OFFICE MEMO (I O M)</div>         </td>\n        <td style=\"width:15%;white-space:nowrap;border-bottom:none;font-weight:bold;\">\n    <div style=\"padding-top:13px;border-bottom:none;\">\n        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\n            ✔\n        </span>\n        {{ doc.priority }}\n    </div>\n</td>\n\n\n\n    </tr>\n</table>\n\n{% set emp_name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n<table style=\"width:100%; border-collapse: collapse; margin-top:-16px;\">\n    <tr>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;\">\n           <p style=\"line-height:1\">\n    <span style=\"display:inline-block; width:80px;\">Dept.From </span>:&nbsp;{{ doc.department_from or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Dept.To</span>:&nbsp; {{ doc.department_to or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Created By</span>: &nbsp;{{emp_name or '' }}<br><br>\n   \n</p>\n\n       </td>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;\">\n           <p style=\"line-height:1\">\n            <span style=\"display:inline-block; width:80px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Doc.No</span>: {{ doc.name }}<br><br>\n       <span style=\"display:inline-block; width:80px;\">Instructed By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\n       </p></td>\n   </tr>\n    \n</table>\n<table style=\"margin-top:-30px; width: 100%;\">\n    <tr>\n        <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\n            SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;\n            <span style=\"display: inline-block; width: 60%; text-align: center;\">\n                {{ doc.iom_type or 'NA' }}\n            </span>\n        </td>\n    </tr>\n</table>\n\n{% set label_width = \"130px\" %} <!-- adjust as needed -->\n\n   <div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier Group</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.supplier_group or 'NA' }}</span>\n</div>\n{% set supplier_name=frappe.db.get_value(\"Supplier\",{\"name\":doc.supplier},\"supplier_name\") %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier Name</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ supplier_name or 'NA' }}</span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Currency</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.currency or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier Invoice No</span>\n    <span>\n        :&nbsp;&nbsp;&nbsp;&nbsp;\n       {{doc.supplier_invoice_number or 'NA'}}\n    </span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">HSN Code</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.approval_debit_note_material[0].hsn_code if doc.approval_debit_note_material and doc.approval_debit_note_material[0].hsn_code else 'NA' }}</span>\n</div>\n{% if doc.supplier_group==\"Local Purchase\"%}\n{% set ns = namespace(gst_rates=[]) %}  \n{% if doc.taxes %}\n    {% for t in doc.taxes %}\n        {% if t.rate %}\n            {% set ns.gst_rates = ns.gst_rates + [t.rate|int|string + '%'] %}\n        {% endif %}\n    {% endfor %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">GST Rate</span>\n    <span>:&nbsp;&nbsp;&nbsp;{{ ns.gst_rates | join(' + ') or '' }}</span>\n</div>\n{% endif %}\n{% endif%}\n{%if doc.supplier_group==\"Importer\"%}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Exchange Rate</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{doc.exchange_rate or 'NA' }}\n</span>\n</div>\n{%endif%}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Reason For Update</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.approval_debit_note_material[0].reason_for_request if doc.approval_debit_note_material and doc.approval_debit_note_material[0].reason_for_request else 'NA' }}</span>\n</div>\n\n<br>\n{% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table>\n    <tr>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:12px;\">S.No</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:12px;\">Item Code</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:12px;\">Item Name</td>\n         <td style=\"background-color:#fec76f;text-align:center;font-size:12px;\">UOM</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:12px;\">PO Price ({{doc.currency or ''}})</td>\n\n        <td style=\"background-color:#fec76f;text-align:center;font-size:12px;\">Qty</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:12px;\">Total DN Value ({{doc.currency or ''}})</td>\n\n        </tr>\n    {% for i in doc.approval_debit_note_material%}\n    <tr>\n        <td>{{loop.index}}</td>\n        <td style=\"text-align:left;white-space:nowrap;font-size:12px;\">{{i.part_no or ''}}</td>\n        <td style=\"text-align:left;white-space:nowrap;font-size:12px;\">{{i.part_name or ''}}</td>\n        <td style=\"text-align:center;white-space:nowrap;font-size:12px;\">{{i.uom or ''}}</td>\n        <td style=\"text-align:right;white-space:nowrap;font-size:12px;\">{{frappe.utils.fmt_money(i.pojo_price or 0 , currency=doc.currency)}}</td>\n         <td style=\"text-align:center;white-space:nowrap;font-size:12px;\">{{i.qty or 0}}</td>\n      \n        <td style=\"text-align:right;white-space:nowrap;font-size:12px;\">{{frappe.utils.fmt_money(i.dn_amount or 0 , currency=doc.currency)}}</td>\n\n    </tr>\n    {%endfor%}\n    <tr>\n        <td colspan=6 style=\"text-align:center;font-weight:bold\">Total DN Value({{doc.currency or ''}})</td>\n        <td colspan=1 style=\"text-align:right;font-weight:bold\">{{frappe.utils.fmt_money(doc.total_dn_value or 0 , currency=doc.currency)}}</td>\n    </tr>\n      </table>\n<br>\n    <div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:50%;font-weight:bold;\">TERMS & CONDITIONS</span>\n</div><br>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Payment Terms</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.payment_terms or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Incoterms</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.wonjin_incoterms or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Remarks</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.subject or 'NA' }}</span>\n</div>\n<div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n</div>\n<div class=\"fixed-footer\">\n\n\n\n<br><br>\n    <table>\n   <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:9.11%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:9.11%;background-color:#a5a3ac\">HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:9.11%;background-color:#a5a3ac\">ERP Team</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:9.11%;background-color:#a5a3ac\">Plant Head</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:9.11%;background-color:#a5a3ac\">GM</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:9.11%;background-color:#a5a3ac\">Finance</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:9.11%;background-color:#a5a3ac\">BMD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:9.11%;background-color:#a5a3ac\">CMD</td>\n</tr>\n\n\n   <tr style=\"height: 50px;\">\n    {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n       {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\n       {% set erp_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.erp_team}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.plant_head}, \"custom_digital_signature\") %}\n              {% set material_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.material_manager}, \"custom_digital_signature\") %}\n\n       {% set gm_signature = frappe.db.get_value(\"Employee\", {\"name\":\"KR002\"}, \"custom_digital_signature\") %}\n       {% set marketing_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.marketing_manager}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.finance}, \"custom_digital_signature\") %}\n        {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"BMD01\"}, \"custom_digital_signature\") %}\n        {% set cmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"CMD01\"}, \"custom_digital_signature\") %}\n      <td style=\"text-align:center;font-size:15px;\">\n    {% if prepared_signature %}\n        <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\n           {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n     {% if doc.date_time %}\n        {% set formatted_date = frappe.utils.formatdate(doc.date_time, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.date_time, \"HH:mm:ss\") %}\n          <span style=\"font-size:5px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n        <td style=\"text-align:center;font-size:15px;\">\n    {% if hod_signature %}\n        <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\n           {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.hod_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.hod_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.hod_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:5px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n <td style=\"text-align:center;font-size:15px;\">\n    {% if erp_signature %}\n        <img src=\"{{ erp_signature }}\" style=\"height:50px;\">\n           {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.erp_team_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.erp_team_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.erp_team_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:5px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n\n\n<td style=\"text-align:center;font-size:15px;\">\n    {% if plant_signature %}\n        <img src=\"{{ plant_signature }}\" style=\"height:50px;\">\n           {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.plant_head_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.plant_head_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.plant_head_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:5px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if gm_signature %}\n        <img src=\"{{ gm_signature }}\" style=\"height:50px;\">\n           {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.gm_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.gm_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.gm_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:5px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if finance_signature %}\n        <img src=\"{{ finance_signature }}\" style=\"height:50px;\">\n           {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.finance_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.finance_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.finance_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:5px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if bmd_signature %}\n        <img src=\"{{ bmd_signature }}\" style=\"height:50px;\">\n           {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.bmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.bmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.bmd_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:5px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if cmd_signature %}\n        <img src=\"{{ cmd_signature }}\" style=\"height:50px;\">\n           {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.cmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.cmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.cmd_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:5px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n</div>\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 18:05:48.752005",
  "module": "ONEGENE",
  "name": "Approval for Debit Note Material",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n@page {\n    size: A4;\n    margin: 5mm 5mm 5mm 5mm; /* top right bottom left */\n}\n\n.page-wrapper {\n    border: 2px solid black;\n    padding: 2mm;\n    box-sizing: border-box;\n    min-height: 265mm; /* full page height */\n    max-width:200mm;\n    margin-top:0mm;\n    \n}\n.content {\n    margin-bottom: 50mm; /* leave space for repeated footer */\n        width: 100%;\n\n}\n.fixed-footer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    padding: 2mm 5mm;\n    box-sizing: border-box;\n    border-top:none;\n    font-size: 10px;\n}\n\n.footer {\n    display: block;\n    position: running(footer); /* makes it a repeated element on every page */\n}\n/* tables inside footer */\n.fixed-footer table {\n    width: 100%;\n    border-collapse: collapse;\n}\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n            page-break-inside: avoid;\n\n    }\n    td, th {\n        border: 1px solid black;\n    }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n        width: 100%;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<div class=\"page-wrapper\">\n    <div class=\"content\">\n\n<table>\n    <tr>\n        <td style=\"width: 15%;text-align:center;border-right:none;border-bottom:none;border-bottom:bold\">\n            <div style=\"padding-top:8px;\">\n                <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\n            </div>\n        </td>\n        <td style=\"width:30%;font-size:20px;text-align:center;border-right:none;border-bottom:none;padding-top:13px\" nowrap>\n            <div class=\"header-title\" style=\"padding-top:10px\">INTER OFFICE MEMO (I O M)</div>         </td>\n        <td style=\"width:15%;white-space:nowrap;border-bottom:none;font-weight:bold;\">\n    <div style=\"padding-top:13px;border-bottom:none;\">\n        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\n            ✔\n        </span>\n        {{ doc.priority }}\n    </div>\n</td>\n\n\n\n    </tr>\n</table>\n{% set emp_name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n\n<table style=\"width:100%; border-collapse: collapse; margin-top:-16px;\">\n    <tr>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;\">\n           <p style=\"line-height:1\">\n    <span style=\"display:inline-block; width:80px;\">Dept.From </span>:&nbsp;{{ doc.department_from or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Dept.To</span>:&nbsp; {{ doc.department_to or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Created By</span>: &nbsp;{{emp_name or '' }}<br><br>\n   \n</p>\n\n       </td>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;\">\n           <p style=\"line-height:1\">\n            <span style=\"display:inline-block; width:80px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Doc.No</span>: {{ doc.name }}<br><br>\n     <span style=\"display:inline-block; width:80px;\">Instructed By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\n       </p></td>\n   </tr>\n    \n</table>\n<table style=\"margin-top:-30px; width: 100%;\">\n    <tr>\n        <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\n            SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;\n            <span style=\"display: inline-block; width: 60%; text-align: center;\">\n                {{ doc.iom_type or 'NA' }}\n            </span>\n        </td>\n    </tr>\n</table>\n{% set label_width = \"130px\" %} <!-- adjust as needed -->\n{% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n{% if doc.customer %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer Group</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.customer_group or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer Name</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.customer or 'NA' }}</span>\n</div>\n\n{% elif doc.supplier %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.supplier or 'NA' }}</span>\n</div>\n{% endif %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Currency</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.currency or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Reason For Update</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.approval_invoice_cancel[0].reason_for_request if doc.approval_invoice_cancel and doc.approval_invoice_cancel[0].reason_for_request else 'NA' }}</span>\n</div>\n\n\n<br>\n<table>\n    <tr>\n        <td style=\"background-color:#fec76f;text-align:center;\">S.No</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Invoice No</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Invoice Date</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Qty</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Amount({{doc.currency or \"\"}})</td>\n\n        </tr>\n    {% for i in doc.approval_invoice_cancel%}\n    <tr>\n        <td>{{loop.index}}</td>\n        <td style=\"text-align:left;white-space:nowrap\">{{i.invoice_no or '' }}</td>\n        <td style=\"text-align:center;white-space:nowrap\">{{ frappe.utils.format_datetime(i.invoice_date, \"dd-MM-yyyy\") or '' }}</td>\n        <td style=\"text-align:center\">{{i.qty or ''}}</td>\n        <td style=\"text-align:right;white-space:nowrap;\">{{frappe.utils.fmt_money(i.amount  or 0 , currency=\"INR\")}}</td>\n\n    </tr>\n    {%endfor%}\n    <tr>\n    <td colspan=4 style=\"text-align:center;font-weight:bold\">Total Value\n    </td>\n    <td colspan=1 style=\"text-align:right;font-weight:bold\">{{frappe.utils.fmt_money(doc.total_invoice_value  or 0 , currency=\"INR\")}}</td></tr>\n    </table>\n    <br>\n    <div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Remarks</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.subject or 'NA' }}</span>\n</div>\n<div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n</div>\n<div class=\"fixed-footer\">\n\n<br>\n   <table>\n   <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">HOD</td>\n   <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">ERP Team</td>\n   <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Plant Head</td>\n   <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">GM</td>\n   <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Finance</td>\n      <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">BMD</td>\n    <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">CMD</td>\n\n\n</tr>\n\n\n    <tr style=\"height: 80px;\">\n        {% set erp_signature = frappe.db.get_value(\"Employee\", {\"name\":\"S0330\"}, \"custom_digital_signature\") %}\n\n      {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n        {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.finance}, \"custom_digital_signature\") %}\n        {% set cmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"CMD01\"}, \"custom_digital_signature\") %}\n        {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"BMD01\"}, \"custom_digital_signature\") %}\n          {% set plant_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.plant_head}, \"custom_digital_signature\") %}\n   {% set gm_signature = frappe.db.get_value(\"Employee\", {\"name\":\"KR002\"}, \"custom_digital_signature\") %}\n\n     \n         <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if prepared_signature %}\n        <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n     {% if doc.date_time %}\n        {% set formatted_date = frappe.utils.format_datetime(doc.date_time,\"dd-MM-yyyy HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\n    {% endif %}\n</td>\n        <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if hod_signature %}\n        <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.hod_approved_on %}\n        {% set formatted_date = frappe.utils.format_datetime(doc.hod_approved_on,\"dd-MM-yyyy HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\n    {% endif %}\n</td>\n<!---->\n   <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if erp_signature %}\n        <img src=\"{{ erp_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.erp_team_approved_on %}\n        {% set formatted_date = frappe.utils.format_datetime(doc.erp_team_approved_on,\"dd-MM-yyyy HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\n    {% endif %}\n</td>\n     \n<!---->\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if plant_signature %}\n        <img src=\"{{ plant_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.plant_head_approved_on %}\n        {% set formatted_date = frappe.utils.format_datetime(doc.plant_head_approved_on,\"dd-MM-yyyy HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\n    {% endif %}\n</td>\n     \n<!---->\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if gm_signature %}\n        <img src=\"{{ gm_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.gm_approved_on %}\n        {% set formatted_date = frappe.utils.format_datetime(doc.gm_approved_on,\"dd-MM-yyyy HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\n    {% endif %}\n</td>\n     \n<!---->\n     \n         <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if finance_signature %}\n        <img src=\"{{ finance_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.finance_approved_on %}\n        {% set formatted_date = frappe.utils.format_datetime(doc.finance_approved_on,\"dd-MM-yyyy HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\n    {% endif %}\n</td>\n<!---->\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if bmd_signature %}\n        <img src=\"{{ bmd_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.bmd_approved_on %}\n        {% set formatted_date = frappe.utils.format_datetime(doc.bmd_approved_on,\"dd-MM-yyyy HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\n    {% endif %}\n</td>\n     \n<!---->\n<!---->\n         <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if cmd_signature %}\n        <img src=\"{{ cmd_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.cmd_approved_on %}\n        {% set formatted_date = frappe.utils.format_datetime(doc.cmd_approved_on,\"dd-MM-yyyy HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\n    {% endif %}\n</td>\n        \n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n</div>\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 17:57:53.809542",
  "module": "ONEGENE",
  "name": "Approval for Invoice Cancel",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n@page {\n    size: A4;\n    margin: 5mm 5mm 5mm 5mm; /* top right bottom left */\n}\n\n.page-wrapper {\n    border: 2px solid black;\n    padding: 2mm;\n    box-sizing: border-box;\n    min-height: 265mm; /* full page height */\n    max-width:200mm;\n    margin-top:0mm;\n    \n}\n.content {\n    margin-bottom: 50mm; /* leave space for repeated footer */\n        width: 100%;\n\n}\n.fixed-footer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    padding: 2mm 5mm;\n    box-sizing: border-box;\n    border-top:none;\n    font-size: 10px;\n}\n\n.footer {\n    display: block;\n    position: running(footer); /* makes it a repeated element on every page */\n}\n/* tables inside footer */\n.fixed-footer table {\n    width: 100%;\n    border-collapse: collapse;\n}\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n            page-break-inside: avoid;\n\n    }\n    td, th {\n        border: 1px solid black;\n    }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n        width: 100%;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<div class=\"page-wrapper\">\n    <div class=\"content\">\n\n<table>\n    <tr>\n        <td style=\"width: 15%;text-align:center;border-right:none;border-bottom:none;border-bottom:bold\">\n            <div style=\"padding-top:8px;\">\n                <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\n            </div>\n        </td>\n        <td style=\"width:30%;font-size:20px;text-align:center;border-right:none;border-bottom:none;padding-top:13px\" nowrap>\n            <div class=\"header-title\" style=\"padding-top:10px\">INTER OFFICE MEMO (I O M)</div>         </td>\n        <td style=\"width:15%;white-space:nowrap;border-bottom:none;font-weight:bold;\">\n    <div style=\"padding-top:13px;border-bottom:none;\">\n        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\n            ✔\n        </span>\n        {{ doc.priority }}\n    </div>\n</td>\n\n\n\n    </tr>\n</table>\n\n{% set emp_name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table style=\"width:100%; border-collapse: collapse; margin-top:-16px;\">\n    <tr>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;\">\n           <p style=\"line-height:1\">\n    <span style=\"display:inline-block; width:80px;\">Dept.From </span>:&nbsp;{{ doc.department_from or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Dept.To</span>:&nbsp; {{ doc.department_to or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Created By</span>: &nbsp;{{emp_name or '' }}<br><br>\n   \n</p>\n\n       </td>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;\">\n           <p style=\"line-height:1\">\n            <span style=\"display:inline-block; width:80px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Doc.No</span>: {{ doc.name }}<br><br>\n        <span style=\"display:inline-block; width:80px;\">Instructed By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\n\n       </p></td>\n   </tr>\n    \n</table>\n<table style=\"margin-top:-30px; width: 100%;\">\n    <tr>\n        <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\n            SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;\n            <span style=\"display: inline-block; width: 60%; text-align: center;\">\n                {{ doc.iom_type or 'NA' }}\n            </span>\n        </td>\n    </tr>\n</table>\n{% set label_width = \"130px\" %} <!-- adjust as needed -->\n\n{% if doc.customer %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer Group</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.customer_group or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer Name</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.customer or 'NA' }}</span>\n</div>\n\n{% elif doc.supplier %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.supplier or 'NA' }}</span>\n</div>\n{% endif %}\n\n{% set forwarder_name=frappe.db.get_value(\"Supplier\",{\"name\":doc.forwarder_name},\"supplier_name\") %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Forwarder Name</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{forwarder_name or 'NA' }}</span>\n\n</div>\n\n<br>\n\n<br>\n<table>\n    <tr>\n        <td style=\"background-color:#fec76f;text-align:center;\">S.No</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Item</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Item Name</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Qty</td>\n\n        </tr>\n    {% for i in doc.approval_air_shipment%}\n    <tr>\n        <td>{{loop.index}}</td>\n        <td style=\"text-align:left;white-space:nowrap\">{{i.part_no or ''}}</td>\n        <td style=\"text-align:left;\">{{i.part_name or '' }}</td>\n        <td style=\"text-align:center;white-space:nowrap\">{{i.no_of_pallet or '' }}</td>\n\n    </tr>\n    {%endfor%}\n   </table>\n    <table>\n    <tr>\n    <td style=\"text-align:center;font-weight:bold;\">Fright Cost if sea({{doc.currency or 'NA'}})<br><br><b>{{frappe.utils.fmt_money(doc.fright_cost_if_sea_inr  or 0 , currency=\"INR\")}}</b></td>\n    <td style=\"text-align:center;font-weight:bold;\">Fright Cost if air({{doc.currency or 'NA'}})<br><br><b>{{frappe.utils.fmt_money(doc.fright_cost_if_air_inr  or 0 , currency=\"INR\")}}</b></td>\n    <td style=\"text-align:center;font-weight:bold;\">Loss Cost(INR)<br><br><b>{{frappe.utils.fmt_money(doc.total_loss_value  or 0 , currency=\"INR\")}}</b></td>\n\n    </tr>\n    </table>\n    <br>\n    <div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Remarks</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.subject or 'NA' }}</span>\n</div>\n<div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n</div>\n<div class=\"fixed-footer\">\n\n{% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<br><br>\n   <table>\n   <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Plant Head</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">GM</td>\n   <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Finance</td>\n    <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">BMD</td>\n    <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">CMD</td>\n    <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">SMD</td>\n\n</tr>\n\n\n    <tr style=\"height:40px;\">\n                    {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n\n         {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.finance}, \"custom_digital_signature\") %}\n         {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"BMD01\"}, \"custom_digital_signature\") %}\n        {% set cmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"CMD01\"}, \"custom_digital_signature\") %}\n         {% set smd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"SMD01\"}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.plant_head}, \"custom_digital_signature\") %}\n       {% set gm_signature = frappe.db.get_value(\"Employee\", {\"name\":\"KR002\"}, \"custom_digital_signature\") %}\n\n        <td style=\"text-align:center;font-size:15px;\">\n        <br>\n    {% if prepared_signature %}\n        <img src=\"{{ prepared_signature }}\" style=\"height:30px;\">\n          {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:40px;\">\n    {% endif %}\n    <br>\n     {% if doc.date_time %}\n{% set formatted_date = frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\n    {% endif %}</td>\n         <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if hod_signature %}\n        <img src=\"{{ hod_signature }}\" style=\"height:40px;\">\n          {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:40px;\">\n    {% endif %}\n    <br>\n    {% if doc.hod_approved_on %}\n{% set formatted_date = frappe.utils.format_datetime(doc.hod_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\n    {% endif %}\n</td>\n<!---->\n  <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if plant_signature %}\n        <img src=\"{{ plant_signature }}\" style=\"height:40px;\">\n          {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:40px;\">\n    {% endif %}\n    <br>\n    {% if doc.plant_head_approved_on %}\n{% set formatted_date = frappe.utils.format_datetime(doc.plant_head_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\n    {% endif %}\n</td>\n<!---->\n <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if gm_signature %}\n        <img src=\"{{ gm_signature }}\" style=\"height:40px;\">\n          {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:40px;\">\n    {% endif %}\n    <br>\n    {% if doc.gm_approved_on %}\n{% set formatted_date = frappe.utils.format_datetime(doc.gm_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\n    {% endif %}\n</td>\n<!---->\n        <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if finance_signature %}\n        <img src=\"{{ finance_signature }}\" style=\"height:40px;\">\n          {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:40px;\">\n    {% endif %}\n     <br>\n    {% if doc.finance_approved_on %}\n{% set formatted_date = frappe.utils.format_datetime(doc.finance_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\n    {% endif %}\n</td>\n        <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if bmd_signature %}\n        <img src=\"{{ bmd_signature }}\" style=\"height:40px;\">\n          {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:40px;\">\n    {% endif %}\n         <br>\n    {% if doc.bmd_approved_on %}\n{% set formatted_date = frappe.utils.format_datetime(doc.bmd_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\n    {% endif %}\n</td> \n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if cmd_signature %}\n        <img src=\"{{ cmd_signature }}\" style=\"height:40px;\">\n          {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:40px;\">\n    {% endif %}\n         <br>\n    {% if doc.cmd_approved_on %}\n{% set formatted_date = frappe.utils.format_datetime(doc.cmd_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\n    {% endif %}\n</td>\n       <!---->\n        <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if smd_signature %}\n        <img src=\"{{ smd_signature }}\" style=\"height:40px;\">\n          {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:40px;\">\n    {% endif %}\n         <br>\n    {% if doc.smd_approved_on %}\n{% set formatted_date = frappe.utils.format_datetime(doc.smd_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\n    {% endif %}\n</td> \n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n</div>\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 18:00:10.392039",
  "module": "ONEGENE",
  "name": "Approval for Air Shipment Delivery",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\r\n@page {\r\n    size: A4;\r\n    margin: 5mm 5mm 5mm 5mm; /* top right bottom left */\r\n}\r\n\r\n.page-wrapper {\r\n    border: 2px solid black;\r\n    padding: 2mm;\r\n    box-sizing: border-box;\r\n    min-height: 265mm; /* full page height */\r\n    max-width:200mm;\r\n    margin-top:0mm;\r\n    \r\n}\r\n.content {\r\n    margin-bottom: 50mm; /* leave space for repeated footer */\r\n        width: 100%;\r\n\r\n}\r\n.fixed-footer {\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    padding: 2mm 5mm;\r\n    box-sizing: border-box;\r\n    border-top:none;\r\n    font-size: 10px;\r\n}\r\n\r\n.footer {\r\n    display: block;\r\n    position: running(footer); /* makes it a repeated element on every page */\r\n}\r\n/* tables inside footer */\r\n.fixed-footer table {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n}\r\n    table {\r\n        border-collapse: collapse; \r\n        border-spacing: 0;\r\n        width: 100%;\r\n        margin-bottom: 16px;\r\n            page-break-inside: avoid;\r\n\r\n    }\r\n    td, th {\r\n        border: 1px solid black;\r\n    }\r\n    .header-title {\r\n        font-size: 18px;\r\n        font-weight: bold;\r\n        width: 100%;\r\n    }\r\n    .color-box {\r\n        width: 30px;\r\n        height: 20px;\r\n        display: inline-block;\r\n    }\r\n    .red { background-color: red; }\r\n    .yellow { background-color: yellow; }\r\n    .blue { background-color: blue; }\r\n    .right-align {\r\n        text-align: left;\r\n        padding-left: 5px;\r\n    }\r\n</style>\r\n<div class=\"page-wrapper\">\r\n    <div class=\"content\">\r\n\r\n<table>\r\n    <tr>\r\n        <td style=\"width: 15%;text-align:center;border-right:none;border-bottom:none;border-bottom:bold\">\r\n            <div style=\"padding-top:8px;\">\r\n                <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\r\n            </div>\r\n        </td>\r\n        <td style=\"width:30%;font-size:20px;text-align:center;border-right:none;border-bottom:none;padding-top:13px\" nowrap>\r\n            <div class=\"header-title\" style=\"padding-top:10px\">INTER OFFICE MEMO (I O M)</div>         </td>\r\n        <td style=\"width:15%;white-space:nowrap;border-bottom:none;font-weight:bold;\">\r\n    <div style=\"padding-top:13px;border-bottom:none;\">\r\n        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\r\n            ✔\r\n        </span>\r\n        {{ doc.priority }}\r\n    </div>\r\n</td>\r\n\r\n\r\n\r\n    </tr>\r\n</table>\r\n{% set emp_name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\r\n\r\n<table style=\"width:100%; border-collapse: collapse; margin-top:-15px;\">\r\n    <tr>\r\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;\">\r\n           <p style=\"line-height:1.1\">\r\n    <span style=\"display:inline-block; width:100px;\">Dept.From </span>:&nbsp;{{ doc.department_from or '' }}<br><br>\r\n <span style=\"display:inline-block; width:100px;\">Dept.To </span>:&nbsp;{{ doc.department_to or '' }}<br><br>\r\n    <span style=\"display:inline-block; width:100px;\">Created By</span>: &nbsp;{{emp_name or '' }}<br><br>\r\n   \r\n</p>\r\n\r\n       </td>\r\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;\">\r\n           <p style=\"line-height:1.1\">\r\n            <span style=\"display:inline-block; width:90px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\r\n    <span style=\"display:inline-block; width:90px;\">Doc.No</span>: {{ doc.name }}<br><br>\r\n    <span style=\"display:inline-block; width:90px;\">Requested By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\r\n       </p></td>\r\n   </tr>\r\n    \r\n</table>\r\n<table style=\"margin-top:-30px; width: 100%;\">\r\n    <tr>\r\n        <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\r\n            SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;\r\n            <span style=\"display: inline-block; width: 70%; text-align: center;\">\r\n                {{ doc.iom_type or 'NA' }}\r\n            </span>\r\n        </td>\r\n    </tr>\r\n\r\n</table>\r\n\r\n        <br>\r\n     {% set label_width = \"140px\" %} <!-- adjust as needed -->\r\n\r\n<div style=\"margin-bottom: 4px;\">\r\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Revision Level</span>\r\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.revision_level or 'NA' }}</span>\r\n</div>\r\n<div style=\"margin-bottom: 4px;\">\r\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Schedule Month</span>\r\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.schedule_month or 'NA' }}</span>\r\n</div>\r\n\r\n\r\n<div style=\"margin-bottom: 4px;\">\r\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Reason For Update</span>\r\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.approval_schdule_increase[0].reason_for_request if doc.approval_schdule_increase and doc.approval_schdule_increase[0].forwarder_name else 'NA' }}</span>\r\n</div>\r\n\r\n        <br>\r\n  {% set grouped = {} %}\r\n\r\n{# 1. First loop: group by customer_code and sum values #}\r\n{% for row in doc.approval_schdule_increase %}\r\n    {% set code = row.customer_code %}\r\n    {% if code not in grouped %}\r\n        {% set _ = grouped.update({code: {\r\n            \"customer_type\": row.customer_type,\r\n            \"current_schedule_value1\": row.current_schedule_value1 or 0,\r\n            \"revised_schedule_value1\": row.revised_schedule_value1 or 0,\r\n            \"difference_value\": row.difference_value or 0\r\n        }}) %}\r\n    {% else %}\r\n        {% set _ = grouped[code].update({\r\n            \"current_schedule_value1\": (grouped[code].current_schedule_value1 or 0) + (row.current_schedule_value1 or 0),\r\n            \"revised_schedule_value1\": (grouped[code].revised_schedule_value1 or 0) + (row.revised_schedule_value1 or 0),\r\n            \"difference_value\": (grouped[code].difference_value or 0) + (row.difference_value or 0)\r\n        }) %}\r\n    {% endif %}\r\n{% endfor %}\r\n\r\n<table>\r\n    <tr>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">S.No</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Customer Type</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Customer Code</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Current Schedule Value</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Revised Schedule Value</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Difference Value</td>\r\n    </tr>\r\n\r\n    {# 2. Second loop: render grouped data #}\r\n    {% set serial = 1 %}\r\n    {% for code, data in grouped.items() %}\r\n    <tr>\r\n        <td style=\"text-align:center;\">{{  loop.index }}</td>\r\n        <td style=\"text-align:left;\">{{ data.customer_type }}</td>\r\n        <td style=\"text-align:left;\">{{ code }}</td>\r\n               <td style=\"text-align:center;\">{{frappe.utils.fmt_money( data.current_schedule_value1) }}</td>\r\n        <td style=\"text-align:center;\">{{frappe.utils.fmt_money( data.revised_schedule_value1 )}}</td>\r\n        <td style=\"text-align:center;\">{{ frappe.utils.fmt_money(data.difference_value) }}</td>\r\n\r\n    </tr>\r\n    {% set serial = serial + 1 %}\r\n    {% endfor %}\r\n</table>\r\n\r\n    <br>\r\n   {% set grouped = {} %}\r\n\r\n{# 1. First pass: group and sum by item_group #}\r\n{% for row in doc.approval_schdule_increase %}\r\n    {% set group = row.item_group %}\r\n    {% if group not in grouped %}\r\n        {% set _ = grouped.update({group: {\r\n            \"current_schedule_value1\": row.current_schedule_value1 or 0,\r\n            \"revised_schedule_value1\": row.revised_schedule_value1 or 0,\r\n            \"difference_value\": row.difference_value or 0\r\n        }}) %}\r\n    {% else %}\r\n        {% set _ = grouped[group].update({\r\n            \"current_schedule_value1\": (grouped[group].current_schedule_value1 or 0) + (row.current_schedule_value1 or 0),\r\n            \"revised_schedule_value1\": (grouped[group].revised_schedule_value1 or 0) + (row.revised_schedule_value1 or 0),\r\n            \"difference_value\": (grouped[group].difference_value or 0) + (row.difference_value or 0)\r\n        }) %}\r\n    {% endif %}\r\n{% endfor %}\r\n\r\n<table style=\"width:100%;border-collapse:collapse;\" border=\"1\">\r\n    <tr>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">S.No</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Group</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Current Schedule Value</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Revised Schedule Value</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Difference Value</td>\r\n    </tr>\r\n\r\n    {% set serial = 1 %}\r\n    {% for group, data in grouped.items() %}\r\n    <tr>\r\n        <td style=\"text-align:center;\">{{  loop.index }}</td>\r\n        <td style=\"text-align:left;\">{{ group }}</td>\r\n         <td style=\"text-align:center;\">{{frappe.utils.fmt_money( data.current_schedule_value1 )}}</td>\r\n        <td style=\"text-align:center;\">{{frappe.utils.fmt_money( data.revised_schedule_value1) }}</td>\r\n        <td style=\"text-align:center;\">{{frappe.utils.fmt_money( data.difference_value) }}</td>\r\n    </tr>\r\n    {% set serial = serial + 1 %}\r\n    {% endfor %}\r\n</table>\r\n\r\n    <br>\r\n<div style=\"margin-bottom: 4px;\">\r\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Total Sales Plan</span>\r\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;\r\n        {% if doc.total_sales_plan %}\r\n            {{ \"{:,.0f}\".format(doc.total_sales_plan) }}\r\n        {% else %}\r\n            NA\r\n        {% endif %}\r\n    </span>\r\n</div>\r\n<div style=\"width:100%; margin-top:10px; display:flex;\">\r\n\r\n    {% if doc.approval_remarks %}\r\n    <div style=\"\r\n        width:50%;\r\n        padding:20px;\r\n        border:1px solid #000;\r\n        margin-right:20px; \r\n        box-sizing:border-box;\r\n    \">\r\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\r\n        <br><br>\r\n        {% for r in doc.approval_remarks %}\r\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\r\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\r\n            {% if not loop.last %}<br>{% endif %}\r\n        {% endfor %}\r\n    </div>\r\n    {% endif %}\r\n\r\n    {% if doc.rejection_remarks %}\r\n    <div style=\"\r\n        width:50%;\r\n        padding:20px;\r\n        border:1px solid #000;\r\n        margin-left:20px;   \r\n        box-sizing:border-box;\r\n    \">\r\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\r\n        <br><br>\r\n        {% for r in doc.rejection_remarks %}\r\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\r\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\r\n            {% if not loop.last %}<br>{% endif %}\r\n        {% endfor %}\r\n    </div>\r\n    {% endif %}\r\n\r\n</div>\r\n<br>\r\n</div>\r\n\r\n\r\n    <div class=\"fixed-footer\">\r\n        <br>\r\n        {% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\r\n    <table>\r\n  <tr>\r\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">Prepared</td>\r\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">HOD</td>\r\n   <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">ERP</td>\r\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">Material Manager</td>\r\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">Plant Head</td>\r\n   <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">BMD</td>\r\n\r\n</tr>\r\n\r\n\r\n    <tr style=\"height: 80px;\">\r\n     {% set erp_signature = frappe.db.get_value(\"Employee\", {\"name\":\"S0330\"}, \"custom_digital_signature\") %}\r\n     {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\r\n       {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\r\n       {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"BMD01\"}, \"custom_digital_signature\") %}\r\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"name\":\"S0004\"}, \"custom_digital_signature\") %}\r\n       {% set material_signature = frappe.db.get_value(\"Employee\", {\"name\":\"S0004\"}, \"custom_digital_signature\") %}\r\n        <td style=\"text-align:center;font-size:15px;\">\r\n    <br>\r\n    {% if prepared_signature %}\r\n        <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\r\n         {%else%}\r\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\r\n    {% endif %}\r\n    <br>\r\n     {% if doc.date_time %}\r\n        {% set formatted_date = frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") %}\r\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\r\n    {% endif %}\r\n</td>\r\n        <td style=\"text-align:center;font-size:15px;\">\r\n    <br>\r\n    {% if hod_signature %}\r\n        <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\r\n         {%else%}\r\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\r\n    {% endif %}\r\n    <br>\r\n    {% if doc.hod_approved_on %}\r\n        {% set formatted_date = frappe.utils.format_datetime(doc.hod_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\r\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\r\n    {% endif %}\r\n</td>\r\n <td style=\"text-align:center;font-size:15px;\">\r\n    <br>\r\n    {% if erp_signature %}\r\n        <img src=\"{{ erp_signature }}\" style=\"height:50px;\">\r\n         {%else%}\r\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\r\n    {% endif %}\r\n    <br>\r\n    {% if doc.erp_team_approved_on %}\r\n        {% set formatted_date = frappe.utils.format_datetime(doc.erp_team_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\r\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\r\n    {% endif %}\r\n</td>\r\n   <td style=\"text-align:center;font-size:15px;\">\r\n    <br>\r\n    {% if material_signature %}\r\n        <img src=\"{{ material_signature }}\" style=\"height:50px;\">\r\n         {%else%}\r\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\r\n    {% endif %}\r\n    <br>\r\n    {% if doc.material_manager_approved_on %}\r\n        {% set formatted_date = frappe.utils.format_datetime(doc.material_manager_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\r\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\r\n    {% endif %}\r\n</td>\r\n <td style=\"text-align:center;font-size:15px;\">\r\n    <br>\r\n    {% if plant_signature %}\r\n        <img src=\"{{ plant_signature }}\" style=\"height:50px;\">\r\n         {%else%}\r\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\r\n    {% endif %}\r\n    <br>\r\n    {% if doc.plant_head_approved_on %}\r\n        {% set formatted_date = frappe.utils.format_datetime(doc.plant_head_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\r\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\r\n    {% endif %}\r\n</td>\r\n<td style=\"text-align:center;font-size:15px;\">\r\n    <br>\r\n    {% if bmd_signature %}\r\n        <img src=\"{{ bmd_signature }}\" style=\"height:50px;\">\r\n         {%else%}\r\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\r\n    {% endif %}\r\n    <br>\r\n    {% if doc.bmd_approved_on %}\r\n        {% set formatted_date = frappe.utils.format_datetime(doc.bmd_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\r\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\r\n    {% endif %}\r\n</td>\r\n\r\n    </tr>\r\n</table>\r\n<div style=\"text-align:left; font-size:12px; margin-top:5px;\">\r\n            Note: This document is Digitally Signed\r\n        </div>\r\n    </div>\r\n\r\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\r\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>\r\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 17:57:25.327814",
  "module": "ONEGENE",
  "name": "Approval for Schedule Increase",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n@page {\n    size: A4;\n    margin: 5mm 5mm 5mm 5mm; /* top right bottom left */\n}\n\n.page-wrapper {\n    border: 2px solid black;\n    padding: 2mm;\n    box-sizing: border-box;\n    min-height: 265mm; /* full page height */\n    max-width:200mm;\n    margin-top:0mm;\n    \n}\n.content {\n    margin-bottom: 50mm; /* leave space for repeated footer */\n        width: 100%;\n\n}\n.fixed-footer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    padding: 2mm 5mm;\n    box-sizing: border-box;\n    border-top:none;\n    font-size: 10px;\n}\n\n.footer {\n    display: block;\n    position: running(footer); /* makes it a repeated element on every page */\n}\n/* tables inside footer */\n.fixed-footer table {\n    width: 100%;\n    border-collapse: collapse;\n}\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n            page-break-inside: avoid;\n\n    }\n    td, th {\n        border: 1px solid black;\n    }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n        width: 100%;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<div class=\"page-wrapper\">\n    <div class=\"content\">\n\n<table>\n    <tr>\n        <td style=\"width: 15%;text-align:center;border-right:none;border-bottom:none;border-bottom:bold\">\n            <div style=\"padding-top:8px;\">\n                <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\n            </div>\n        </td>\n        <td style=\"width:30%;font-size:20px;text-align:center;border-right:none;border-bottom:none;padding-top:13px\" nowrap>\n            <div class=\"header-title\" style=\"padding-top:10px\">INTER OFFICE MEMO (I O M)</div>         </td>\n        <td style=\"width:15%;white-space:nowrap;border-bottom:none;font-weight:bold;\">\n    <div style=\"padding-top:13px;border-bottom:none;\">\n        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\n            ✔\n        </span>\n        {{ doc.priority }}\n    </div>\n</td>\n\n\n\n    </tr>\n</table>\n{% set emp_name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table style=\"width:100%; border-collapse: collapse; margin-top:-16px;\">\n    <tr>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;\">\n           <p style=\"line-height:1\">\n    <span style=\"display:inline-block; width:80px;\">Dept.From </span>:&nbsp;{{ doc.department_from or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Dept.To</span>:&nbsp; {{ doc.department_to or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Created By</span>: &nbsp;{{emp_name or '' }}<br><br>\n    \n   \n</p>\n\n       </td>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;\">\n           <p style=\"line-height:1\">\n            <span style=\"display:inline-block; width:80px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Doc.No</span>: {{ doc.name }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Instructed By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\n       </p></td>\n   </tr>\n    \n</table>\n<table style=\"margin-top:-30px; width: 100%;\">\n    <tr>\n        <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\n            SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;\n            <span style=\"display: inline-block; width: 60%; text-align: center;\">\n                {{ doc.iom_type or 'NA' }}\n            </span>\n        </td>\n    </tr>\n</table>\n{% set label_width = \"130px\" %} <!-- adjust as needed -->\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer Group</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.customer_group or 'NA' }}</span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer Name</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.customer or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Currency</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.currency or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Model</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.model or 'NA' }}</span>\n</div>\n\n        <br>\n   <table style=\"width:100%;border-collapse:collapse;\" border=\"1\">\n    <tr>\n        <td style=\"background-color:#fec76f;text-align:center;\">S.No</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Item Select <br>New/Existing</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Warehouse</td>\n\n        <td style=\"background-color:#fec76f;text-align:center;\">Item Code</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Item Name</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">UOM</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Qty</td>\n\n    </tr>\n{% set ns = namespace(row_index=1) %}\n\n{% for i in doc.approval_for_material_request %}\n<tr>\n    <td style=\"text-align:center;font-size:9px;\">{{ ns.row_index }}</td>\n    <td style=\"text-align:left;font-size:9px;\">Existing</td>\n    <td style=\"text-align:left;font-size:9px;\">{{ i.warehouse or '' }}</td>\n    <td style=\"text-align:left;font-size:9px;\">{{ i.item_code or '' }}</td>\n    <td style=\"text-align:left;font-size:9px;\">{{ i.item_name or '' }}</td>\n     <td style=\"text-align:center;white-space:nowrap;\">{{i.uom or ''}}</td>\n    <td style=\"text-align:center;font-size:9px;\">{{ i.qty or '' }}</td>\n</tr>\n{% set ns.row_index = ns.row_index + 1 %}\n{% endfor %}\n\n{% for j in doc.material_request_new %}\n<tr>\n    <td style=\"text-align:center;font-size:9px;\">{{ ns.row_index }}</td>\n    <td style=\"text-align:left;font-size:9px;\">New</td>\n    <td style=\"text-align:left;font-size:9px;\">{{ j.warehouse or '' }}</td>\n    <td style=\"text-align:left;font-size:9px;\">{{ j.item_code or '' }}</td>\n    <td style=\"text-align:left;font-size:9px;\">{{ j.item_name or '' }}</td>\n     <td style=\"text-align:center;white-space:nowrap;\">{{j.uom or ''}}</td>\n    <td style=\"text-align:center;font-size:9px;\">{{ j.qty or '' }}</td>\n</tr>\n{% set ns.row_index = ns.row_index + 1 %}\n{% endfor %}\n</table>\n\n        <br>\n        \n        <div style=\"margin-bottom: 4px;\">\n            <span style=\"display:inline-block;width:140px;font-weight:bold;white-space:nowrap\">Remarks</span>\n            <span>:&nbsp;&nbsp;{{ doc.subject or 'NA' }}</span>\n        </div>\n</div>\n<div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n        <br>\n    <div class=\"fixed-footer\">\n\n{% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n       <table>\n   <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">ERP TEAM</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">Marketing Manager</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">Material Manager</td>\n   <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">Plant Head</td>\n\n</tr>\n\n\n    <tr style=\"height: 80px;\">\n          {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n       {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\n        {% set erp_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.erp_team}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.plant_head}, \"custom_digital_signature\") %}\n        {% set material_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.material_manager}, \"custom_digital_signature\") %}\n\n       {% set marketing_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.marketing_manager}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.finance}, \"custom_digital_signature\") %}\n       <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if prepared_signature %}\n        <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\n        {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.date_time %}\n        {% set formatted_date = frappe.utils.formatdate(doc.date_time, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.date_time, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n\n        <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if hod_signature %}\n        <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\n        {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.hod_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.hod_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.hod_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n   <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if erp_signature %}\n        <img src=\"{{ erp_signature }}\" style=\"height:50px;\">\n        {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.erp_team_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.erp_team_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.erp_team_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n   <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if marketing_signature %}\n        <img src=\"{{ marketing_signature }}\" style=\"height:50px;\">\n        {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.marketing_manager_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.marketing_manager_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.marketing_manager_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n\n\n <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if material_signature %}\n        <img src=\"{{ material_signature }}\" style=\"height:50px;\">\n        {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.material_manager_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.material_manager_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.material_manager_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if plant_signature %}\n        <img src=\"{{ plant_signature }}\" style=\"height:50px;\">\n        {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.plant_head_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.plant_head_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.plant_head_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n        \n        \n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n</div>\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 18:01:42.693315",
  "module": "ONEGENE",
  "name": "Approval for Material Request",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n    body {\n        font-size: 14px;\n    }\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n    }\n    td, th {\n        border: 2px solid black;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n    }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<table>\n    <tr>\n    {% if doc.priority == \"Important / Urgent\" %}\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td><td style=\"border-left:none;border-top:none;border-bottom:none;\"></td>\n        <td style=\"text-align:center; vertical-align:middle;background-color:red\"></td>\n        <td style=\"text-align:center; vertical-align:middle; font-weight:bold;width:25%\">\n            A - IMPORTANT / URGENT\n        </td>\n        <td style=\"border-right:none;border-top:none;border-bottom:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n    {% endif %}\n    {% if doc.priority == \"Information\" %}\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td><td></td>\n        <td style=\"text-align:center; vertical-align:middle;background-color:yellow\">\n            <!--<span class=\"color-box yellow\" style=\"display:inline-block; width:15px; height:15px; background-color:yellow; border:1px solid #000;\"></span>-->\n        </td>\n        <td style=\"text-align:center; vertical-align:middle; font-weight:bold;width:25%\">\n           B - INFORMATION\n        </td>\n        <td style=\"border-right:none;border-top:none;border-bottom:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n    {% endif %}\n    {% if doc.priority == \"Improvement\" %}\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td><td></td>\n        <td style=\"text-align:center; vertical-align:middle;background-color:#4472C4\">\n        </td>\n        <td style=\"text-align:center; vertical-align:middle; font-weight:bold;width:25%\">\n           C - IMPROVEMENT\n        </td>\n        <td style=\"border-right:none;border-top:none;border-bottom:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n        <td style=\"border:none;\"></td>\n    {% endif %}\n</tr>\n\n\n\n</table>\n\n<table>\n    <tr>\n        <td rowspan=\"4\" style=\"width: 34%;text-align:center;\"><div style=\"padding-top:32px;\"><img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 100%;\"></div></td>\n        <td rowspan=\"4\" style=\"width:24%;font-size:20px;text-align:center;\" class=\"header-title\" nowrap><div style=\"padding-top:42px;\">INTER OFFICE MEMO (I O M)</div></td>\n        <td style=\"width: 20%;font-weight:bold;\"><div style=\"padding-top:7px;\">DATE & TIME</div></td>\n        <td style=\"width:20%; text-align:left;\">\n            {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}\n        </td>\n        \n\n\n    </tr>\n    <tr>\n        <td style=\"font-weight:bold;\">DEPT. FROM</td>\n        <td style=\"text-align:left;\">{{doc.department_from or 'NA'}}</td>\n    </tr>\n    <tr>\n        <td style=\"font-weight:bold;\">DEPT. TO</td>\n        <td style=\"text-align:left;\">{{doc.department_to or 'NA'}}</td>\n    </tr>\n     \n    <tr>\n        <td style=\"font-weight:bold;\">INSTRUCTED BY</td>\n        <td style=\"text-align:left;\">{{doc.employee_name or 'NA'}}</td>\n    </tr>\n   \n</table>\n\n\n<table>\n    <tr>\n        <td colspan =1 style=\"width: 23.5%;text-align:left;font-weight:bold;font-size:15px;\">SUBJECT:</td>\n        <td  colspan =5 style=\"font-size:15px;\">{{doc.iom_type or 'NA'}}</td>\n    </tr>\n</table>\n{% set label_width = \"130px\" %} <!-- adjust as needed -->\n\n{% if doc.customer %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer Name</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.customer or 'NA' }}</span>\n</div>\n{% elif doc.supplier %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.supplier or 'NA' }}</span>\n</div>\n{% endif %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Currency</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.currency or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">PO NO</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.approval_supplementary_invoice[0].po_no if doc.approval_supplementary_invoice and doc.approval_supplementary_invoice[0].po_no else 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Reason for Request</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.subject or 'NA' }}</span>\n</div>\n<br>\n{% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table>\n    <tr>\n        <td style=\"background-color:#fec76f;text-align:center;\">S.No</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Item Code</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Item Name</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Invoice Price</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Difference</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Qty</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Supplementary Value</td>\n        </tr>\n    {% for i in doc.approval_supplementary_invoice%}\n    <tr>\n        <td>{{loop.index}}</td>\n        <td style=\"text-align:left\">{{i.part_no or ''}}</td>\n        <td style=\"text-align:left\">{{i.part_name or ''}}</td>\n        <td style=\"text-align:right;white-space:nowrap\">{{i.po_price or ''}}</td>\n        <td style=\"text-align:right;white-space:nowrap\">{{i.difference or ''}}</td>\n        <td style=\"text-align:center;white-space:nowrap\">{{i.qty or ''}}</td>\n         <td style=\"text-align:right;white-space:nowrap\">{{i.supplementary_value or ''}}</td>\n    </tr>\n    {%endfor%}\n    <tr><td colspan=6 style=\"text-align:center\">Total Supplementary Value</td>\n    <td colspan=1 style=\"text-align:right\">{{doc.supplementary_value}}</td></tr>\n    </table>\n    <br>\n   <div style=\"font-weight:bold; font-size:15px; margin-bottom:6px;\">\n    TERMS & CONDITIONS\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:120px;font-weight:bold;\">PAYMENT TERMS</span>\n    <span>:&nbsp;&nbsp;{{ doc.payment_terms or 'NA' }}</span>\n</div>\n{% if doc.taxes %}\n{% set ns = namespace(gst_rates=[]) %}\n{% for t in doc.taxes %}\n    {% if t.rate %}\n        {% set ns.gst_rates = ns.gst_rates + [t.rate|string + '%'] %}\n    {% endif %}\n{% endfor %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:120px;font-weight:bold;\">GST</span>\n    <span>:&nbsp;&nbsp;{{ ns.gst_rates | join(' + ') }}</span>\n</div>\n{% endif %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:120px;font-weight:bold;\">INCOTERMS</span>\n    <span>:&nbsp;&nbsp;{{ doc.wonjin_incoterms or 'NA' }}</span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:120px;font-weight:bold;\">DELIVERY TERMS</span>\n    <span>:&nbsp;&nbsp;{{ doc.delivery_terms or 'NA' }}</span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:120px;font-weight:bold;\">MODE OF DISPATCH</span>\n    <span>:&nbsp;&nbsp;{{ doc.mode_of_dispatch or 'NA' }}</span>\n</div>\n<br>\n<div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n<br>\n    <table>\n   <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">ERP Team</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Plant Head</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">GM</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Finance</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">BMD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">CMD</td>\n</tr>\n\n\n     <tr style=\"height: 80px;\">\n    <td style=\"text-align:center;font-size:15px;\">\n        <br><br><br>\n        {% if doc.workflow_state == \"Pending For HOD\" or doc.workflow_state==\"Pending for BMD\" or doc.workflow_state==\"Pending for Finance\" or doc.workflow_state==\"Pending for GM\" or doc.workflow_state==\"Pending for Plant Head\" or doc.workflow_state==\"Pending for CMD\" or doc.workflow_state == \"Pending for ERP Team\" or doc.workflow_state == \"Approved\"%}\n            {{ name or '' }}\n        {% endif %}\n    </td>\n    <td>\n        <br><br><br>\n        {% if doc.workflow_state==\"Pending for BMD\" or doc.workflow_state==\"Pending for Finance\" or doc.workflow_state==\"Pending for GM\" or doc.workflow_state==\"Pending for Plant Head\" or doc.workflow_state==\"Pending for CMD\" or doc.workflow_state == \"Pending for ERP Team\" or doc.workflow_state == \"Approved\"%}\n            {{ doc.reports_to_name or '' }}\n        {% endif %}\n    </td>\n    <td>\n        <br><br><br>\n        {% if doc.workflow_state == \"Pending for Plant Head\" or doc.workflow_state == \"Pending for GM\" or doc.workflow_state == \"Pending for Finance\" or doc.workflow_state == \"Pending for BMD\" or doc.workflow_state == \"Pending for CMD\" or doc.workflow_state == \"Approved\"%}\n            ASHOKKUMAR DHANASEKARAN /<br>SENTHILKUMAR RAJENDRAN\n        {% endif %}\n    </td>\n    <td>\n        <br><br><br>\n        {% if doc.workflow_state == \"Pending for GM\"  or doc.workflow_state == \"Pending for Finance\" or doc.workflow_state == \"Pending for BMD\" or doc.workflow_state == \"Pending for CMD\" or doc.workflow_state == \"Approved\"%}\n            SELVARAJA KASINATHAN\n        {% endif %}\n    </td>\n    <td>\n        <br><br><br>\n        {% if doc.workflow_state == \"Pending for Finance\" or doc.workflow_state == \"Pending for BMD\" or doc.workflow_state == \"Pending for CMD\" or doc.workflow_state == \"Approved\"%}\n            HYUNCHEOL KIM\n        {% endif %}\n    </td>\n    <td>\n        <br><br><br>\n        {% if doc.workflow_state == \"Pending for BMD\" or doc.workflow_state == \"Pending for CMD\" or doc.workflow_state == \"Approved\"%}\n            KALA MICHAEL RAJ\n        {% endif %}\n    </td>\n    <td>\n        <br><br><br>\n        {% if doc.workflow_state == \"Pending for CMD\" or doc.workflow_state == \"Approved\"%}\n            RAJESH SELVARAJ\n        {% endif %}\n    </td>\n    <td>\n        <br><br><br>\n        {% if doc.workflow_state == \"Approved\" %}\n            MARIA JEYA BALAN JOHN PANDI\n        {% endif %}\n    </td>\n</tr>\n\n</table>\n<footer id=\"footer-html\">\n   <table width=\"100%\" style=\"border:none;\">\n       <tr>\n           <td width=\"100%\" style=\"text-align:center; font-size:10px;border:none; padding:0; margin:0;\">\n               <i>Page <span class=\"page\"></span> / <span class=\"topage\"></span></i>\n           </td>\n       </tr>\n   </table>\n</footer>\n\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 17:56:58.106817",
  "module": "ONEGENE",
  "name": "Approval for Supplementary Invoice",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n    body {\n        font-size: 12px;\n        margin: 10px;\n        padding: 10px;\n        border: 1.9px solid black; /* ✅ Bold border around the whole page */\n    }\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n    }\n    td, th {\n        border: 1px solid black; /* ✅ Make all table borders thin */\n    }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n        width: 100%;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n\n<table>\n    <tr>\n        <td style=\"width: 15%;text-align:center;border-right:none;border-bottom:none;border-bottom:bold\">\n            <div style=\"padding-top:8px;\">\n                <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\n            </div>\n        </td>\n        <td style=\"width:30%;font-size:20px;text-align:center;border-right:none;border-bottom:none;padding-top:13px\" nowrap>\n            <div class=\"header-title\" style=\"padding-top:10px\">INTER OFFICE MEMO (I O M)</div>         </td>\n        <td style=\"width:15%;white-space:nowrap;border-bottom:none;font-weight:bold;\">\n    <div style=\"padding-top:13px;border-bottom:none;\">\n        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\n            ✔\n        </span>\n        {{ doc.priority }}\n    </div>\n</td>\n\n\n\n    </tr>\n</table>\n\n\n<table style=\"width:100%; border-collapse: collapse; margin-top:-16px;\">\n    <tr>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;\">\n           <p style=\"line-height:1\">\n    <span style=\"display:inline-block; width:80px;\">Dept.From </span>:&nbsp;{{ doc.department_from or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Dept.To</span>:&nbsp; {{ doc.department_to or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Instructed By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\n   \n</p>\n\n       </td>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;\">\n           <p style=\"line-height:1\">\n            <span style=\"display:inline-block; width:80px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Doc.No</span>: {{ doc.name }}<br><br>\n       </p></td>\n   </tr>\n    \n</table>\n<table style=\"margin-top:-30px; width: 100%;\">\n    <tr>\n        <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\n            SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;\n            <span style=\"display: inline-block; width: 60%; text-align: center;\">\n                {{ doc.iom_type or 'NA' }}\n            </span>\n        </td>\n    </tr>\n</table>\n\n{% set label_width = \"130px\" %} <!-- adjust as needed -->\n\n{% if doc.customer %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer Group</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.customer_group or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer Name</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.customer or 'NA' }}</span>\n</div>\n\n{% elif doc.supplier %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.supplier or 'NA' }}</span>\n</div>\n{% endif %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Currency</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.currency or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">PO No & PO Date</span>\n    <span>\n        :&nbsp;&nbsp;&nbsp;&nbsp;\n        {% if doc.proto_sample_po and doc.proto_sample_po[0] %}\n            {{ \n                doc.proto_sample_po[0].po_no \n                if doc.proto_sample_po[0].po_no \n                else (doc.proto_sample_po[0].po_no_new if doc.proto_sample_po[0].po_no_new else 'NA') \n            }}\n            &nbsp;/&nbsp;\n            {{ frappe.utils.formatdate(doc.proto_sample_po[0].po_date, \"dd-MM-yyyy\") if doc.proto_sample_po[0].po_date else 'NA' }}\n        {% else %}\n            NA / NA\n        {% endif %}\n    </span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">HSN Code</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.proto_sample_po[0].hsn_code if doc.proto_sample_po and doc.proto_sample_po[0].hsn_code else 'NA' }}</span>\n</div>\n{% if doc.customer_group == \"Domestic\" %}\n{% set ns = namespace(gst_rates=[]) %}  \n{% if doc.taxes %}\n    {% for t in doc.taxes %}\n        {% if t.rate %}\n            {% set ns.gst_rates = ns.gst_rates + [t.rate|string + '%'] %}\n        {% endif %}\n    {% endfor %}\n{% endif %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">GST Rate</span>\n    <span>:&nbsp;&nbsp;&nbsp;{{ ns.gst_rates | join(' + ') or '' }}</span>\n</div>\n{% endif %}\n\n\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Reason For Update</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.proto_sample_po[0].reason_for_request if doc.proto_sample_po and doc.proto_sample_po[0].reason_for_request else 'NA' }}</span>\n</div>\n\n<br>\n{% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table>\n    <tr>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:10px;\">S.No</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:10px;\">Item Code</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:10px;\">Item Name</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:10px;\">Qty</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:10px;\">PO Price</td>\n\n        </tr>\n    {% for i in doc.proto_sample_po%}\n    <tr>\n        <td>{{loop.index}}</td>\n        <td style=\"text-align:left;white-space:nowrap;font-size:10px;\">{{i.part_no or i.item_code_new or ''}}</td>\n        <td style=\"text-align:left;white-space:nowrap;font-size:10px;\">{{i.part_name or i.item_name_new or ''}}</td>\n {% if i.type==\"Existing\"%}\n        <td style=\"text-align:center;white-space:nowrap;font-size:10px;\">{{i.qty or 0}}</td>\n        {% else%}\n        <td style=\"text-align:center;white-space:nowrap;font-size:10px;\">{{i.qty_new or 0}}</td>\n        {%endif%}\n        <td style=\"text-align:right;white-space:nowrap;font-size:10px;\">{{frappe.utils.fmt_money(i.po_price or i.po_price_new or 0 , currency=doc.currency)}}</td>\n\n    </tr>\n    {%endfor%}\n    <tr>\n        <td colspan=4 style=\"text-align:center;font-weight:bold\">Total PO Value</td>\n        <td colspan=1 style=\"text-align:right;font-weight:bold\">{{frappe.utils.fmt_money(doc.total_po_price or 0 , currency=doc.currency)}}</td>\n    </tr>\n      </table>\n\n    <div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:50%;font-weight:bold;\">TERMS & CONDITIONS</span>\n</div><br>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Payment Terms</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.payment_terms or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Incoterms</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.wonjin_incoterms or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Mode Of Dispatch</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.mode_of_dispatch or 'NA' }}</span>\n</div>\n\n\n\n\n<br>\n<div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n\n<br>\n    <table>\n   <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac\">HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac\">ERP Team</td>\n    <td style=\"text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac\">Material Manager</td>\n\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac\">Plant Head</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac\">GM</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac\">Finance</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac\">BMD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac\">CMD</td>\n</tr>\n\n\n   <tr style=\"height: 50px;\">\n    {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n       {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to_name}, \"custom_digital_signature\") %}\n       {% set erp_signature = frappe.db.get_value(\"Employee\", {\"name\":\"S0330\"}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"name\":\"S0004\"}, \"custom_digital_signature\") %}\n              {% set material_signature = frappe.db.get_value(\"Employee\", {\"name\":\"S0004\"}, \"custom_digital_signature\") %}\n\n       {% set gm_signature = frappe.db.get_value(\"Employee\", {\"name\":\"KR002\"}, \"custom_digital_signature\") %}\n       {% set marketing_signature = frappe.db.get_value(\"Employee\", {\"name\":\"S0116\"}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"name\":\"S0189\"}, \"custom_digital_signature\") %}\n        {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"BMD01\"}, \"custom_digital_signature\") %}\n        {% set cmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"CMD01\"}, \"custom_digital_signature\") %}\n      <td style=\"text-align:center;font-size:15px;\">\n    {% if prepared_signature %}\n        <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\n    {% endif %}\n     {% if doc.date_time %}\n        {% set formatted_date = frappe.utils.formatdate(doc.date_time, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.date_time, \"HH:mm:ss\") %}\n        <span style=\"font-size:9px;\">{{ formatted_date }}</span><br>\n        <span style=\"font-size:9px;\">{{ formatted_time }}</span>\n    {% endif %}\n</td>\n        <td style=\"text-align:center;font-size:15px;\">\n    {% if hod_signature %}\n        <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.hod_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.hod_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.hod_approved_on, \"HH:mm:ss\") %}\n        <span style=\"font-size:9px;\">{{ formatted_date }}</span><br>\n        <span style=\"font-size:9px;\">{{ formatted_time }}</span>\n    {% endif %}\n</td>\n <td style=\"text-align:center;font-size:15px;\">\n    {% if erp_signature %}\n        <img src=\"{{ erp_signature }}\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.erp_team_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.erp_team_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.erp_team_approved_on, \"HH:mm:ss\") %}\n        <span style=\"font-size:9px;\">{{ formatted_date }}</span><br>\n        <span style=\"font-size:9px;\">{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if material_signature %}\n        <img src=\"{{ material_signature }}\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.material_manager_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.material_manager_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.material_manager_approved_on, \"HH:mm:ss\") %}\n        <span style=\"font-size:9px;\">{{ formatted_date }}</span><br>\n        <span style=\"font-size:9px;\">{{ formatted_time }}</span>\n    {% endif %}\n</td>\n\n<td style=\"text-align:center;font-size:15px;\">\n    {% if plant_signature %}\n        <img src=\"{{ plant_signature }}\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.plant_head_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.plant_head_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.plant_head_approved_on, \"HH:mm:ss\") %}\n        <span style=\"font-size:9px;\">{{ formatted_date }}</span><br>\n        <span style=\"font-size:9px;\">{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if gm_signature %}\n        <img src=\"{{ gm_signature }}\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.gm_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.gm_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.gm_approved_on, \"HH:mm:ss\") %}\n        <span style=\"font-size:9px;\">{{ formatted_date }}</span><br>\n        <span style=\"font-size:9px;\">{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if finance_signature %}\n        <img src=\"{{ finance_signature }}\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.finance_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.finance_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.finance_approved_on, \"HH:mm:ss\") %}\n        <span style=\"font-size:9px;\">{{ formatted_date }}</span><br>\n        <span style=\"font-size:9px;\">{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if bmd_signature %}\n        <img src=\"{{ bmd_signature }}\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.bmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.bmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.bmd_approved_on, \"HH:mm:ss\") %}\n        <span style=\"font-size:9px;\">{{ formatted_date }}</span><br>\n        <span style=\"font-size:9px;\">{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if cmd_signature %}\n        <img src=\"{{ cmd_signature }}\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.cmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.cmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.cmd_approved_on, \"HH:mm:ss\") %}\n        <span style=\"font-size:9px;\">{{ formatted_date }}</span><br>\n        <span style=\"font-size:9px;\">{{ formatted_time }}</span>\n    {% endif %}\n</td>\n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n \n\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 17:57:12.468104",
  "module": "ONEGENE",
  "name": "Approval Credit Note New",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": " .remove-top-border {\r\n        border-top: none !important;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "General DC",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{% set address = frappe.db.get_value(\"Customer\",{\"name\":doc.party},\"customer_primary_address\") %}\r\n{% set gstin = frappe.db.get_value(\"Customer\",{\"name\":doc.party},\"gstin_number\") %}\r\n\r\n<table width=\"100%\" style=\"border:1px solid black; border-collapse:collapse;\">\r\n    <thead>\r\n    <tr>\r\n        <td colspan=\"2\" style=\"border-right:none\"><img src=\"/files/wonjin logo.png\" alt=\"logo\" width=\"130px;\"></td>\r\n        <td colspan=\"4\" style=\"text-align:center;border:1px solid black;border-left:none;border-right:none;\">\r\n            <div style=\"text-align:center;font-size:11px;\">\r\n                <strong><p>Wonjin Autoparts India Pvt Ltd</p></strong>\r\n                Plot No : A1K, CMDA Industrial Complex<br>\r\n                Maraimalai Nagar, Chennai - 603 209<br>\r\n                Phone No : 044 - 4740 4415 / 4740 4436 &nbsp; Fax No : 044-4740 0142<br>\r\n                Email id : finance@onegeneindia.in &nbsp; Web : www.onegeneindia.in<br>\r\n                GSTIN No : 33AADCP2334E1ZY &nbsp; State : Tamil Nadu\r\n            </div>\r\n            \r\n        </td>\r\n        <td colspan=\"2\" style=\"text-align:right;\">\r\n            <div style=\"border-left:none;width:100px;padding-top:5px;padding-left:10px;\">\r\n            <!--{% set gate_entry = frappe.get_all('Gate Entry', filters={'ref_no': doc.name}, limit=1) %}-->\r\n            \r\n            <!--{% if gate_entry %}-->\r\n            <!--    {% set gate_url = 'https://erp.onegeneindia.in/app/gate-entry/' + gate_entry[0].name %}-->\r\n            <!--{% else %}-->\r\n            <!--    {% set gate_url = 'https://erp.onegeneindia.in/app/general-dc/' + doc.name %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            <!--<img src=\"https://api.qrserver.com/v1/create-qr-code/?size=150x150&data={{ gate_url | urlencode }}\" alt=\"QR Code\" />-->\r\n            \r\n            <img src=\"https://api.qrserver.com/v1/create-qr-code/?size=150x150&data={{ doc.scan_barcode }}\" alt=\"QR Code\" />\r\n       \r\n\r\n            </div>\r\n        </td>\r\n    </tr>\r\n    </thead>\r\n    <tbody>\r\n    <tr>\r\n        <td colspan=\"8\" style=\"text-align:center; font-weight:bold;border:1px solid black;\">\r\n            DELIVERY NOTE - RETURNABLE\r\n        </td>\r\n    </tr>\r\n    <tr>\r\n        <td colspan=\"4\" style=\"border:1px solid black;font-size:11px;\">\r\n           M/S. <b>{{doc.party}}</b><br><div style=\"padding-left:25px;\">\r\n           {{ frappe.db.get_value('Address',{'name':address},'address_line1') or \"\" }}<br>\r\n            {{ frappe.db.get_value('Address',{'name':address},'address_line2') or \"\" }}\r\n            {{ frappe.db.get_value('Address',{'name':address},'city') or \"\" }} \r\n            {{ frappe.db.get_value('Address',{'name':address},'pincode') or \"\" }}<br>\r\n            {% set phone = frappe.db.get_value('Address',{'name':address},'phone') %}\r\n            {% if phone %} Phone: {{ phone }} {% endif %}\r\n            {% set email = frappe.db.get_value('Address',{'name':address},'email_id') %}\r\n            {% set web = frappe.db.get_value('Company',{'name':address},'domain') %}\r\n            &nbsp;&nbsp;&nbsp;&nbsp;{% if email %} Email: {{ email }} {% endif %}<br>\r\n            {% if web %} | Web: {{ web }} {% endif %}\r\n            GSTIN: {{ frappe.db.get_value('Address',{'name':address},'gstin') or \"\" }}</div>\r\n           \r\n        </td>\r\n        <td colspan=\"4\" style=\"border:1px solid black;font-size:11px;\">\r\n            Dc No : {{doc.name}}<br><br>\r\n           Dc Date : {{ frappe.utils.formatdate(doc.dc_date, \"dd-MM-yyyy\") }}<br><br>\r\n            Vehicle No: {{doc.vehicle_number or ''}}\r\n        </td>\r\n    </tr>\r\n\r\n    <tr>\r\n        <td style=\"border:1px solid black;text-align:center;font-size:11px;\">S. No</td>\r\n        <td style=\"border:1px solid black;text-align:center;font-size:11px;\" colspan=\"2\">Description</td>\r\n        <td style=\"border:1px solid black;text-align:center;font-size:11px;\">HSN Code</td>\r\n        <td style=\"border:1px solid black;text-align:center;font-size:11px;\">UOM</td>\r\n        <td style=\"border:1px solid black;text-align:left;font-size:11px;\">Quantity</td>\r\n        <td style=\"border:1px solid black;text-align:left;font-size:11px;\">Amount</td>\r\n        <td style=\"border:1px solid black;text-align:center;font-size:11px;\">Remarks</td>\r\n    </tr>\r\n    {%- set max_rows = 22 -%}\r\n    {%- set row_count = doc.items|length -%}\r\n    {% for row in doc.items %}\r\n    <tr>\r\n        <td style=\"text-align:center;font-size:11px;border-left:1px solid black;border-right:1px solid black;\">{{ loop.index }}</td>\r\n        <td colspan=\"2\" style=\"font-size:11px;border-left:1px solid black;border-right:1px solid black;\">{{ row.item_name or '' }}</td>\r\n        <td style=\"text-align:center;font-size:11px;border-left:1px solid black;border-right:1px solid black;\">{{row.hsn_code or ''}}</td>\r\n        <td style=\"text-align:center;font-size:11px;border-left:1px solid black;border-right:1px solid black;\">{{ row.uom or '' }}</td>\r\n        <td style=\"text-align:center;font-size:11px;border-left:1px solid black;border-right:1px solid black;\">{{ row.qty or ''}}</td>\r\n        <td style=\"text-align:center;font-size:11px;border-left:1px solid black;border-right:1px solid black;\">{{ row.amount or ''}}</td>\r\n        <td style=\"font-size:11px;border-left:1px solid black;border-right:1px solid black;\">{{row.remarks or ''}}</td>\r\n    </tr>\r\n    {% endfor %}\r\n    \r\n    {% if row_count < 20 %}\r\n        {% set row_height = 3 %}\r\n    {% else %}\r\n        {% set row_height = 1000 %}\r\n    {% endif %}\r\n\r\n    {%- for i in range(row_count, max_rows) -%}\r\n    <tr style=\"height:{{ row_height }}px;\">\r\n        <td style=\"text-align:center;border-left:1px solid black;border-right:1px solid black;\"></td>\r\n        <td colspan=\"2\" style=\"border-left:1px solid black;border-right:1px solid black;\"></td>\r\n        <td style=\"text-align:center;border-left:1px solid black;border-right:1px solid black;\"></td>\r\n        <td style=\"text-align:center;border-left:1px solid black;border-right:1px solid black;\"></td>\r\n        <td style=\"text-align:center;border-left:1px solid black;border-right:1px solid black;\"></td>\r\n        <td style=\"text-align:center;border-left:1px solid black;border-right:1px solid black;\"></td>\r\n        <td style=\"border-left:1px solid black;border-right:1px solid black;\"></td>\r\n    </tr>\r\n    {% endfor %}\r\n    </tbody>\r\n\r\n    <tfoot>\r\n        <tr>\r\n            <td colspan=\"5\" style=\"font-size:11px;border:1px solid black;border-left:none;font-weight:bold;text-align:center;\">Total Amount</td>\r\n            <td colspan=\"1\" style=\"font-size:11px;border:1px solid black;border-left:none;font-weight:bold;text-align:right;\">\r\n                {{ doc.items | sum(attribute='qty') }}\r\n            </td>\r\n            <td colspan=\"1\" style=\"font-size:11px;border:1px solid black;font-weight:bold;text-align:right;\"> {{ doc.items | sum(attribute='amount') }}</td>\r\n            <td colspan=\"1\" style=\"font-size:11px;border:1px solid black;border-left:none;font-weight:bold;text-align:right;\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td colspan=\"8\" style=\"font-size:11px;border:1px solid black;border-left:none;font-weight:bold;text-align:left;\">Terms and Conditions:  {{doc.terms_and_conditions or ''}}</td>\r\n            \r\n        </tr>\r\n       \r\n    \r\n    </tfoot>\r\n</table>\r\n<div class=\"signature-container remove-top-border\" style=\"page-break-inside: avoid;\">\r\n    <div class=\"remove-top-border\" style=\"border: 1px solid black; height:140px; font-size:10px; position: relative; padding:5px;\">\r\n        <div style=\"position:absolute; right:5px; top:5px; white-space:nowrap;\">\r\n          For <strong>WONJIN AUTOPARTS INDIA PVT.LTD.</strong>\r\n        </div>\r\n\r\n        <div style=\"position:absolute; left:5px; bottom:5px; white-space:nowrap;\">\r\n          Receiver's Signature with seal\r\n        </div>\r\n\r\n        <div style=\"position:absolute; right:5px; bottom:5px; white-space:nowrap;\">\r\n          Authorised By\r\n        </div>\r\n    </div>\r\n</div>\r\n<footer id=\"footer-html\">\r\n   <table width=\"100%\" style=\"border:none;\">\r\n       <tr>\r\n           <td width=\"100%\" style=\"text-align:center; font-size: 9px; padding:0; margin:0;\">\r\n               <i>Page <span class=\"page\"></span> / <span class=\"topage\"></span></i>\r\n           </td>\r\n       </tr>\r\n   </table>\r\n</footer>\r\n<meta name=\"pdfkit-margin-bottom\" content=\"20mm\"/>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-10-14 18:57:50.838407",
  "module": "ONEGENE",
  "name": "General DC print format",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "td {\r\n    border: 1px solid black;\r\n    \r\n}\r\n table {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n    font-size: 12px;\r\n    font-family: 'Book Antiqua','Palatino Linotype',Palatino,serif;\r\n  }\r\n  td {\r\n    border: 1px solid #000;\r\n  }\r\n  .label-cell {\r\n    font-weight: bold;\r\n    width: 10%;\r\n    white-space: nowrap;\r\n    line-height:0.9;\r\n    border-right: none; /* remove right border */\r\n    border-top: none !important;\r\n    border-bottom: none !important;\r\n  }\r\n  .label-text {\r\n    display: inline-block;\r\n    line-height:0.9;\r\n    width: 100px; /* adjust for colon alignment */\r\n    \r\n  }\r\n  .value-cell {\r\n    text-align: left;\r\n    line-height:0.9;\r\n    width: 30%;\r\n    border-left: none; /* remove left border */\r\n    border-top: none !important;\r\n    border-bottom: none !important;\r\n  }\r\n  .no-border {\r\n    border: none !important;\r\n  }\r\n .remove-top-border {\r\n        border-top: none !important;\r\n    }\r\n    \r\n.remove-bottom-border {\r\n    border-bottom: none !important;\r\n}\r\n.no-top-bottom {\r\n    border-top: none !important;\r\n    border-bottom: none !important;\r\n    border-left: 1px solid black !important;   /* keep left if you want */\r\n    border-right: 1px solid black !important;  /* keep right if you want */\r\n    padding-top: 0px !important;\r\n  padding-bottom: 0px !important;\r\n    \r\n}",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Logistics Request",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<div class=\\\"print-heading\\\">\\t\\t\\t\\t<h3><div>{{doc.company}}</div></h3></div>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"naming_series\", \"print_hide\": 0, \"label\": \"Series\"}, {\"fieldname\": \"company\", \"print_hide\": 0, \"label\": \"Company\"}, {\"fieldname\": \"gstin\", \"print_hide\": 0, \"label\": \"GSTIN / UIN\"}, {\"fieldname\": \"exporter_iec\", \"print_hide\": 0, \"label\": \"Exporter IEC\"}, {\"fieldname\": \"workflow_state\", \"print_hide\": 0, \"label\": \"Workflow State\"}, {\"fieldname\": \"logistic_type\", \"print_hide\": 0, \"label\": \"Logistic Type\"}, {\"fieldname\": \"po_so\", \"print_hide\": 0, \"label\": \"Voucher Type\"}, {\"fieldname\": \"order_no\", \"print_hide\": 0, \"label\": \"Voucher No\"}, {\"fieldname\": \"multiple_pos\", \"print_hide\": 0, \"label\": \"Multiple POs\"}, {\"fieldname\": \"file_number\", \"print_hide\": 0, \"label\": \"File Number\"}, {\"fieldname\": \"custom_file_number\", \"print_hide\": 0, \"label\": \"File Number\"}, {\"fieldname\": \"requester_name\", \"print_hide\": 0, \"label\": \"Requester Name\"}, {\"fieldname\": \"scope_of_delivery\", \"print_hide\": 0, \"label\": \"Scope of Delivery\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"status\", \"print_hide\": 0, \"label\": \"Shipment Status\"}, {\"fieldname\": \"cargo_type\", \"print_hide\": 0, \"label\": \"Cargo Type\"}, {\"fieldname\": \"supplier\", \"print_hide\": 0, \"label\": \"Supplier Name\"}, {\"fieldname\": \"credit_days\", \"print_hide\": 0, \"label\": \"Credit Days\"}, {\"fieldname\": \"inventory_destination\", \"print_hide\": 0, \"label\": \"Inventory destination \"}, {\"fieldname\": \"warehouse\", \"print_hide\": 0, \"label\": \"Final Destination\"}, {\"fieldname\": \"customer\", \"print_hide\": 0, \"label\": \"Customer\"}, {\"fieldname\": \"tentative_production_completion\", \"print_hide\": 0, \"label\": \"Tentative Production Completion Date\"}, {\"fieldname\": \"alert_date\", \"print_hide\": 0, \"label\": \"Alert Date\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Currency and Price List\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"currency\", \"print_hide\": 0, \"label\": \"Currency\"}, {\"fieldname\": \"conv_rate\", \"print_hide\": 0, \"label\": \"Conversion Rate\"}, {\"fieldname\": \"conversion_rate\", \"print_hide\": 0, \"label\": \" Conversion Rate\"}, {\"fieldname\": \"plc_conversion_rate\", \"print_hide\": 0, \"label\": \"Price List Exchange Rate\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"buying_price_list\", \"print_hide\": 0, \"label\": \"Buying Price List\"}, {\"fieldname\": \"price_list_currency\", \"print_hide\": 0, \"label\": \"Price List Currency\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"product_description\", \"print_hide\": 0, \"label\": \"Product Description\", \"visible_columns\": [{\"fieldname\": \"fg_item\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"fg_item_qty\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"item_code\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"product_bundle\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"expected_delivery_date\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_item_order_type\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"mr_scheduling\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"mr_scheduling_name\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"description\", \"print_width\": \"300px\", \"print_hide\": 0}, {\"fieldname\": \"image\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"qty\", \"print_width\": \"60px\", \"print_hide\": 0}, {\"fieldname\": \"open_qty\", \"print_width\": \"60px\", \"print_hide\": 0}, {\"fieldname\": \"stock_uom\", \"print_width\": \"100px\", \"print_hide\": 0}, {\"fieldname\": \"uom\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"discount_percentage\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"discount_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"schedule\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"item_tax_template\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"pricing_rules\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"stock_uom_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"is_free_item\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"apply_tds\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"igst_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"igst_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cgst_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"sgst_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cgst_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"sgst_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_non_advol_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_non_advol_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"igst_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"igst_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cgst_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"sgst_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cgst_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"sgst_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_non_advol_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_non_advol_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"from_warehouse\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"company_total_stock\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"supplier_quotation\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"supplier_quotation_item\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"against_blanket_order\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"blanket_order\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"wip_composite_asset\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"manufacturer\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"manufacturer_part_no\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"weight_per_unit\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"weight_uom\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"is_fixed_asset\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"production_plan_item\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"production_plan_sub_assembly_item\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"product_description_so\", \"print_hide\": 0, \"label\": \"Product Description\", \"visible_columns\": [{\"fieldname\": \"has_item_scanned\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"item_code\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_customs_tariff_number\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"description\", \"print_width\": \"200px\", \"print_hide\": 0}, {\"fieldname\": \"image\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"qty\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"stock_uom\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"uom\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"discount_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"stock_uom_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"grant_commission\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"igst_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cgst_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"sgst_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_non_advol_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"igst_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cgst_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"sgst_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_non_advol_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"asset\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"finance_book\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"discount_account\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"deferred_revenue_account\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"service_stop_date\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"enable_deferred_revenue\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"service_start_date\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"service_end_date\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_packing_weight\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_gross_weight\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_dimensions_uom_p\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_cbm\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_box\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_no_of_boxes\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_box_length\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_box_breadth\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_box_height\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_weight_per_unit_b\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_total_weight_of_boxes\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_pallet\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_no_of_pallets\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_pallet_length\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_pallet_breadth\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_pallet_height\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_weight_per_unit_p\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_total_weight_of_pallets\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"quality_inspection\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"pick_serial_and_batch\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"batch_no\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"serial_no\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"project\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"consignment_type\", \"print_hide\": 0, \"label\": \"Consignment type\"}, {\"fieldname\": \"grand_total\", \"print_hide\": 0, \"label\": \"Grand Total\"}, {\"fieldname\": \"project\", \"print_hide\": 0, \"label\": \"Project Name\"}, {\"fieldname\": \"final_doc\", \"print_hide\": 0, \"label\": \"Final Doc\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"currency_inr\", \"print_hide\": 0, \"label\": \"Currency INR\"}, {\"fieldname\": \"custom_duty\", \"print_hide\": 0, \"label\": \"Forecast \\u2013 Customs Duty Amount (By default - 45% of Grand Total)\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Quantity / Packages\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"courier__awb__bl_number__container\", \"print_hide\": 0, \"label\": \"Courier / Container\"}, {\"fieldname\": \"dimensions\", \"print_hide\": 0, \"label\": \"Dimensions\"}, {\"fieldname\": \"gross_wt\", \"print_hide\": 0, \"label\": \"Gross Wt\"}, {\"fieldname\": \"cbm\", \"print_hide\": 0, \"label\": \"CBM\"}, {\"fieldname\": \"box_summary\", \"print_hide\": 0, \"label\": \"Box Summary\"}, {\"fieldname\": \"uom\", \"print_hide\": 0, \"label\": \"UOM \"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"box_pallet_count\", \"print_hide\": 0, \"label\": \"Boxes/Pallet-Count\"}, {\"fieldname\": \"net_wt\", \"print_hide\": 0, \"label\": \"Net Wt\"}, {\"fieldname\": \"seacontainertype\", \"print_hide\": 0, \"label\": \"Sea Container Type\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Summary of Box & Pallet\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"box_summary_table\", \"print_hide\": 0, \"label\": \"Box Summary\", \"visible_columns\": [{\"fieldname\": \"box\", \"print_width\": \"200px\", \"print_hide\": 0}, {\"fieldname\": \"total_no_of_box\", \"print_width\": \"150px\", \"print_hide\": 0}, {\"fieldname\": \"weight_per_unit\", \"print_width\": \"150px\", \"print_hide\": 0}, {\"fieldname\": \"total_weight\", \"print_width\": \"150px\", \"print_hide\": 0}, {\"fieldname\": \"total_length\", \"print_width\": \"100px\", \"print_hide\": 0}, {\"fieldname\": \"total_breadth\", \"print_width\": \"150px\", \"print_hide\": 0}, {\"fieldname\": \"total_height\", \"print_width\": \"100px\", \"print_hide\": 0}]}, {\"fieldname\": \"pallet_summary\", \"print_hide\": 0, \"label\": \"Pallet Summary\", \"visible_columns\": [{\"fieldname\": \"pallet\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"total_no_of_pallet\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"weight_per_unit\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"total_weight\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"total_length\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"total_breadth\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"total_height\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"Attach Documents\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"document_attached\", \"print_hide\": 0, \"visible_columns\": [{\"fieldname\": \"\", \"print_hide\": 0}]}, {\"fieldname\": \"draft_invoice\", \"print_hide\": 0, \"label\": \"Draft Invoice\"}, {\"fieldname\": \"packing_list_2\", \"print_hide\": 0, \"label\": \"Packing List\"}, {\"fieldname\": \"payment_ttc\", \"print_hide\": 0, \"label\": \"Payment TTC\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Logistics OPS\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"date_of_shipment\", \"print_hide\": 0, \"label\": \"Date of Shipment\"}, {\"fieldname\": \"wonjin_incoterms\", \"print_hide\": 0, \"label\": \"Wonjin INCOTERMS\"}, {\"fieldname\": \"pol_seaport\", \"print_hide\": 0, \"label\": \"POL SEAPORT\"}, {\"fieldname\": \"pol_city_seaport\", \"print_hide\": 0, \"label\": \"POL City\"}, {\"fieldname\": \"pol_country_seaport\", \"print_hide\": 0, \"label\": \"POL Country\"}, {\"fieldname\": \"pol_airport\", \"print_hide\": 0, \"label\": \"POL AIRPORT\"}, {\"fieldname\": \"pol_city_airport\", \"print_hide\": 0, \"label\": \"POL City\"}, {\"fieldname\": \"pol_country_airport\", \"print_hide\": 0, \"label\": \"POL Country\"}, {\"fieldname\": \"etd\", \"print_hide\": 0, \"label\": \"ETD \"}, {\"fieldname\": \"transit_time\", \"print_hide\": 0, \"label\": \"Transit Time\"}, {\"fieldname\": \"master_bl_number__awb\", \"print_hide\": 0, \"label\": \"Master BL Number / AWB\"}, {\"fieldname\": \"carrier_name\", \"print_hide\": 0, \"label\": \"Carrier Name\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"shipping_line\", \"print_hide\": 0, \"label\": \"Shipping Line\"}, {\"fieldname\": \"supplier_incoterms\", \"print_hide\": 0, \"label\": \"Supplier INCOTERMS\"}, {\"fieldname\": \"customer_incoterms\", \"print_hide\": 0, \"label\": \"Customer INCOTERMS\"}, {\"fieldname\": \"pod_seaport\", \"print_hide\": 0, \"label\": \"POD SEAPORT\"}, {\"fieldname\": \"pod_city_seaport\", \"print_hide\": 0, \"label\": \"POD City\"}, {\"fieldname\": \"pod_country_seaport\", \"print_hide\": 0, \"label\": \"POD Country\"}, {\"fieldname\": \"pod_airport\", \"print_hide\": 0, \"label\": \"POD AIRPORT\"}, {\"fieldname\": \"pod_city_airport\", \"print_hide\": 0, \"label\": \"POD City\"}, {\"fieldname\": \"pod_country_airport\", \"print_hide\": 0, \"label\": \"POD Country\"}, {\"fieldname\": \"eta\", \"print_hide\": 0, \"label\": \"ETA\"}, {\"fieldname\": \"document_dispatch_list\", \"print_hide\": 0, \"label\": \"Document Dispatch List\"}, {\"fieldname\": \"normal_bl_number__awb\", \"print_hide\": 0, \"label\": \"Normal BL Number / AWB\"}, {\"fieldtype\": \"Section Break\", \"label\": \"ETD / ETA Revision Log\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"remarks\", \"print_hide\": 0, \"label\": \"Remarks\", \"visible_columns\": [{\"fieldname\": \"date\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"time\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"revision_on\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"remarks\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"Freight & Forwarder\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"ffw_quotation\", \"print_hide\": 0, \"label\": \"FFW Quotation\", \"visible_columns\": [{\"fieldname\": \"ffw_name\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"currency\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"quoted_value\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"quotation\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"clearance_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"total\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"percentage_on_purchase_value\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"recommended_ffw\", \"print_hide\": 0, \"label\": \"Recommended FFW\"}, {\"fieldname\": \"cdm_comment\", \"print_hide\": 0, \"label\": \"CDM Comment (Optional)\"}, {\"fieldname\": \"ffw_approved\", \"print_hide\": 0, \"label\": \"FFW Approved\"}, {\"fieldname\": \"freight_charges\", \"print_hide\": 0, \"label\": \"Freight Charges\"}, {\"fieldname\": \"cha_charges\", \"print_hide\": 0, \"label\": \"CHA Charges\"}, {\"fieldname\": \"comments\", \"print_hide\": 0, \"label\": \"Comments\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"handling_charges\", \"print_hide\": 0, \"label\": \"Port/Handling Charges\"}, {\"fieldname\": \"insurance\", \"print_hide\": 0, \"label\": \"Insurance\"}, {\"fieldname\": \"total_shipment_cost\", \"print_hide\": 0, \"label\": \"Total Shipment Cost\"}, {\"fieldname\": \"quoted_value_in_company_currency\", \"print_hide\": 0, \"label\": \"Quoted Value (INR)\"}, {\"fieldname\": \"quoted_currency\", \"print_hide\": 0, \"label\": \"Quoted Currency\"}, {\"fieldname\": \"quoted_amount\", \"print_hide\": 0, \"label\": \"Quoted Amount\"}, {\"fieldname\": \"revised_quote\", \"print_hide\": 0, \"label\": \"Revised Quote\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Customs House Agent (CHA) & Clearance\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"appointed_cha_name\", \"print_hide\": 0, \"label\": \"Appointed CHA name\"}, {\"fieldname\": \"boe_number\", \"print_hide\": 0, \"label\": \"BOE Number\"}, {\"fieldname\": \"duty_details\", \"print_hide\": 0, \"label\": \" Duty/Duty Drawback Details\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"clearance_status\", \"print_hide\": 0, \"label\": \"Clearance Status\"}, {\"fieldname\": \"boe_date\", \"print_hide\": 0, \"label\": \"BOE Date\"}, {\"fieldname\": \"payment_challan_attachment\", \"print_hide\": 0, \"label\": \"Payment Challan Attachment\"}, {\"fieldname\": \"payment_date\", \"print_hide\": 0, \"label\": \"Payment Date\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Documents Status\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"received_by\", \"print_hide\": 0, \"label\": \"Received By\"}, {\"fieldname\": \"dispatched_by\", \"print_hide\": 0, \"label\": \"Dispatched By\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"date\", \"print_hide\": 0, \"label\": \"Date&Time\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Delivery\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"vehicle_number_copy\", \"print_hide\": 0, \"label\": \"Vehicle Number\"}, {\"fieldname\": \"vehicle_type_copy\", \"print_hide\": 0, \"label\": \"Vehicle Type\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"driver_name_copy\", \"print_hide\": 0, \"label\": \"Driver Name\"}, {\"fieldname\": \"driver_contact_number_copy\", \"print_hide\": 0, \"label\": \"Driver Contact Number\"}, {\"fieldtype\": \"Section Break\", \"label\": \"E- Way Bill\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"e_way_bill__copy\", \"print_hide\": 0, \"label\": \"E-Way Bill\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"e_way_no_copy\", \"print_hide\": 0, \"label\": \"E-Way No\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Attach Bills\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"bills_copy\", \"print_hide\": 0, \"label\": \"Bills\", \"visible_columns\": [{\"fieldname\": \"bills\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"amount\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldname\": \"mode_of_dispatch_copy\", \"print_hide\": 0, \"label\": \"Mode of Dispatch\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Applicable Charges\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"taxes\", \"print_hide\": 0, \"label\": \"Taxes on Charges\", \"visible_columns\": [{\"fieldname\": \"expense_account\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"account_currency\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"exchange_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"description\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"base_amount\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"ffw\", \"print_hide\": 0, \"label\": \"FFW  Name\"}, {\"fieldname\": \"purchase_order\", \"print_hide\": 0, \"label\": \"Purchase Order\"}, {\"fieldname\": \"freight_rate\", \"print_hide\": 0, \"label\": \"Freight rate \"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"cha\", \"print_hide\": 0, \"label\": \"CHA Name\"}, {\"fieldname\": \"reached_port\", \"print_hide\": 0, \"label\": \"Reached Port\"}, {\"fieldname\": \"custom_payment\", \"print_hide\": 0, \"label\": \"Customs Duty Payment Status \"}, {\"fieldtype\": \"Section Break\", \"label\": \"Attach Supporting Document\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"support_documents\", \"print_hide\": 0, \"visible_columns\": [{\"fieldname\": \"\", \"print_hide\": 0}]}, {\"fieldname\": \"download\", \"print_hide\": 0, \"label\": \"Download\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Document for Payment Clearance\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"payment_clearance\", \"print_hide\": 0, \"label\": \"Payment Clearance\", \"visible_columns\": [{\"fieldname\": \"attach\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"Customs Clearance & Payment \"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"payment_challan\", \"print_hide\": 0, \"label\": \"Payment Challan Attachment\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"customs_clearance_status\", \"print_hide\": 0, \"label\": \"Customs Clearance Status\"}, {\"fieldname\": \"customs_clearance\", \"print_hide\": 0, \"label\": \"Payment Date\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Delivery\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"vehicle_number\", \"print_hide\": 0, \"label\": \"Vehicle Number\"}, {\"fieldname\": \"vehicle_type\", \"print_hide\": 0, \"label\": \"Vehicle Type\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"driver_name\", \"print_hide\": 0, \"label\": \"Driver Name\"}, {\"fieldname\": \"driver_contact_number\", \"print_hide\": 0, \"label\": \"Driver Contact Number\"}, {\"fieldtype\": \"Section Break\", \"label\": \"E- Way Bill\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"e_way_bill\", \"print_hide\": 0, \"label\": \"E-Way Bill \"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"e_way_no\", \"print_hide\": 0, \"label\": \"E-Way No\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Purchase Receipts\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"receipts\", \"print_hide\": 0, \"label\": \"Receipts\", \"visible_columns\": [{\"fieldname\": \"purchase_receipt\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"Attach Bills\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"bills\", \"print_hide\": 0, \"label\": \"Bills\", \"visible_columns\": [{\"fieldname\": \"bills\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"amount\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldname\": \"mode_of_dispatch\", \"print_hide\": 0, \"label\": \"Mode of Dispatch\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"attachment\", \"print_hide\": 0, \"label\": \"Attach Proof\"}, {\"fieldname\": \"date_of_delivery\", \"print_hide\": 0, \"label\": \"Date of Delivery\"}, {\"fieldname\": \"receive_by_name\", \"print_hide\": 0, \"label\": \"Receive by Name\"}, {\"fieldname\": \"closing_remarks\", \"print_hide\": 0, \"label\": \"Closing Remarks\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"invoice_attachment\", \"print_hide\": 0, \"label\": \"Invoice Attachment\"}, {\"fieldname\": \"date_of_invoice\", \"print_hide\": 0, \"label\": \"Date of Invoice\"}, {\"fieldname\": \"ffw_final\", \"print_hide\": 0, \"label\": \"FFW\"}, {\"fieldname\": \"invoice_value\", \"print_hide\": 0, \"label\": \"Invoice Value\"}]",
  "html": "<meta name=\"pdfkit-orientation\" content=\"landscape\" />\n<meta name=\"page-size\" content ='A4'/>\n\n\n    <br><br>\n\n<table border=\"1\" cellspacing=\"0\" cellpadding=\"5\" class=\"remove-bottom-border;\">\n  <tr>\n    <td colspan=1 style=\" border-right: none !important;\"><img src=\"/files/ci_img.png\" width=\"100px\" height=25%;>\n                 \n            </td>\n    <td colspan=9 style=\"border-left: none !important;font-size: 15px; font-family: 'Book Antiqua', 'Palatino Linotype', Palatino, serif; text-align:center;\">\n                        <b>LOGISTICS REQUEST APPROVAL</b>\n    </td>\n  </tr>\n  <tr>\n    <td class=\"label-cell\"><span class=\"label-text\">Department</span> :</td>\n    <td colspan=\"4\" style=\"border-right: none;\" class=\"value-cell\">LOGISTICS</td>\n    <td class=\"label-cell\" style=\"border-left: none;\"><span class=\"label-text\">Request Date</span> :</td>\n    <td colspan=\"4\" class=\"value-cell\">{{ frappe.utils.format_date(doc.creation) }}</td>\n  </tr>\n\n  <tr>\n    <td class=\"label-cell\"><span class=\"label-text\">Requester Name</span> :</td>\n    {% set name = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, [\"employee_name\"]) %}\n    <td colspan=\"4\" style=\"border-right: none;\" class=\"value-cell\">{{ name or '' }}</td>\n    <td class=\"label-cell\" style=\"border-left: none;\"><span class=\"label-text\">Doc. No</span> :</td>\n    <td colspan=\"4\" class=\"value-cell\">{{ doc.name }}</td>\n  </tr>\n\n  <tr style=\"border-top: 1px solid black !important; border-bottom: 1px solid black !important; \">\n    <td class=\"label-cell\"><span class=\"label-text\" >Customer Name</span> :</td>\n    <td colspan=\"9\" class=\"value-cell\" style=\"border-top: 1px solid black !important; border-bottom: 1px solid black !important; \">{{ doc.customer or \"\" }}</td>\n  </tr>\n\n  <tr>\n    <td class=\"label-cell\"><span class=\"label-text\">Logistic Mode</span> :</td>\n    <td colspan=\"9\" class=\"value-cell\">{{ doc.logistic_type or \"\" }}</td>\n  </tr>\n\n  <tr>\n    <td class=\"label-cell\"><span class=\"label-text\">Scope of Delivery</span> :</td>\n    <td colspan=\"9\" class=\"value-cell\">{{ doc.scope_of_delivery or \"\" }}</td>\n  </tr>\n\n  <tr>\n    <td class=\"label-cell\"><span class=\"label-text\">Shipment Mode</span> :</td>\n    <td colspan=\"9\" class=\"value-cell\">{{ doc.cargo_type or \"\" }}</td>\n  </tr>\n\n  <tr>\n    <td class=\"label-cell\"><span class=\"label-text\">Invoice No</span> :</td>\n    <td colspan=\"9\" class=\"value-cell\">{{ doc.order_no or \"\" }}</td>\n  </tr>\n\n  <tr class=\"remove-bottom-border;\" style=\"border-bottom: hidden;\">\n    <td class=\"label-cell remove-bottom-border;\" style=\"border-bottom: none !important;\"><span class=\"label-text\">Remarks</span> :</td>\n    {% set name = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, [\"employee_name\"]) %}\n    <td colspan=\"9\" style=\"border-bottom: none !important;\" class=\"value-cell remove-bottom-border;\">{{ name or '' }}</td>\n  </tr>\n</table>\n  <div class=\"container remove-top-border; \" style=\"position: relative; min-height: 261px;border-bottom: 1px solid black !important;border-left: 1px solid black !important;border-right: 1px solid black !important;\">\n    <div class=\"row remove-top-border;\" style=\"border-bottom: none !important;\">\n        <div class=\"col-xs-12 p-0 remove-top-border;\" style=\"font-size:10px;border-top: none !important;\">\n        <table class=\"remove-top-border;\" border=\"1\" cellspacing=\"0\" cellpadding=\"5\" style=\"width:100%;height:10px; border-collapse:collapse; text-align:center;border-top: none;border-right: none;border-left: none;border-bottom: none !important;border-top: none !important;\">\n\n        <tr class=\"remove-top-border;\" style=\"font-size: 10px;font-weight: bold; text-align:center; font-family: 'Book Antiqua', 'Palatino Linotype', Palatino, serif;border-left: none;border-right: none;\">\n            <td colspan=1 class=\"remove-top-border;\" style=\"width:4%;border-left: none;\">S.No</td>\n            <td class=\"remove-top-border;\" style=\"width:40%;\">Forwarder Name</td>\n            <td class=\"remove-top-border;\" style=\"width:7%;\">Volume in <br>details(CBM)</td>\n            <td class=\"remove-top-border;\" style=\"width:7%;\">Invoice Value INR</td>\n            <td class=\"remove-top-border;\" style=\"width:7%;\">Freight Charges</td>\n            <td class=\"remove-top-border;\" style=\"width:7%;\">Port/Handling Charges</td>\n            <td class=\"remove-top-border;\" style=\"width:7%;\">CHA Charges</td>\n            <td class=\"remove-top-border;\" style=\"width:7%;\">Total Expenses</td>\n            <td class=\"remove-top-border;\" style=\"width:7%;\">%</td>\n            <td class=\"remove-top-border;\" style=\"width:7%;border-right: none;\">Remarks</td>\n        </tr>\n\n{%- set max_rows = 17 -%}\n{%- set row_count = doc.ffw_quotation|length -%}\n\n{%- for item in doc.ffw_quotation -%}\n<tr style=\"font-size:10px; font-family:'Book Antiqua', 'Palatino Linotype', Palatino, serif;\">\n    {% set ffw_name = frappe.db.get_value(\"Supplier\", item.ffw_name, 'supplier_name') %}\n    <td style=\"text-align:center; border:1px solid black;border-bottom: none !important;border-left: none !important;\">{{ item.idx }}</td>\n    <td style=\"text-align:center; border:1px solid black;border-bottom: none !important;\">{{ ffw_name }}</td>\n    <td style=\"text-align:center; border:1px solid black;border-bottom: none !important;\">{{ doc.cbm or \"\" }}</td>\n    {% set tot = frappe.db.get_value(\"Sales Invoice\", {\"name\": doc.order_no}, \"base_grand_total\") %}\n    <td style=\"text-align:right; border:1px solid black;border-bottom: none !important;\">{{ frappe.utils.fmt_money(tot) }}</td>\n    <td style=\"text-align:right; border:1px solid black;border-bottom: none !important;\">{{ item.freight_charges }}</td>\n    <td style=\"text-align:right; border:1px solid black;border-bottom: none !important;\">{{ item.porthandling_charges }}</td>\n    <td style=\"text-align:right; border:1px solid black;border-bottom: none !important;\">{{ item.cha_charges }}</td>\n    <td style=\"text-align:right; border:1px solid black;border-bottom: none !important;\">{{ frappe.utils.fmt_money(item.total_shipment_cost) }}</td>\n    {% set per = ((item.quoted_value / doc.grand_total) * 100) %}\n    <td style=\"text-align:right; border:1px solid black;border-bottom: none !important;\">{{ \"{:.2f}%\".format(per) }}</td>\n    <td style=\"border-right:1px solid black; border-top:1px solid black;border-bottom: none !important;\"></td>\n</tr>\n{%- endfor -%}\n\n{%- for i in range(row_count, max_rows) -%}\n<tr class=\"remove-bottom-border;\" style=\"border-bottom: none !important;\">\n    <tr class=\"remove-bottom-border\"style=\"font-size:10px;border-left: none !important;border: 1px solid black;{% if loop.last %}border-bottom:1px solid black;{% else %}border-bottom:none !important;{% endif %} border-top:none;\">\n    <td class=\"no-top-bottom remove-bottom-border\" style=\"text-align:center;font-size:10px;border: 1px solid black;border-bottom: none !important;border-left: none !important;\"></td>\n    <td class=\"no-top-bottom remove-bottom-border\" style=\"text-align:center;font-size:10px;border: 1px solid black;border-bottom: none !important;border-left: none !important;\"></td>\n    <td class=\"no-top-bottom remove-bottom-border\" style=\"text-align:center;font-size:10px;border: 1px solid black;border-bottom: none !important;border-left: none !important;\"></td>\n    <td class=\"no-top-bottom remove-bottom-border\" style=\"text-align:center;font-size:10px;border: 1px solid black;border-bottom: none !important;border-left: none !important;\"></td>\n    <td class=\"no-top-bottom remove-bottom-border\" style=\"text-align:center;font-size:10px;border: 1px solid black;border-bottom: none !important;border-left: none !important;\"></td>\n    <td class=\"no-top-bottom remove-bottom-border\" style=\"text-align:center;font-size:10px;border: 1px solid black;border-bottom: none !important;border-left: none !important;\"></td>\n    <td class=\"no-top-bottom remove-bottom-border\" style=\"text-align:center;font-size:10px;border: 1px solid black;border-bottom: none !important;border-left: none !important;\"></td>\n    <td class=\"no-top-bottom remove-bottom-border\" style=\"text-align:center;font-size:10px;border: 1px solid black;border-bottom: none !important;border-left: none !important;\"></td>\n    <td class=\"no-top-bottom remove-bottom-border\" style=\"text-align:center;font-size:10px;border: 1px solid black;border-bottom: none !important;border-left: none !important;\"></td>\n    <td class=\"remove-bottom-border\" style=\"border: 1px solid black;border-bottom:none !important;border-top: none !important;border-right:none !important;line-height:0.4;\"></td>\n</tr>\n{%- endfor -%}\n\n\n    </table>\n   </div></div></div> \n    <table class=\"remove-top-border;\" border=1 width=100% style=\"border-top: none;border-bottom: none;page-break-inside: avoid;break-inside: avoid;border-top: none !important;\">\n        <!--<tr class='remove-top-border;' style=\"border-top: none;\">-->\n        <!--    <td class=\"remove-top-border;\" colspan=10 style=\"border-top: 1px solid black !important;border-bottom: none;\">&nbsp;</td>-->\n        <!--</tr>-->\n        <tr style=\"font-size: 10px;  font-family: 'Book Antiqua', 'Palatino Linotype', Palatino, serif; text-align:left;border-top: none !important;\">\n            <td style=\"border-right: none;border-top: none;border-bottom: none;border-top: none !important;\"><b>ETD</b>&nbsp;:&nbsp;{{frappe.format(doc.etd,{'fieldtype': 'Date'}) or \"\"}}</td>\n            <td style=\"border-right: none;border-left: none;border-top: none;border-bottom: none;border-top: none !important;\"><b>ETA</b>&nbsp;:&nbsp;{{frappe.format(doc.eta,{'fieldtype': 'Date'}) or \"\"}}</td>\n            <td style=\"border-left: none;border-top: none;border-bottom: none;border-top: none !important;\"><b>Transit Time</b>&nbsp;:&nbsp;{{doc.transit_time or \"\"}}</td>\n        </tr>\n        <!--<tr style=\"border-top: none;\">-->\n        <!--    <td colspan=10 style=\"border-top: none;border-bottom: none;\">&nbsp;</td>-->\n        <!--</tr>-->\n    <tr style=\"border-top: none;\">\n        {%set supplier_name = frappe.db.get_value(\"Supplier\",doc.recommended_ffw,'supplier_name') %}\n            <td colspan=10 style=\"border-top: none;border-bottom: 1px solid black !important;\">Conclusion : After a several round of discussion we have finalized the deal with &nbsp;<b>{{supplier_name}}</b></td>\n        </tr>\n        </table>\n\n\n        <table class =\"remove-top-border\" border=\"1\" cellspacing=\"0\" cellpadding=\"5\" style=\"width:100%;height:10px; border-collapse:collapse; text-align:center;page-break-inside: avoid;break-inside: avoid;\">\n        <tr>\n    <tr class =\"remove-top-border\" style=\"font-size: 10px;font-weight: bold;text-align:center; font-family: 'Book Antiqua', 'Palatino Linotype', Palatino, serif;\">\n            {% if doc.cargo_type == \"Air\" and doc.scope_of_delivery==\"Wonjin\" %}\n                <td colspan=1 class =\"remove-top-border\" style=\"width:12.5%\">Prepared</td>\n                <td colspan=1 class =\"remove-top-border\" style=\"width:12.5%\">Finance</td>\n                <td colspan=1 class =\"remove-top-border\" style=\"width:12.5%\">BMD</td>\n                <td colspan=1 class =\"remove-top-border\" style=\"width:12.5%\">CMD</td>\n                <td colspan=1 class =\"remove-top-border\" style=\"width:12.5%\">SMD</td>\n            {% elif doc.cargo_type == \"Sea\" and doc.scope_of_delivery==\"Wonjin\"  %}\n               <td colspan=\"1\" style=\"width:12.5%\">Prepared</td>\n        <td colspan=\"2\" class =\"remove-top-border\" style=\"width:12.5%\">Finance</td>\n        <td colspan=\"2\" class =\"remove-top-border\" style=\"width:12.5%\">CMD</td>\n            {% elif doc.scope_of_delivery==\"Customer\" %} \n               <td colspan=1 class =\"remove-top-border\" style=\"width:12.5%\">Prepared</td>\n                <td colspan=2 class =\"remove-top-border\" style=\"width:12.5%\">Finance</td>\n                <td colspan=2 class =\"remove-top-border\" style=\"width:12.5%\">HOD</td>\n            {% endif %}\n        </tr>\n        <tr style=\"font-size: 10px; font-family: 'Book Antiqua', 'Palatino Linotype', Palatino, serif; text-wrap:None;\">\n           \n            \n            {% if doc.cargo_type == \"Air\" and doc.scope_of_delivery==\"Wonjin\"  %} \n            \n            \n               {%set prepared_by = frappe.db.get_value(\"Employee\",{\"user_id\": doc.owner},['custom_digital_signature']) %}\n                    <td colspan=1 rowspan=4 style=\"height:80px; width:12.5%; vertical-align:middle;\">\n                        {% if prepared_by %}\n                        <img src=\"{{prepared_by}}\" style=\"height:70px; width:80%; object-fit:contain;\">\n        \n                        {% endif %}\n                    </td>\n                    \n                    \n                {% set hod = frappe.db.get_value(\"Employee\", {\"name\": 'S0189'}, [\"custom_digital_signature\"]) %}\n                \n                <td colspan=1 rowspan=4 style=\"height:80px; width:12.5%; vertical-align:middle;\">\n                    {% if hod %}\n                    <img src=\"{{hod}}\" style=\"height:70px; width:80%; object-fit:contain;\">\n    \n                    {% endif %}\n                </td>\n                \n                    \n                {% set bmd = frappe.db.get_value(\"Employee\", {\"name\": \"BMD01\"}, [\"custom_digital_signature\"]) %}\n            \n                <td colspan=1 rowspan=4 style=\"height:80px; width:12.5%; vertical-align:middle;\">\n                    {% if bmd %}\n                    <img src=\"{{bmd}}\" style=\"height:70px; width:80%; object-fit:contain;\">\n    \n                    {% endif %}\n                </td>\n                {% set cmd = frappe.db.get_value(\"Employee\", {\"name\": 'CMD01'}, [\"custom_digital_signature\"]) %}\n            \n                <td colspan=1 rowspan=4 style=\"height:80px; width:12.5%; vertical-align:middle;\">\n                    {% if cmd %}\n                    <img src=\"{{cmd}}\" style=\"height:70px; width:80%; object-fit:contain;\">\n    \n                    {% endif %}\n                </td>\n                {% set smd = frappe.db.get_value(\"Employee\", {\"name\": 'SMD01'}, [\"custom_digital_signature\"]) %}\n            \n                <td colspan=1 rowspan=4 style=\"height:80px; width:12.5%; vertical-align:middle;\">\n                    {% if smd %}\n                    <img src=\"{{smd}}\" style=\"height:70px; width:80%; object-fit:contain;\">\n    \n                    {% endif %}\n                </td>\n            {% elif doc.cargo_type == \"Sea\" and doc.scope_of_delivery==\"Wonjin\"  %}\n                          <td colspan=\"1\" rowspan=\"4\" style=\"height:80px; width:12.5%; vertical-align:middle;\">\n            {% set prepared_by = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n            {% if prepared_by %}\n                <img src=\"{{ prepared_by }}\" style=\"height:70px; width:80%; object-fit:contain;\">\n            {% endif %}\n        </td>\n\n        <!-- HOD -->\n        <td colspan=\"2\" rowspan=\"4\" style=\"height:80px; width:12.5%; vertical-align:middle;\">\n            {% set hod = frappe.db.get_value(\"Employee\", {\"name\": 'S0189'}, \"custom_digital_signature\") %}\n            {% if hod %}\n                <img src=\"{{ hod }}\" style=\"height:70px; width:80%; object-fit:contain;\">\n            {% endif %}\n        </td>\n\n        <!-- CMD -->\n        <td colspan=\"2\" rowspan=\"4\" style=\"height:80px; width:12.5%; vertical-align:middle;\">\n            {% set cmd = frappe.db.get_value(\"Employee\", {\"name\": 'CMD01'}, \"custom_digital_signature\") %}\n            {% if cmd %}\n                <img src=\"{{ cmd }}\" style=\"height:70px; width:80%; object-fit:contain;\">\n            {% endif %}\n        </td>\n            {% elif doc.scope_of_delivery==\"Customer\" %}\n            \n            \n            {%set prepared_by = frappe.db.get_value(\"Employee\",{\"user_id\": doc.owner},['custom_digital_signature']) %}\n                    <td colspan=1 rowspan=4 style=\"height:80px; width:12.5%; vertical-align:middle;\">\n                        {% if prepared_by %}\n                        <img src=\"{{prepared_by}}\" style=\"height:70px; width:80%; object-fit:contain;\">\n        \n                        {% endif %}\n                    </td>\n\n                {% set finance = frappe.db.get_value(\"Employee\", {\"name\": 'S0189'}, [\"custom_digital_signature\"]) %}\n                \n                <td colspan=2 rowspan=4 style=\"height:80px; width:12.5%; vertical-align:middle;\">\n                    {% if finance %}\n                    <img src=\"{{finance}}\" style=\"height:70px; width:80%; object-fit:contain;\">\n    \n                    {% endif %}\n                </td>\n                {% set hod = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, [\"custom_digital_signature\"]) %}\n                \n                <td colspan=2 rowspan=4 style=\"height:80px; width:12.5%; vertical-align:middle;\">\n                    {% if hod %}\n                    <img src=\"{{hod}}\" style=\"height:70px; width:80%; object-fit:contain;\">\n    \n                    {% endif %}\n                </td>\n            \n            \n            {% endif %}\n            \n        </tr>\n</table>\n<footer id=\"footer-html\" style=\"padding:0; margin:0;\">\n   <table width=\"100%\" style=\"border:none;\">\n       <tr>\n           <td width=\"100%\" style=\"text-align:center; font-size:10px;border:none; padding:0; margin:0;\">\n               <i>Page <span class=\"page\"></span> / <span class=\"topage\"></span></i>\n           </td>\n       </tr>\n   </table>\n</footer>\n\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-09-27 11:32:09.017062",
  "module": "ONEGENE",
  "name": "FFW Print",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Material Transfer",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\r\n.page-wrapper {\r\n    border: 2px solid black;\r\n    box-sizing: border-box;\r\n    min-height: 257mm; /* full page height */\r\n    max-width: 200mm;\r\n    margin: 0 auto;\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.content-wrapper {\r\n    flex: 1; /* grow to fill space above footer */\r\n}\r\n\r\n.item-table {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n    margin-top:-5px;\r\n}\r\n\r\n.item-table th, .item-table td {\r\n    border: 1px solid black;\r\n    padding: 4px;\r\n    text-align: center;\r\n}\r\n\r\n.item-table td.right-align {\r\n    text-align: right;\r\n}\r\n\r\n.signature-footer {\r\n    margin-top: auto; /* push to bottom */\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n}\r\n\r\n.signature-footer td {\r\n    font-weight: 700;\r\n    margin-bottom:-80px;\r\n    border-top: 1px solid black;\r\n}\r\n</style>\r\n\r\n{% set total_items = doc.item|length %}\r\n{% for i in range(0, total_items, 25) %}\r\n    {% set batch = doc.item[i:i+25] %}\r\n{% set last_index = total_items - 1 %}\r\n{% set is_last_batch = (i + batch|length) == total_items %}\r\n\r\n    <div class=\"page-wrapper\">\r\n        <div class=\"content-wrapper\">\r\n\r\n            {% if i == 0 %}\r\n                <!-- Header (only on first page) -->\r\n                <table width=\"100%\" style=\"border-bottom-style: hidden; margin-bottom:5px;border-top:hidden;border-left:hidden;border-right:hidden\">\r\n                    <tr style=\"border: solid 1px black;\">\r\n                        <td><img src=\"/files/ci_img.png\" width=\"120px\"></td>\r\n                        <td style=\"text-align: center; font-weight: 700; font-size: 18px;\">Material Request vs Actual</td>\r\n                        <td style=\"text-align: right;\">DOCUMENT NO : STR\\R\\04</td>\r\n                    </tr>\r\n                </table>\r\n\r\n                <!-- MR Info (only on first page) -->\r\n                <table style=\"width:100%; border-collapse: collapse;margin-top:-4px;\">\r\n                    <tr>\r\n                        <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;border-left:hidden; font-size: 10px;\">\r\n                            <p style=\"line-height:1\">\r\n                                <span style=\"display:inline-block; width:90px;border-left:hidden\">Department</span>: {{ doc.department or '' }}<br><br>\r\n                                <span style=\"display:inline-block; width:90px;border-left:hidden\">Requested By</span>: {{ doc.requester_name or '' }}<br><br>\r\n                                <span style=\"display:inline-block; width:90px;border-left:hidden\">Warehouse</span>: {{ doc.default_source_warehouse or '' }}\r\n                            </p>\r\n                        </td>\r\n                        <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;border-right:hidden; font-size: 10px;\">\r\n                            <p style=\"line-height:1\">\r\n                                <span style=\"display:inline-block; width:80px;border-right:hidden\">MR No</span>: {{doc.name}}<br><br>\r\n                                <span style=\"display:inline-block; width:80px;border-right:hidden\">MR Date</span>: {{ frappe.utils.format_date(doc.posting_date, \"dd-MM-yyyy\") or '' }}\r\n                            </p>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            {% else %}\r\n                <div style=\"page-break-before: always;\"></div>\r\n            {% endif %}\r\n\r\n            <!-- Items Table -->\r\n            <table class=\"item-table\">\r\n                <tr>\r\n                    <th style=\"border-left:hidden; font-size: 9px;\" width=\"5%\">S.No.</th>\r\n                    <th style=\"font-size: 9px;\" width=\"36%\">Item Description</th>\r\n                    <th style=\"font-size: 9px;\" width=\"8%\">Requested Qty</th>\r\n                    <th style=\"font-size: 9px;\" width=\"8%\">Issued Qty</th>\r\n                    <th style=\"font-size: 9px;\" width=\"8%\">Bal. Recipt Qty</th>\r\n                    <th style=\"font-size: 9px;\" width=\"15%\">Issued Batch</th>\r\n                    <th style=\"border-right:hidden; font-size: 9px;\" width=\"20%\">Issued By</th>\r\n                </tr>\r\n                {% for row in batch %}\r\n                <tr>\r\n                    <td class=\"right-align;\" style=\"border-left:hidden; font-size: 9px;\">{{ loop.index + i }}</td>\r\n                    <td style=\"font-size: 9px; text-align: left;\">{{row.item_code or ''}} - {{row.item_name or ''}}</td>\r\n                    <td class=\"right-align\" style=\"font-size: 9px;\">{{row.requested_qty or 0}}</td>\r\n                    <td class=\"right-align\" style=\"font-size: 9px;\">{{row.issued_qty or 0}}</td>\r\n                                    <td class=\"right-align\" style=\"font-size: 9px;\">{{row.balance_qty_to_receive or 0}}</td>\r\n                                    <td class=\"right-align\" style=\"font-size: 9px;\">{{ doc.material_request or '' }}</td>\r\n\r\n                    <td style=\"border-right:hidden;text-align:left; font-size: 9px;\">{{doc.issued_by_name or 0}}</td>\r\n                </tr>\r\n                {% endfor %}\r\n                {% if is_last_batch %}\r\n<tr>\r\n    <td colspan=\"2\" style=\"font-weight:bold; text-align:center; border-left:hidden; border-right:hidden; font-size: 9px;\">Total</td>\r\n    <td colspan=1 style=\"font-weight:bold; text-align:right; border-right:hidden; font-size: 9px;\">\r\n        {{ doc.item | sum(attribute='requested_qty') }}\r\n    </td>\r\n     <td colspan=1 style=\"font-weight:bold; text-align:right; border-right:hidden; font-size: 9px;\">\r\n        {{ doc.item | sum(attribute='issued_qty') }}\r\n    </td>\r\n     <td colspan=1 style=\"font-weight:bold; text-align:right; border-right:hidden; font-size: 9px;\">\r\n        {{ doc.item | sum(attribute='balance_qty_to_receive') }}\r\n    </td>\r\n     <td colspan=1 style=\"font-weight:bold; text-align:right; border-right:hidden; font-size: 9px;\">\r\n        0\r\n    </td>\r\n     <td colspan=1 style=\"font-weight:bold; text-align:right; border-right:hidden; font-size: 9px;\">\r\n        \r\n    </td>\r\n    \r\n</tr>\r\n{% endif %}\r\n\r\n            </table>\r\n        </div>\r\n    </div>\r\n{% endfor %}\r\n<footer id=\"footer-html\">\r\n   <table width=\"100%\" style=\"border:none;\">\r\n       <tr>\r\n           <td width=\"100%\" style=\"text-align:center; font-size:10px;border:none; padding:0; margin:0;\">\r\n               <i>Page <span class=\"page\"></span> / <span class=\"topage\"></span></i>\r\n           </td>\r\n       </tr>\r\n   </table>\r\n</footer>\r\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\">\r\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-10-03 10:09:27.343696",
  "module": "ONEGENE",
  "name": "Material Transfer",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n@page {\n    size: A4;\n    margin: 5mm 5mm 5mm 5mm; /* top right bottom left */\n}\n\n.page-wrapper {\n    border: 2px solid black;\n    padding: 2mm;\n    box-sizing: border-box;\n    min-height: 265mm; /* full page height */\n    max-width:200mm;\n    margin-top:0mm;\n    \n}\n.content {\n    margin-bottom: 50mm; /* leave space for repeated footer */\n        width: 100%;\n\n}\n.fixed-footer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    padding: 2mm 5mm;\n    box-sizing: border-box;\n    border-top:none;\n    font-size: 10px;\n}\n\n.footer {\n    display: block;\n    position: running(footer); /* makes it a repeated element on every page */\n}\n/* tables inside footer */\n.fixed-footer table {\n    width: 100%;\n    border-collapse: collapse;\n}\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n            page-break-inside: avoid;\n\n    }\n    td, th {\n        border: 1px solid black;\n    }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n        width: 100%;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<div class=\"page-wrapper\">\n    <div class=\"content\">\n\n<table>\n    <tr>\n        <td style=\"width: 15%;text-align:center;border-right:none;border-bottom:none;border-bottom:bold\">\n            <div style=\"padding-top:8px;\">\n                <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\n            </div>\n        </td>\n        <td style=\"width:30%;font-size:20px;text-align:center;border-right:none;border-bottom:none;padding-top:13px\" nowrap>\n            <div class=\"header-title\" style=\"padding-top:10px\">INTER OFFICE MEMO (I O M)</div>         </td>\n        <td style=\"width:15%;white-space:nowrap;border-bottom:none;font-weight:bold;\">\n    <div style=\"padding-top:13px;border-bottom:none;\">\n        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\n            ✔\n        </span>\n        {{ doc.priority }}\n    </div>\n</td>\n\n\n\n    </tr>\n</table>\n{% set emp_name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table style=\"width:100%; border-collapse: collapse; margin-top:-16px;\">\n    <tr>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;\">\n           <p style=\"line-height:1\">\n    <span style=\"display:inline-block; width:80px;\">Dept.From </span>:&nbsp;{{ doc.department_from or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Dept.To</span>:&nbsp; {{ doc.department_to or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Created By</span>: &nbsp;{{emp_name or '' }}<br><br>\n    \n   \n</p>\n\n       </td>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;\">\n           <p style=\"line-height:1\">\n            <span style=\"display:inline-block; width:80px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Doc.No</span>: {{ doc.name }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Instructed By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\n       </p></td>\n   </tr>\n    \n</table>\n<table style=\"margin-top:-30px; width: 100%;\">\n    <tr>\n        <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\n            SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;\n            <span style=\"display: inline-block; width: 60%; text-align: center;\">\n                {{ doc.iom_type or 'NA' }}\n            </span>\n        </td>\n    </tr>\n</table>\n{% set label_width = \"130px\" %} <!-- adjust as needed -->\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier Group</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.supplier_group or 'NA' }}</span>\n</div>\n    {% set supplier_name=frappe.db.get_value(\"Supplier\",{\"name\":doc.supplier},\"supplier_name\") %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier Name</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.supplier_name or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Currency</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.currency or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Quotation No & Date</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{doc.approval_tools_and_dies_invoice[0].quotation_no_new or \"\"}}/&nbsp;{{frappe.format(doc.approval_tools_and_dies_invoice[0].quotation_date,{\"fieldtype\":\"Date\"}) or \"\"  }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">HSN Code</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{doc.approval_tools_and_dies_invoice[0].hsn_code or \"\"}}</span>\n</div>\n{% if doc.supplier_group!=\"Importer\" %}\n   {% set ns = namespace(gst_rates=[]) %}  \n{% if doc.taxes %}\n    {% for t in doc.taxes %}\n        {% if t.rate %}\n            {% set ns.gst_rates = ns.gst_rates + [t.rate|string + '%'] %}\n        {% endif %}\n    {% endfor %}\n    <div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">GST Rate</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ ns.gst_rates | join(' + ') or '' }}</span>\n</div>\n{% endif %}\n    {% endif %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Reason For Update</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.subject or 'NA' }}</span>\n</div>\n        <br>\n   <table style=\"width:100%;border-collapse:collapse;\" border=\"1\">\n    <tr>\n        <td style=\"background-color:#fec76f; border:1px solid black; text-align:center;\">SI No</td>\n        <td style=\"background-color:#fec76f; border:1px solid black; text-align:center;\">Tool Code</td>\n        <td style=\"background-color:#fec76f; border:1px solid black; text-align:center;\">Tool Name</td>\n        <td style=\"background-color:#fec76f; border:1px solid black; text-align:center;\">Qty</td>\n        <td style=\"background-color:#fec76f; border:1px solid black; text-align:center;\">PO Price</td>\n        <td style=\"background-color:#fec76f; border:1px solid black; text-align:center;\">Cost</td>\n    </tr>\n    {% for i in doc.approval_tools_and_dies_invoice %}\n    <tr>\n        <td style=\"border:1px solid black; text-align:left;\">{{i.idx}}</td>\n        <td style=\"border:1px solid black; text-align:left;\">{{i.part_no or \"\"}}</td>\n        <td style=\"border:1px solid black; text-align:left;\">{{i.part_name or \"\"}}</td>\n        <td style=\"border:1px solid black; text-align:center;\">{{i.qty or \"\"}}</td>\n        <td style=\"border:1px solid black; text-align:right;\">{{frappe.utils.fmt_money(i.quotation_price or 0 , currency=doc.currency)}}</td>\n        <td style=\"border:1px solid black; text-align:right;\">{{frappe.utils.fmt_money(i.tool_cost or 0 , currency=doc.currency)}}</td>\n    </tr>\n    {% endfor %}\n    <tr>\n        <td colspan=\"5\" style=\"border:1px solid black; text-align:center;\" ><b>Total Tool Cost</b></td>\n        <td colspan=\"1\" style=\"border:1px solid black; text-align:right;font-weight:bold\">{{frappe.utils.fmt_money(doc.total_tool_cost or 0 , currency=doc.currency)}}</td>\n    </tr>\n</table>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;white-space:nowrap\"><u>TERMS & CONDITIONS</u></span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Payment Terms</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.payment_terms or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Incoterms</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.wonjin_incoterms or 'NA' }}</span>\n</div>\n<div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n</div>\n    <div class=\"fixed-footer\">\n\n{% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n       <table>\n  {% set erp_signature = frappe.db.get_value(\"Employee\", {\"name\":\"S0330\"}, \"custom_digital_signature\") %}\n\n     {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n     {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\n         {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"BMD01\"}, \"custom_digital_signature\") %}\n        {% set cmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"CMD01\"}, \"custom_digital_signature\") %}\n         {% set smd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"SMD01\"}, \"custom_digital_signature\") %}\n       {% set gm_signature = frappe.db.get_value(\"Employee\", {\"name\":\"KR002\"}, \"custom_digital_signature\") %}\n       {% set erp_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.erp_team}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.plant_head}, \"custom_digital_signature\") %}\n        {% set material_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.material_manager}, \"custom_digital_signature\") %}\n\n       {% set marketing_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.marketing_manager}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.finance}, \"custom_digital_signature\") %}\n    \n    <tr >\n        <td  style=\"border:1px solid black; text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac;\">Prepared</td>\n        <td  style=\"border:1px solid black; text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac; \">HOD</td>\n        <td  style=\"border:1px solid black; text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac; \">ERP Team</td>\n            <td  style=\"border:1px solid black; text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac; \">Marketing Manager</td>\n\n        <td  style=\"border:1px solid black; text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac; \">Plant Head</td>\n        <td  style=\"border:1px solid black; text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac; \">GM</td>\n        <td  style=\"border:1px solid black; text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac; \">Finance</td>\n        <td  style=\"border:1px solid black; text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac; \">BMD</td>\n        <td  style=\"border:1px solid black; text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac; \">CMD</td>\n    </tr>\n    <tr style=\"height: 50px;\">\n        <td colspan=\"1\" style=\"text-align:center;font-size:15px; border:1px solid black;\">\n             {% if doc.workflow_state==\"Draft\" or doc.workflow_state == \"Pending For HOD\" or doc.workflow_state==\"Pending for BMD\" or doc.workflow_state==\"Pending for Finance\" or doc.workflow_state==\"Pending for GM\" or doc.workflow_state==\"Pending for Plant Head\" or doc.workflow_state==\"Pending for CMD\" or doc.workflow_state == \"Pending for ERP Team\" or doc.workflow_state == \"Approved\"%}\n                {% if prepared_signature %}\n                    <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\n                    {%else%}\n                    <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n                {% endif %}\n                <br>\n                {% if doc.date_time %}\n                {% set formatted_date = frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") %}\n                    <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\n                {% endif %}\n            {% endif %}    \n                \n        </td>\n        \n        \n        <td colspan=\"1\" style=\"text-align:center;font-size:15px; border:1px solid black;\">\n        \n           {% if doc.workflow_state==\"Pending for BMD\" or doc.workflow_state==\"Pending for Finance\" or doc.workflow_state==\"Pending for GM\" or doc.workflow_state==\"Pending for Plant Head\" or doc.workflow_state==\"Pending for CMD\" or doc.workflow_state == \"Pending for ERP Team\" or doc.workflow_state == \"Approved\"%}\n                        {% if hod_signature %}\n                    <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\n                    {%else%}\n                    <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n                {% endif %}\n                <br>\n                {% if doc.hod_approved_on %}\n                    {% set formatted_date = frappe.utils.formatdate(doc.hod_approved_on, \"dd-MM-yyyy\") %}\n                    {% set formatted_time = frappe.utils.format_datetime(doc.hod_approved_on, \"HH:mm:ss\") %}\n                    <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n                {% endif %}\n            {% endif %}    \n        </td>\n        \n        \n        <td colspan=\"1\" style=\"text-align:center;font-size:15px; border:1px solid black;\">\n            \n           {% if doc.workflow_state == \"Pending for Marketing Manager\" or \"Pending for Plant Head\" or doc.workflow_state == \"Pending for GM\" or doc.workflow_state == \"Pending for Finance\" or doc.workflow_state == \"Pending for BMD\" or doc.workflow_state == \"Pending for CMD\" or doc.workflow_state == \"Approved\"%}\n            \n                    {% if erp_signature %}\n                        <img src=\"{{ erp_signature }}\" style=\"height:50px;\">\n                        {%else%}\n                        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n                    {% endif %}\n                    <br>\n                    {% if doc.erp_team_approved_on %}\n                        {% set formatted_date = frappe.utils.formatdate(doc.erp_team_approved_on, \"dd-MM-yyyy\") %}\n                        {% set formatted_time = frappe.utils.format_datetime(doc.erp_team_approved_on, \"HH:mm:ss\") %}\n                        <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n                    {% endif %}\n            \n           {% endif %} \n    \n            \n        </td>\n         <td colspan=\"1\" style=\"text-align:center;font-size:15px; border:1px solid black;\">\n            \n           {% if doc.workflow_state ==\"Pending for Plant Head\" or doc.workflow_state == \"Pending for GM\" or doc.workflow_state == \"Pending for Finance\" or doc.workflow_state == \"Pending for BMD\" or doc.workflow_state == \"Pending for CMD\" or doc.workflow_state == \"Approved\"%}\n            \n                    {% if erp_signature %}\n                        <img src=\"{{ marketing_signature }}\" style=\"height:50px;\">\n                        {%else%}\n                        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n                    {% endif %}\n                    <br>\n                    {% if doc.marketing_manager_approved_on %}\n                        {% set formatted_date = frappe.utils.formatdate(doc.marketing_manager_approved_on, \"dd-MM-yyyy\") %}\n                        {% set formatted_time = frappe.utils.format_datetime(doc.marketing_manager_approved_on, \"HH:mm:ss\") %}\n                        <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n                    {% endif %}\n            \n           {% endif %} \n    \n            \n        </td>\n        \n        <td colspan=\"1\" style=\"text-align:center;font-size:15px; border:1px solid black;\">\n        \n        {% if doc.workflow_state == \"Pending for GM\"  or doc.workflow_state == \"Pending for Finance\" or doc.workflow_state == \"Pending for BMD\" or doc.workflow_state == \"Pending for CMD\" or doc.workflow_state == \"Approved\"%}\n            \n                    {% if plant_signature %}\n                <img src=\"{{ plant_signature }}\" style=\"height:50px;\">\n                {%else%}\n                <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n            {% endif %}\n            <br>\n            {% if doc.plant_head_approved_on %}\n                {% set formatted_date = frappe.utils.formatdate(doc.plant_head_approved_on, \"dd-MM-yyyy\") %}\n                {% set formatted_time = frappe.utils.format_datetime(doc.plant_head_approved_on, \"HH:mm:ss\") %}\n                <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n            {% endif %}\n        {% endif %}    \n            \n        </td>\n        \n        \n        <td colspan=\"1\" style=\"text-align:center;font-size:15px; border:1px solid black;\">\n        {% if doc.workflow_state == \"Pending for Finance\" or doc.workflow_state == \"Pending for BMD\" or doc.workflow_state == \"Pending for CMD\" or doc.workflow_state == \"Approved\"%}\n                    {% if gm_signature %}\n                <img src=\"{{ gm_signature }}\" style=\"height:50px;\">\n                {%else%}\n                <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n            {% endif %}\n            <br>\n            {% if doc.gm_approved_on %}\n                {% set formatted_date = frappe.utils.formatdate(doc.gm_approved_on, \"dd-MM-yyyy\") %}\n                {% set formatted_time = frappe.utils.format_datetime(doc.gm_approved_on, \"HH:mm:ss\") %}\n                <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n            {% endif %}\n        {% endif %}    \n        </td>\n        \n        \n        <td colspan=\"1\" style=\"text-align:center;font-size:15px; border:1px solid black;\">\n        {% if doc.workflow_state == \"Pending for BMD\" or doc.workflow_state == \"Pending for CMD\" or doc.workflow_state == \"Approved\"%}\n                    {% if finance_signature %}\n                <img src=\"{{ finance_signature }}\" style=\"height:50px;\">\n                {%else%}\n                <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n            {% endif %}\n            <br>\n            {% if doc.finance_approved_on %}\n                {% set formatted_date = frappe.utils.formatdate(doc.finance_approved_on, \"dd-MM-yyyy\") %}\n                {% set formatted_time = frappe.utils.format_datetime(doc.finance_approved_on, \"HH:mm:ss\") %}\n                <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n            {% endif %}\n        {% endif %}    \n        </td>\n        \n        \n        <td colspan=\"1\" style=\"text-align:center;font-size:15px; border:1px solid black;\">\n           {% if doc.workflow_state == \"Pending for CMD\" or doc.workflow_state == \"Approved\"%}\n                    {% if bmd_signature %}\n                    <img src=\"{{ bmd_signature }}\" style=\"height:50px;\">\n                    {%else%}\n                    <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n                {% endif %}\n                <br>\n                {% if doc.bmd_approved_on %}\n                    {% set formatted_date = frappe.utils.formatdate(doc.bmd_approved_on, \"dd-MM-yyyy\") %}\n                    {% set formatted_time = frappe.utils.format_datetime(doc.bmd_approved_on, \"HH:mm:ss\") %}\n                    <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n                {% endif %}\n            {% endif %}     \n        </td>\n        \n        \n        <td colspan=\"1\" style=\"text-align:center;font-size:15px; border:1px solid black;\">\n            {% if doc.workflow_state == \"Approved\" %}\n                    {% if cmd_signature %}\n                <img src=\"{{ cmd_signature }}\" style=\"height:50px;\">\n                {%else%}\n                <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n            {% endif %}\n            <br>\n            {% if doc.cmd_approved_on %}\n                {% set formatted_date = frappe.utils.formatdate(doc.cmd_approved_on, \"dd-MM-yyyy\") %}\n                {% set formatted_time = frappe.utils.format_datetime(doc.cmd_approved_on, \"HH:mm:ss\") %}\n                <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n            {% endif %}\n           {% endif %} \n        </td>\n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n</div>\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 18:02:41.196812",
  "module": "ONEGENE",
  "name": "Approval for Tools and Dies Invoice",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n@page {\n    size: A4;\n    margin: 5mm 5mm 5mm 5mm; /* top right bottom left */\n}\n\n.page-wrapper {\n    border: 2px solid black;\n    padding: 2mm;\n    box-sizing: border-box;\n    min-height: 265mm; /* full page height */\n    max-width:200mm;\n    margin-top:0mm;\n    \n}\n.content {\n    margin-bottom: 50mm; /* leave space for repeated footer */\n        width: 100%;\n\n}\n.fixed-footer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    padding: 2mm 5mm;\n    box-sizing: border-box;\n    border-top:none;\n    font-size: 10px;\n}\n\n.footer {\n    display: block;\n    position: running(footer); /* makes it a repeated element on every page */\n}\n/* tables inside footer */\n.fixed-footer table {\n    width: 100%;\n    border-collapse: collapse;\n}\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n            page-break-inside: avoid;\n\n    }\n    td, th {\n        border: 1px solid black;\n    }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n        width: 100%;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<div class=\"page-wrapper\">\n    <div class=\"content\">\n\n<table>\n    <tr>\n        <td style=\"width: 15%;text-align:center;border-right:none;border-bottom:none;border-bottom:bold\">\n            <div style=\"padding-top:8px;\">\n                <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\n            </div>\n        </td>\n        <td style=\"width:30%;font-size:20px;text-align:center;border-right:none;border-bottom:none;padding-top:13px\" nowrap>\n            <div class=\"header-title\" style=\"padding-top:10px\">INTER OFFICE MEMO (I O M)</div>         </td>\n        <td style=\"width:15%;white-space:nowrap;border-bottom:none;font-weight:bold;\">\n    <div style=\"padding-top:13px;border-bottom:none;\">\n        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\n            ✔\n        </span>\n        {{ doc.priority }}\n    </div>\n</td>\n\n\n\n    </tr>\n</table>\n{% set emp_name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table style=\"width:100%; border-collapse: collapse; margin-top:-16px;\">\n    <tr>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;\">\n           <p style=\"line-height:1\">\n    <span style=\"display:inline-block; width:80px;\">Dept.From </span>:&nbsp;{{ doc.department_from or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Dept.To</span>:&nbsp; {{ doc.department_to or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Created By</span>: &nbsp;{{emp_name or '' }}<br><br>\n   \n</p>\n\n       </td>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;\">\n           <p style=\"line-height:1\">\n            <span style=\"display:inline-block; width:80px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Doc.No</span>: {{ doc.name }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Instructed By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\n       </p></td>\n   </tr>\n    \n</table>\n<table style=\"margin-top:-30px; width: 100%;\">\n    <tr>\n        <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\n            SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;\n            <span style=\"display: inline-block; width: 60%; text-align: center;\">\n                {{ doc.iom_type or 'NA' }}\n            </span>\n        </td>\n    </tr>\n</table>\n\n{% set label_width = \"130px\" %} <!-- adjust as needed -->\n{% set supplier_name=frappe.db.get_value(\"Supplier\",{\"name\":doc.supplier},\"supplier_name\") %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier Name</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ supplier_name or 'NA' }}</span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Currency</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.currency or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">PO No & PO Date</span>\n    <span>\n        :&nbsp;&nbsp;&nbsp;&nbsp;\n        {{doc.po_no or 'NA'}}/{{frappe.utils.formatdate(doc.po_date, \"dd-MM-yyyy\") or 'NA'}}\n    </span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">HSN Code</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.new_business_jo[0].hsn_code if doc.new_business_jo and doc.new_business_jo[0].hsn_code else 'NA' }}</span>\n</div>\n\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Order Type</span>\n    <span>:&nbsp;&nbsp;&nbsp;\n        {{doc.order_type or 'NA' }}\n    </span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Reason For Update</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{doc.subject or 'NA'}}</span>\n\n</div>\n\n<br>\n{% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table>\n    <tr>\n        <td style=\"background-color:#fec76f;text-align:center;\">S.No</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Item Code</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Item Name</td>\n         <td style=\"background-color:#fec76f;text-align:center;\">UOM</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Operation</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Qty</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">PO Price({{doc.currency or ''}})</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Value({{doc.currency or ''}})</td>\n\n        </tr>\n    {% for i in doc.new_business_jo%}\n    <tr>\n        <td>{{loop.index}}</td>\n        <td style=\"text-align:left;white-space:nowrap;font-size:10px;\">{{i.item_code or ''}}</td>\n        <td style=\"text-align:left;font-size:10px;\">{{i.item_name or ''}}</td>\n        <td style=\"text-align:center;white-space:nowrap;\">{{i.uom or ''}}</td>\n        <td style=\"text-align:left;font-size:10px;\">{{i.operation_data or ''}}</td>\n        <td style=\"text-align:center;white-space:nowrap;font-size:10px;\">{{i.qty or ''}}</td>\n        <td style=\"text-align:right;white-space:nowrap;font-size:10px;\">{{frappe.utils.fmt_money(i.po_price or 0 , currency=doc.currency)}}</td>\n        <td style=\"text-align:right;white-space:nowrap;font-size:10px;\">{{frappe.utils.fmt_money(i.value or 0 , currency=doc.currency)}}</td>\n\n    </tr>\n    {%endfor%}\n    <tr><td colspan=7 style=\"text-align:center;font-weight:bold\">Total PO Value</td>\n    <td colspan=1 style=\"text-align:right;font-weight:bold\">{{frappe.utils.fmt_money(doc.total_po_value or 0 , currency=doc.currency) }}</td></tr>\n    </table>\n<br>\n    <div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:50%;font-weight:bold;\">TERMS & CONDITIONS</span>\n</div><br>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Payment Terms</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.payment_terms or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Incoterms</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.wonjin_incoterms or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Duties and Taxes</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.duties_and_taxes or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Freight</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.freight or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Scrap</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.scrap or 'NA' }}</span>\n</div>\n<div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n</div>\n<div class=\"fixed-footer\">\n\n        <br>\n        {% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n    <table style=\"width:100%\">\n   <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">ERP Team</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">Marketing HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">Plant Head</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">GM</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">Finance</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">BMD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">CMD</td>\n</tr>\n\n\n    <tr style=\"height: 80px;\">\n    {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n       {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\n       {% set gm_signature = frappe.db.get_value(\"Employee\", {\"name\":\"KR002\"}, \"custom_digital_signature\") %}\n        {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"BMD01\"}, \"custom_digital_signature\") %}\n        {% set cmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"CMD01\"}, \"custom_digital_signature\") %}\n        {% set erp_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.erp_team}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.plant_head}, \"custom_digital_signature\") %}\n        {% set material_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.material_manager}, \"custom_digital_signature\") %}\n\n       {% set marketing_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.marketing_manager}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.finance}, \"custom_digital_signature\") %}\n\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if prepared_signature %}\n        <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\n          {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n     {% if doc.date_time %}\n        {% set formatted_date = frappe.utils.formatdate(doc.date_time, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.date_time, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if hod_signature %}\n        <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.hod_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.hod_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.hod_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if erp_signature %}\n        <img src=\"{{ erp_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.erp_team_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.erp_team_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.erp_team_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<!---->\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if marketing_signature %}\n        <img src=\"{{ marketing_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.marketing_manager_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.marketing_manager_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.marketing_manager_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n\n<!---->\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if plant_signature %}\n        <img src=\"{{ plant_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.plant_head_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.plant_head_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.plant_head_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if gm_signature %}\n        <img src=\"{{ gm_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.gm_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.gm_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.gm_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if finance_signature %}\n        <img src=\"{{ finance_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.finance_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.finance_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.finance_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if bmd_signature %}\n        <img src=\"{{ bmd_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.bmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.bmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.bmd_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if cmd_signature %}\n        <img src=\"{{ cmd_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.cmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.cmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.cmd_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n</div>\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 18:02:08.450899",
  "module": "ONEGENE",
  "name": "New Business JO",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n@page {\n    size: A4;\n    margin: 5mm 5mm 5mm 5mm; /* top right bottom left */\n}\n\n.page-wrapper {\n    border: 2px solid black;\n    padding: 2mm;\n    box-sizing: border-box;\n    min-height: 265mm; /* full page height */\n    max-width:200mm;\n    margin-top:0mm;\n    \n}\n.content {\n    margin-bottom: 50mm; /* leave space for repeated footer */\n        width: 100%;\n\n}\n.fixed-footer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    padding: 2mm 5mm;\n    box-sizing: border-box;\n    border-top:none;\n    font-size: 10px;\n}\n\n.footer {\n    display: block;\n    position: running(footer); /* makes it a repeated element on every page */\n}\n/* tables inside footer */\n.fixed-footer table {\n    width: 100%;\n    border-collapse: collapse;\n}\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n            page-break-inside: avoid;\n\n    }\n    td, th {\n        border: 1px solid black;\n    }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n        width: 100%;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<div class=\"page-wrapper\">\n    <div class=\"content\">\n\n<table>\n    <tr>\n        <td style=\"width: 15%;text-align:center;border-right:none;border-bottom:none;border-bottom:bold\">\n            <div style=\"padding-top:8px;\">\n                <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\n            </div>\n        </td>\n        <td style=\"width:30%;font-size:20px;text-align:center;border-right:none;border-bottom:none;padding-top:13px\" nowrap>\n            <div class=\"header-title\" style=\"padding-top:10px\">INTER OFFICE MEMO (I O M)</div>         </td>\n        <td style=\"width:15%;white-space:nowrap;border-bottom:none;font-weight:bold;\">\n    <div style=\"padding-top:13px;border-bottom:none;\">\n        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\n            ✔\n        </span>\n        {{ doc.priority }}\n    </div>\n</td>\n\n\n\n    </tr>\n</table>\n{% set emp_name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table style=\"width:100%; border-collapse: collapse; margin-top:-16px;\">\n    <tr>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;\">\n           <p style=\"line-height:1\">\n    <span style=\"display:inline-block; width:80px;\">Dept.From </span>:&nbsp;{{ doc.department_from or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Dept.To</span>:&nbsp; {{ doc.department_to or '' }}<br><br>\n        <span style=\"display:inline-block; width:80px;\">Created By</span>: &nbsp;{{emp_name or '' }}<br><br>\n   \n</p>\n\n       </td>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;\">\n           <p style=\"line-height:1\">\n            <span style=\"display:inline-block; width:80px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Doc.No</span>: {{ doc.name }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Instructed By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\n       </p></td>\n   </tr>\n    \n</table>\n<table style=\"margin-top:-30px; width: 100%;\">\n    <tr>\n        <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\n            SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;\n            <span style=\"display: inline-block; width: 60%; text-align: center;\">\n                {{ doc.iom_type or 'NA' }}\n            </span>\n        </td>\n    </tr>\n</table>\n\n{% set label_width = \"130px\" %} <!-- adjust as needed -->\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier Group</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.supplier_group or 'NA' }}</span>\n</div>\n{% set supplier_name=frappe.db.get_value(\"Supplier\",{\"name\":doc.supplier},\"supplier_name\") %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier Name</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{supplier_name or 'NA' }}</span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Currency</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.currency or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">PO No & PO Date</span>\n    <span>\n        :&nbsp;&nbsp;&nbsp;&nbsp;\n        {% if doc.price_revision_jo and doc.price_revision_jo[0] %}\n            {{ \n                doc.price_revision_jo[0].po_no \n                if doc.price_revision_jo[0].po_no \n                else 'NA'\n            }}\n            &nbsp;/&nbsp;\n            {{ frappe.utils.formatdate(doc.price_revision_jo[0].date, \"dd-MM-yyyy\") if doc.price_revision_jo[0].date else 'NA' }}\n        {% else %}\n            NA / NA\n        {% endif %}\n    </span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">HSN Code</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.price_revision_jo[0].hsn_code if doc.price_revision_jo and doc.price_revision_jo[0].hsn_code else 'NA' }}</span>\n</div>\n\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Reason For Update</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.price_revision_jo[0].reason_for_request if doc.price_revision_jo and doc.price_revision_jo[0].reason_for_request else 'NA' }}</span>\n</div>\n\n<br>\n{% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table>\n    <tr>\n        <td style=\"background-color:#fec76f;text-align:center;\">S.No</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Item Code</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Item Name</td>\n         <td style=\"background-color:#fec76f;text-align:center;\">UOM</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Operation</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Current Price ({{doc.currency or ''}})</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Revised Price({{doc.currency or ''}})</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Diff({{doc.currency or ''}})</td>\n\n        </tr>\n    {% for i in doc.price_revision_jo%}\n    <tr>\n        <td>{{loop.index}}</td>\n        <td style=\"text-align:left;white-space:nowrap;\">{{i.part_no or ''}}</td>\n        <td style=\"text-align:left;\">{{i.part_name or ''}}</td>\n        <td style=\"text-align:center;white-space:nowrap;\">{{i.uom or ''}}</td>\n        <td style=\"text-align:left;\">{{i.operation_data or ''}}</td>\n        <td style=\"text-align:right;white-space:nowrap;\">{{frappe.utils.fmt_money(i.po_price or 0 , currency=doc.currency)}}</td>\n        <td style=\"text-align:right;white-space:nowrap;\">{{frappe.utils.fmt_money(i.new_price or 0 , currency=doc.currency)}}</td>\n        <td style=\"text-align:right;white-space:nowrap;\">{{frappe.utils.fmt_money(i.increase_price or 0 , currency=doc.currency)}}</td>\n\n    </tr>\n    {%endfor%}\n    </table>\n<br>\n    <div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:50%;font-weight:bold;\">TERMS & CONDITIONS</span>\n</div><br>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Payment Terms</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.payment_terms or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Incoterms</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.wonjin_incoterms or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Duties and Taxes</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.duties_and_taxes or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Freight</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.freight or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Scrap</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.scrap or 'NA' }}</span>\n</div>\n<div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n</div>\n<div class=\"fixed-footer\">\n\n        <br>\n        {% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n    <table style=\"width:100%\">\n   <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">ERP Team</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">Marketing HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">Plant Head</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">GM</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">Finance</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">BMD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">CMD</td>\n</tr>\n\n\n    <tr style=\"height: 80px;\">\n    {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n       {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\n       {% set erp_signature = frappe.db.get_value(\"Employee\", {\"name\":\"S0330\"}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"name\":\"S0004\"}, \"custom_digital_signature\") %}\n       {% set gm_signature = frappe.db.get_value(\"Employee\", {\"name\":\"KR002\"}, \"custom_digital_signature\") %}\n       {% set marketing_signature = frappe.db.get_value(\"Employee\", {\"name\":\"S0116\"}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"name\":\"S0189\"}, \"custom_digital_signature\") %}\n        {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"BMD01\"}, \"custom_digital_signature\") %}\n        {% set cmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"CMD01\"}, \"custom_digital_signature\") %}\n         {% set erp_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.erp_team}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.plant_head}, \"custom_digital_signature\") %}\n        {% set material_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.material_manager}, \"custom_digital_signature\") %}\n\n       {% set marketing_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.marketing_manager}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.finance}, \"custom_digital_signature\") %}\n\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if prepared_signature %}\n        <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\n          {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n     {% if doc.date_time %}\n        {% set formatted_date = frappe.utils.formatdate(doc.date_time, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.date_time, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if hod_signature %}\n        <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.hod_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.hod_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.hod_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if erp_signature %}\n        <img src=\"{{ erp_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.erp_team_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.erp_team_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.erp_team_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<!---->\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if marketing_signature %}\n        <img src=\"{{ marketing_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.marketing_manager_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.marketing_manager_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.marketing_manager_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n\n<!---->\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if plant_signature %}\n        <img src=\"{{ plant_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.plant_head_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.plant_head_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.plant_head_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if gm_signature %}\n        <img src=\"{{ gm_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.gm_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.gm_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.gm_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if finance_signature %}\n        <img src=\"{{ finance_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.finance_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.finance_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.finance_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if bmd_signature %}\n        <img src=\"{{ bmd_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.bmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.bmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.bmd_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if cmd_signature %}\n        <img src=\"{{ cmd_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.cmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.cmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.cmd_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n</div>\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 18:01:54.358240",
  "module": "ONEGENE",
  "name": "Price Revision JO",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\r\n@page {\r\n    size: A4;\r\n    margin: 5mm 5mm 5mm 5mm; /* top right bottom left */\r\n}\r\n\r\n.page-wrapper {\r\n    border: 2px solid black;\r\n    padding: 2mm;\r\n    box-sizing: border-box;\r\n    min-height: 265mm; /* full page height */\r\n    max-width:200mm;\r\n    margin-top:0mm;\r\n    \r\n}\r\n.content {\r\n    margin-bottom: 50mm; /* leave space for repeated footer */\r\n        width: 100%;\r\n\r\n}\r\n.fixed-footer {\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    padding: 2mm 5mm;\r\n    box-sizing: border-box;\r\n    border-top:none;\r\n    font-size: 10px;\r\n}\r\n\r\n.footer {\r\n    display: block;\r\n    position: running(footer); /* makes it a repeated element on every page */\r\n}\r\n/* tables inside footer */\r\n.fixed-footer table {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n}\r\n    table {\r\n        border-collapse: collapse; \r\n        border-spacing: 0;\r\n        width: 100%;\r\n        margin-bottom: 16px;\r\n            page-break-inside: avoid;\r\n\r\n    }\r\n    td, th {\r\n        border: 1px solid black;\r\n    }\r\n    .header-title {\r\n        font-size: 18px;\r\n        font-weight: bold;\r\n        width: 100%;\r\n    }\r\n    .color-box {\r\n        width: 30px;\r\n        height: 20px;\r\n        display: inline-block;\r\n    }\r\n    .red { background-color: red; }\r\n    .yellow { background-color: yellow; }\r\n    .blue { background-color: blue; }\r\n    .right-align {\r\n        text-align: left;\r\n        padding-left: 5px;\r\n    }\r\n</style>\r\n<div class=\"page-wrapper\">\r\n    <div class=\"content\">\r\n\r\n<table>\r\n    <tr>\r\n        <td style=\"width: 15%;text-align:center;border-right:none;border-bottom:none;border-bottom:bold\">\r\n            <div style=\"padding-top:8px;\">\r\n                <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\r\n            </div>\r\n        </td>\r\n        <td style=\"width:30%;font-size:20px;text-align:center;border-right:none;border-bottom:none;padding-top:13px\" nowrap>\r\n            <div class=\"header-title\" style=\"padding-top:10px\">INTER OFFICE MEMO (I O M)</div>         </td>\r\n        <td style=\"width:15%;white-space:nowrap;border-bottom:none;font-weight:bold;\">\r\n    <div style=\"padding-top:13px;border-bottom:none;\">\r\n        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\r\n            ✔\r\n        </span>\r\n        {{ doc.priority }}\r\n    </div>\r\n</td>\r\n\r\n\r\n\r\n    </tr>\r\n</table>\r\n{% set emp_name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\r\n\r\n<table style=\"width:100%; border-collapse: collapse; margin-top:-15px;\">\r\n    <tr>\r\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;\">\r\n           <p style=\"line-height:1.1\">\r\n    <span style=\"display:inline-block; width:100px;\">Dept.From </span>:&nbsp;{{ doc.department_from or '' }}<br><br>\r\n        <span style=\"display:inline-block; width:100px;\">Dept.To </span>:&nbsp;{{ doc.department_to or '' }}<br><br>\r\n\r\n    <span style=\"display:inline-block; width:100px;\">Created By</span>: &nbsp;{{emp_name or '' }}<br><br>\r\n   \r\n</p>\r\n\r\n       </td>\r\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;\">\r\n           <p style=\"line-height:1.1\">\r\n            <span style=\"display:inline-block; width:90px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\r\n    <span style=\"display:inline-block; width:90px;\">Doc.No</span>: {{ doc.name }}<br><br>\r\n    <span style=\"display:inline-block; width:90px;\">Requested By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\r\n       </p></td>\r\n   </tr>\r\n    \r\n</table>\r\n<table style=\"margin-top:-30px; width: 100%;\">\r\n    <tr>\r\n        <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\r\n            SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;\r\n            <span style=\"display: inline-block; width: 70%; text-align: center;\">\r\n                {{ doc.iom_type or 'NA' }}\r\n            </span>\r\n        </td>\r\n    </tr>\r\n\r\n</table>\r\n\r\n        <br>\r\n     {% set label_width = \"140px\" %} <!-- adjust as needed -->\r\n\r\n<div style=\"margin-bottom: 4px;\">\r\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Revision Level</span>\r\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.revision_level or 'NA' }}</span>\r\n</div>\r\n<div style=\"margin-bottom: 4px;\">\r\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Schedule Month</span>\r\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.schedule_month or 'NA' }}</span>\r\n</div>\r\n\r\n\r\n<div style=\"margin-bottom: 4px;\">\r\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Reason For Update</span>\r\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.schedule_revised[0].reason_for_request if doc.schedule_revised and doc.schedule_revised[0].reason_for_request else 'NA' }}</span>\r\n</div>\r\n\r\n        <br>\r\n        {# --- Schedule totals per customer --- #}\r\n{% set schedule_sums = frappe.db.sql(\"\"\"\r\n    SELECT supplier_code, SUM(schedule_amount_inr) AS total_schedule\r\n    FROM `tabPurchase Order Schedule`\r\n    WHERE schedule_month = %s\r\n    GROUP BY supplier_code\r\n\"\"\", (doc.schedule_month,), as_dict=True) %}\r\n\r\n{% set schedule_totals = {} %}\r\n{% for d in schedule_sums %}\r\n    {% set _ = schedule_totals.update({ d.supplier_code: d.total_schedule }) %}\r\n{% endfor %}\r\n  \r\n{% set grouped = {} %}\r\n\r\n{# --- Group by supplier_code and sum revised values --- #}\r\n{% for row in doc.schedule_revised %}\r\n    {% set code = row.supplier_code %}\r\n    {% if code not in grouped %}\r\n        {% set _ = grouped.update({code: {\r\n            \"supplier_type\": row.supplier_type,\r\n            \"supplier_name\": row.supplier_name,\r\n            \"revised_schedule_valueinr\": row.revised_schedule_valueinr or 0\r\n        }}) %}\r\n    {% else %}\r\n        {% set _ = grouped[code].update({\r\n            \"revised_schedule_valueinr\": (grouped[code].revised_schedule_valueinr or 0) + (row.revised_schedule_valueinr or 0)\r\n        }) %}\r\n    {% endif %}\r\n{% endfor %}\r\n\r\n<table style=\"width:100%;border-collapse:collapse;\" border=\"1\">\r\n    <tr>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">S.No</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Supplier Type</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Supplier Name</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Current Schedule Value</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Revised Schedule Value</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Difference Value</td>\r\n    </tr>\r\n\r\n     {% set ns = namespace(total_difference=0) %}\r\n    {% if doc.supplier_wise_schedule %}\r\n        {% for row in doc.supplier_wise_schedule %}\r\n            {% set ns.total_difference = ns.total_difference + row.difference_value %}\r\n            {# Set up/down arrow #}\r\n            {% if row.difference_value > 0 %}\r\n                {% set arrow = '<span style=\"color:green;\">&#9650;</span>' %} {# ▲ Up arrow (green) #}\r\n            {% elif row.difference_value < 0 %}\r\n                {% set arrow = '<span style=\"color:red;\">&#9660;</span>' %} {# ▼ Down arrow (red) #}\r\n            {% else %}\r\n                {% set arrow = '' %}\r\n            {% endif %}\r\n            {%set supplier_name=frappe.db.get_value(\"Supplier\",{\"supplier_code\":row.supplier_code},\"supplier_name\")%}\r\n            <tr>\r\n                <td style=\"text-align:center;\">{{ loop.index }}</td>\r\n                <td style=\"text-align:left;\">{{ row.supplier_type or '' }}</td>\r\n                <td style=\"text-align:left;\">{{ supplier_name or '' }}</td>\r\n                <td style=\"text-align:right;\">{{ frappe.utils.fmt_money(row.current_schedule_value, 1, currency=\"INR\") }}</td>\r\n                <td style=\"text-align:right;\">{{ frappe.utils.fmt_money(row.revised_schedule_value, 1, currency=\"INR\") }}</td>\r\n                <td style=\"text-align:right;\">\r\n                    {{ frappe.utils.fmt_money(row.difference_value, 1, currency=\"INR\") }} {{ arrow | safe }}\r\n                </td>\r\n            </tr>\r\n        {% endfor %}\r\n    {% else %}\r\n   \r\n    {% for code, data in grouped.items() %}\r\n        {% set current_val = (schedule_totals.get(code) if schedule_totals else 0) | float %}\r\n        {% set increase_val = (data.increase_value or 0) | float %}\r\n        {% set revise_diff_val = current_val - increase_val %}\r\n        {% set revised_val = current_val + revise_diff_val %}\r\n        {% set diff_val = revised_val - current_val %}\r\n        {% set ns.total_difference = ns.total_difference + diff_val %}\r\n\r\n        {# Up/down arrow #}\r\n        {% if diff_val > 0 %}\r\n            {% set arrow = '<span style=\"color:green;\">&#9650;</span>' %}\r\n        {% elif diff_val < 0 %}\r\n            {% set arrow = '<span style=\"color:red;\">&#9660;</span>' %}\r\n        {% else %}\r\n            {% set arrow = '' %}\r\n        {% endif %}\r\n\r\n        <tr>\r\n            <td style=\"text-align:center;\">{{ ns.counter }}</td>\r\n            <td style=\"text-align:left;\">{{ data.supplier_type or '' }}</td>\r\n            <td style=\"text-align:left;\">{{ data.supplier_name or '' }}</td>\r\n            <td style=\"text-align:right;\">{{ frappe.utils.fmt_money(current_val, 1, currency=\"INR\") }}</td>\r\n            <td style=\"text-align:right;\">{{ frappe.utils.fmt_money(revised_val, 1, currency=\"INR\") }}</td>\r\n            <td style=\"text-align:right;\">\r\n                {{ frappe.utils.fmt_money(diff_val, 1, currency=\"INR\") }} {{ arrow | safe }}\r\n            </td>\r\n        </tr>\r\n        {% set ns.counter = ns.counter + 1 %}\r\n    {% endfor %}\r\n    {%endif%}\r\n    <tr>\r\n        <td colspan=\"5\" style=\"text-align:center;font-size:13px;font-weight:bold;\">Total</td>\r\n        <td style=\"text-align:right;font-size:13px;font-weight:bold;white-space:nowrap\">\r\n            {{ frappe.utils.fmt_money(ns.total_difference, 1, currency=\"INR\") }}\r\n        </td>\r\n    </tr>\r\n</table>\r\n<div style=\"width:100%; margin-top:10px; display:flex;\">\r\n\r\n    {% if doc.approval_remarks %}\r\n    <div style=\"\r\n        width:50%;\r\n        padding:20px;\r\n        border:1px solid #000;\r\n        margin-right:20px; \r\n        box-sizing:border-box;\r\n    \">\r\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\r\n        <br><br>\r\n        {% for r in doc.approval_remarks %}\r\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\r\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\r\n            {% if not loop.last %}<br>{% endif %}\r\n        {% endfor %}\r\n    </div>\r\n    {% endif %}\r\n\r\n    {% if doc.rejection_remarks %}\r\n    <div style=\"\r\n        width:50%;\r\n        padding:20px;\r\n        border:1px solid #000;\r\n        margin-left:20px;   \r\n        box-sizing:border-box;\r\n    \">\r\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\r\n        <br><br>\r\n        {% for r in doc.rejection_remarks %}\r\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\r\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\r\n            {% if not loop.last %}<br>{% endif %}\r\n        {% endfor %}\r\n    </div>\r\n    {% endif %}\r\n\r\n</div>\r\n<br>\r\n\r\n<!--<div style=\"margin-bottom: 4px;\">-->\r\n<!--    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Total Sales Plan</span>-->\r\n<!--    {% if doc.total_sales_plan %}-->\r\n<!--    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ frappe.utils.fmt_money(doc.total_sales_plan , 2,currency=\"INR\") }}</span>-->\r\n    \r\n<!--    {% endif %}-->\r\n<!--</div>-->\r\n\r\n    <br>\r\n        {% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\r\n            <div class=\"fixed-footer\">\r\n\r\n    <table>\r\n  <tr>\r\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">Prepared</td>\r\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">HOD</td>\r\n   <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">ERP Team</td>\r\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">Plant Head</td>\r\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">Finance</td>\r\n   <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">CMD</td>\r\n\r\n</tr>\r\n\r\n\r\n    <tr style=\"height: 80px;\">\r\n     {% set erp_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.erp_team}, \"custom_digital_signature\") %}\r\n     {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\r\n       {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\r\n       {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"BMD01\"}, \"custom_digital_signature\") %}\r\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.plant_head}, \"custom_digital_signature\") %}\r\n              {% set finance_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.finance}, \"custom_digital_signature\") %}\r\n        {% set cmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"CMD01\"}, \"custom_digital_signature\") %}\r\n\r\n        {% set material_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.material_manager}, \"custom_digital_signature\") %}\r\n\r\n        <td style=\"text-align:center;font-size:15px;\">\r\n    <br>\r\n    {% if prepared_signature %}\r\n        <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\r\n         {%else%}\r\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\r\n    {% endif %}\r\n    <br>\r\n     {% if doc.date_time %}\r\n        {% set formatted_date = frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") %}\r\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\r\n    {% endif %}\r\n</td>\r\n        <td style=\"text-align:center;font-size:15px;\">\r\n    <br>\r\n    {% if hod_signature %}\r\n        <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\r\n         {%else%}\r\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\r\n    {% endif %}\r\n    <br>\r\n    {% if doc.hod_approved_on %}\r\n        {% set formatted_date = frappe.utils.format_datetime(doc.hod_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\r\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\r\n    {% endif %}\r\n</td>\r\n <td style=\"text-align:center;font-size:15px;\">\r\n    <br>\r\n    {% if erp_signature %}\r\n        <img src=\"{{ erp_signature }}\" style=\"height:50px;\">\r\n         {%else%}\r\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\r\n    {% endif %}\r\n    <br>\r\n    {% if doc.erp_team_approved_on %}\r\n        {% set formatted_date = frappe.utils.format_datetime(doc.erp_team_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\r\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\r\n    {% endif %}\r\n</td>\r\n <td style=\"text-align:center;font-size:15px;\">\r\n    <br>\r\n    {% if plant_signature %}\r\n        <img src=\"{{ plant_signature }}\" style=\"height:50px;\">\r\n         {%else%}\r\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\r\n    {% endif %}\r\n    <br>\r\n    {% if doc.plant_head_approved_on %}\r\n        {% set formatted_date = frappe.utils.format_datetime(doc.plant_head_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\r\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\r\n    {% endif %}\r\n</td>\r\n<td style=\"text-align:center;font-size:15px;\">\r\n    <br>\r\n    {% if finance_signature %}\r\n        <img src=\"{{ finance_signature }}\" style=\"height:50px;\">\r\n         {%else%}\r\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\r\n    {% endif %}\r\n    <br>\r\n    {% if doc.finance_approved_on %}\r\n        {% set formatted_date = frappe.utils.format_datetime(doc.finance_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\r\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\r\n    {% endif %}\r\n</td>\r\n<td style=\"text-align:center;font-size:15px;\">\r\n    <br>\r\n    {% if cmd_signature %}\r\n        <img src=\"{{ cmd_signature }}\" style=\"height:50px;\">\r\n         {%else%}\r\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\r\n    {% endif %}\r\n    <br>\r\n    {% if doc.cmd_approved_on %}\r\n        {% set formatted_date = frappe.utils.format_datetime(doc.cmd_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\r\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\r\n    {% endif %}\r\n</td>\r\n\r\n    </tr>\r\n</table>\r\n<div style=\"text-align:left; font-size:12px; margin-top:5px;\">\r\n            Note: This document is Digitally Signed\r\n        </div>\r\n    </div>\r\n\r\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\r\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>\r\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 18:03:42.155373",
  "module": "ONEGENE",
  "name": "Approval for Schedule Revised",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n@page {\n    size: A4;\n    margin: 5mm 5mm 5mm 5mm; /* top right bottom left */\n}\n\n.page-wrapper {\n    border: 2px solid black;\n    padding: 2mm;\n    box-sizing: border-box;\n    min-height: 265mm; /* full page height */\n    max-width:200mm;\n    margin-top:0mm;\n    \n}\n.content {\n    margin-bottom: 50mm; /* leave space for repeated footer */\n        width: 100%;\n\n}\n.fixed-footer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    padding: 2mm 5mm;\n    box-sizing: border-box;\n    border-top:none;\n    font-size: 10px;\n}\n\n.footer {\n    display: block;\n    position: running(footer); /* makes it a repeated element on every page */\n}\n/* tables inside footer */\n.fixed-footer table {\n    width: 100%;\n    border-collapse: collapse;\n}\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n            page-break-inside: avoid;\n\n    }\n    td, th {\n        border: 1px solid black;\n    }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n        width: 100%;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<div class=\"page-wrapper\">\n    <div class=\"content\">\n\n<table>\n    <tr>\n        <td style=\"width: 15%;text-align:center;border-right:none;border-bottom:none;border-bottom:bold\">\n            <div style=\"padding-top:8px;\">\n                <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\n            </div>\n        </td>\n        <td style=\"width:30%;font-size:20px;text-align:center;border-right:none;border-bottom:none;padding-top:13px\" nowrap>\n            <div class=\"header-title\" style=\"padding-top:10px\">INTER OFFICE MEMO (I O M)</div>         </td>\n        <td style=\"width:15%;white-space:nowrap;border-bottom:none;font-weight:bold;\">\n    <div style=\"padding-top:13px;border-bottom:none;\">\n        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\n            ✔\n        </span>\n        {{ doc.priority }}\n    </div>\n</td>\n\n\n\n    </tr>\n</table>\n{% set emp_name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table style=\"width:100%; border-collapse: collapse; margin-top:-16px;\">\n    <tr>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;\">\n           <p style=\"line-height:1\">\n    <span style=\"display:inline-block; width:80px;\">Dept.From </span>:&nbsp;{{ doc.department_from or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Dept.To</span>:&nbsp; {{ doc.department_to or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Created By</span>: &nbsp;{{emp_name or '' }}<br><br>\n   \n</p>\n\n       </td>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;\">\n           <p style=\"line-height:1\">\n            <span style=\"display:inline-block; width:80px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Doc.No</span>: {{ doc.name }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Instructed By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\n       </p></td>\n   </tr>\n    \n</table>\n<table style=\"margin-top:-30px; width: 100%;\">\n    <tr>\n        <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\n            SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;\n            <span style=\"display: inline-block; width: 60%; text-align: center;\">\n                {{ doc.iom_type or 'NA' }}\n            </span>\n        </td>\n    </tr>\n</table>\n\n{% set label_width = \"130px\" %} <!-- adjust as needed -->\n{% set supplier_name=frappe.db.get_value(\"Supplier\",{\"name\":doc.supplier},\"supplier_name\") %}\n\n <div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier Group</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.supplier_group or 'NA' }}</span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier Name</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ supplier_name or 'NA' }}</span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Currency</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.currency or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Quotation No & Date</span>\n        {% if doc.table_cpri%}\n    <span>\n        :&nbsp;&nbsp;&nbsp;&nbsp;\n        {% if doc.table_cpri and doc.table_cpri[0] %}\n            {{ \n               doc.table_cpri[0].po_no_new if doc.table_cpri[0].po_no_new else 'NA'\n            }}\n            &nbsp;/&nbsp;\n            {{ frappe.utils.formatdate(doc.table_cpri[0].po_date, \"dd-MM-yyyy\") if doc.table_cpri[0].po_date else 'NA' }}\n        {% else %}\n            NA / NA\n        {% endif %}\n    </span>\n    {%else%}\n    <span>\n        :&nbsp;&nbsp;&nbsp;&nbsp;\n        {% if doc.proto_sample_existing and doc.proto_sample_existing[0] %}\n            {{ \n               doc.proto_sample_existing[0].po_no_new if doc.proto_sample_existing[0].po_no_new else 'NA'\n            }}\n            &nbsp;/&nbsp;\n            {{ frappe.utils.formatdate(doc.proto_sample_existing[0].po_date, \"dd-MM-yyyy\") if doc.proto_sample_existing[0].po_date else 'NA' }}\n        {% else %}\n            NA / NA\n        {% endif %}\n    </span>\n    {% endif %}\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">HSN Code</span>\n        {% if doc.table_cpri%}\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.table_cpri[0].hsn_code if doc.table_cpri and doc.table_cpri[0].hsn_code else 'NA' }}</span>\n{%else%}\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.proto_sample_existing[0].hsn_code if doc.proto_sample_existing and doc.proto_sample_existing[0].hsn_code else 'NA' }}</span>\n\n    {% endif %}\n    </div>\n{% set ns = namespace(gst_rates=[]) %}  \n{% if doc.taxes %}\n    {% for t in doc.taxes %}\n        {% if t.rate %}\n            {% set ns.gst_rates = ns.gst_rates + [t.rate|int|string + '%'] %}\n        {% endif %}\n    {% endfor %}\n{%if doc.supplier_group!=\"Importer\"%}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">GST Rate</span>\n    <span>:&nbsp;&nbsp;&nbsp;{{ ns.gst_rates | join(' + ') or '' }}</span>\n</div>\n{% endif %}\n\n{% endif %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Valid From</span>\n        {% if doc.table_cpri%}\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ frappe.utils.formatdate(doc.table_cpri[0].valid_from, \"dd-MM-yyyy\") if doc.table_cpri[0].valid_from else 'NA' }}\n</span>\n{%else%}\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ frappe.utils.formatdate(doc.proto_sample_existing[0].valid_from, \"dd-MM-yyyy\") if doc.proto_sample_existing[0].valid_from else 'NA' }}\n</span>\n{% endif %}\n\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Valid To</span>\n        {% if doc.table_cpri%}\n\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ frappe.utils.formatdate(doc.table_cpri[0].valid_to, \"dd-MM-yyyy\") if doc.table_cpri[0].valid_to else 'NA' }}\n</span>\n{%else%}\n<span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ frappe.utils.formatdate(doc.proto_sample_existing[0].valid_to, \"dd-MM-yyyy\") if doc.proto_sample_existing[0].valid_to else 'NA' }}\n</span>\n{% endif %}\n\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Reason For Update</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.subject or  'NA' }}</span>\n</div>\n<div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n<br>\n{% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n{% set ns = namespace(counter=1) %}\n<table>\n    <tr>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:10px;\">S.No</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:10px;\">Item Code</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:10px;\">Item Name</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:10px;\">Fixed Qty</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:10px;\">PO Price ({{doc.currency or ''}})</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:10px;\">Value({{doc.currency or ''}})</td>\n    </tr>\n\n    {% for i in doc.table_cpri %}\n    <tr>\n        <td>{{ ns.counter }}</td>\n        <td style=\"text-align:left;white-space:nowrap;font-size:10px;\">{{i.item_code_new or ''}}</td>\n        <td style=\"text-align:left;white-space:nowrap;font-size:10px;\">{{i.item_name_new or ''}}</td>\n        <td style=\"text-align:center;white-space:nowrap;font-size:10px;\">{{i.qty_new or 0}}</td>\n        <td style=\"text-align:right;white-space:nowrap;font-size:10px;\">{{frappe.utils.fmt_money(i.po_price_new or 0 , currency=doc.currency)}}</td>\n        <td style=\"text-align:right;white-space:nowrap;font-size:10px;\">{{frappe.utils.fmt_money(i.value or 0 , currency=doc.currency)}}</td>\n    </tr>\n    {% set ns.counter = ns.counter + 1 %}\n    {% endfor %}\n\n    {% for i in doc.proto_sample_existing %}\n    <tr>\n        <td>{{ ns.counter }}</td>\n        <td style=\"text-align:left;white-space:nowrap;font-size:10px;\">{{i.item_code_new or ''}}</td>\n        <td style=\"text-align:left;white-space:nowrap;font-size:10px;\">{{i.item_name_new or ''}}</td>\n        <td style=\"text-align:center;white-space:nowrap;font-size:10px;\">{{i.qty_new or 0}}</td>\n        <td style=\"text-align:right;white-space:nowrap;font-size:10px;\">{{frappe.utils.fmt_money(i.po_price_new or 0 , currency=doc.currency)}}</td>\n        <td style=\"text-align:right;white-space:nowrap;font-size:10px;\">{{frappe.utils.fmt_money(i.value or 0 , currency=doc.currency)}}</td>\n    </tr>\n    {% set ns.counter = ns.counter + 1 %}\n    {% endfor %}\n\n    <tr>\n        <td colspan=5 style=\"text-align:center;font-weight:bold\">Total Value({{doc.currency or ''}})</td>\n        <td colspan=1 style=\"text-align:right;font-weight:bold\">{{frappe.utils.fmt_money(doc.total_po_value or 0 , currency=doc.currency)}}</td>\n    </tr>\n</table>\n    <div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:50%;font-weight:bold;\">TERMS & CONDITIONS</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Payment Terms</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.payment_terms or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Incoterms</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.wonjin_incoterms or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Mode Of Dispatch</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.mode_of_dispatch or 'NA' }}</span>\n</div>\n<div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n            ● {{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n            ● {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n\n<br>\n</div>\n<div class=\"fixed-footer\">\n\n\n\n    <table>\n   <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:9.11%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:9.11%;background-color:#a5a3ac\">HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:9.11%;background-color:#a5a3ac\">ERP Team</td>\n <td style=\"text-align:center; font-weight:bold; font-size:15px; width:9.11%;background-color:#a5a3ac\">Marketing Manager</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:9.11%;background-color:#a5a3ac\">Plant Head</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:9.11%;background-color:#a5a3ac\">GM</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:9.11%;background-color:#a5a3ac\">Finance</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:9.11%;background-color:#a5a3ac\">BMD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:9.11%;background-color:#a5a3ac\">CMD</td>\n</tr>\n\n\n   <tr style=\"height: 50px;\">\n    {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n       {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\n       \n\n       {% set gm_signature = frappe.db.get_value(\"Employee\", {\"name\":\"KR002\"}, \"custom_digital_signature\") %}\n        {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"BMD01\"}, \"custom_digital_signature\") %}\n        {% set cmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"CMD01\"}, \"custom_digital_signature\") %}\n        {% set erp_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.erp_team}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.plant_head}, \"custom_digital_signature\") %}\n        {% set material_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.material_manager}, \"custom_digital_signature\") %}\n\n       {% set marketing_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.marketing_manager}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.finance}, \"custom_digital_signature\") %}\n      <td style=\"text-align:center;font-size:15px;\">\n    {% if prepared_signature %}\n        <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\n           {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n     {% if doc.date_time %}\n        {% set formatted_date = frappe.utils.formatdate(doc.date_time, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.date_time, \"HH:mm:ss\") %}\n          <span style=\"font-size:5px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n        <td style=\"text-align:center;font-size:15px;\">\n    {% if hod_signature %}\n        <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\n           {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.hod_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.hod_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.hod_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:5px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n <td style=\"text-align:center;font-size:15px;\">\n    {% if erp_signature %}\n        <img src=\"{{ erp_signature }}\" style=\"height:50px;\">\n           {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.erp_team_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.erp_team_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.erp_team_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:5px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if marketing_signature %}\n        <img src=\"{{ marketing_signature }}\" style=\"height:50px;\">\n           {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.marketing_manager_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.marketing_manager_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.marketing_manager_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:5px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n\n<td style=\"text-align:center;font-size:15px;\">\n    {% if plant_signature %}\n        <img src=\"{{ plant_signature }}\" style=\"height:50px;\">\n           {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.plant_head_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.plant_head_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.plant_head_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:5px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if gm_signature %}\n        <img src=\"{{ gm_signature }}\" style=\"height:50px;\">\n           {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.gm_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.gm_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.gm_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:5px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if finance_signature %}\n        <img src=\"{{ finance_signature }}\" style=\"height:50px;\">\n           {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.finance_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.finance_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.finance_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:5px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if bmd_signature %}\n        <img src=\"{{ bmd_signature }}\" style=\"height:50px;\">\n           {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.bmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.bmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.bmd_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:5px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if cmd_signature %}\n        <img src=\"{{ cmd_signature }}\" style=\"height:50px;\">\n           {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n    {% endif %}\n    <br>\n    {% if doc.cmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.cmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.cmd_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:5px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n</div>\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 17:56:04.963931",
  "module": "ONEGENE",
  "name": "Approval for Proto Sample PO Material",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "td {\n    border: 1px solid black;\n    \n}\n table {\n    width: 100%;\n    border-collapse: collapse;\n    font-size: 12px;\n    font-family: 'Book Antiqua','Palatino Linotype',Palatino,serif;\n  }\n  td {\n    border: 1px solid #000;\n  }\n  .label-cell {\n    font-weight: bold;\n    width: 10%;\n    white-space: nowrap;\n    line-height:0.9;\n    border-right: none; /* remove right border */\n    border-top: none !important;\n    border-bottom: none !important;\n    font-size:14px;\n  }\n  .label-text {\n    display: inline-block;\n    line-height:0.9;\n    width: 100px; /* adjust for colon alignment */\n    \n  }\n  .value-cell {\n    text-align: left;\n    line-height:0.9;\n    width: 30%;\n    border-left: none; /* remove left border */\n    border-top: none !important;\n    border-bottom: none !important;\n    font-size:14px;\n  }\n  .no-border {\n    border: none !important;\n  }\n .remove-top-border {\n        border-top: none !important;\n    }\n    \n.remove-bottom-border {\n    border-bottom: none !important;\n}\n.no-top-bottom {\n    border-top: none !important;\n    border-bottom: none !important;\n    border-left: 1px solid black !important;   /* keep left if you want */\n    border-right: 1px solid black !important;  /* keep right if you want */\n    padding-top: 0px !important;\n  padding-bottom: 0px !important;\n    \n}",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Logistics Request",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<div class=\\\"print-heading\\\">\\t\\t\\t\\t<h3><div>{{doc.company}}</div></h3></div>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"naming_series\", \"print_hide\": 0, \"label\": \"Series\"}, {\"fieldname\": \"company\", \"print_hide\": 0, \"label\": \"Company\"}, {\"fieldname\": \"gstin\", \"print_hide\": 0, \"label\": \"GSTIN / UIN\"}, {\"fieldname\": \"exporter_iec\", \"print_hide\": 0, \"label\": \"Exporter IEC\"}, {\"fieldname\": \"workflow_state\", \"print_hide\": 0, \"label\": \"Workflow State\"}, {\"fieldname\": \"logistic_type\", \"print_hide\": 0, \"label\": \"Logistic Type\"}, {\"fieldname\": \"po_so\", \"print_hide\": 0, \"label\": \"Voucher Type\"}, {\"fieldname\": \"order_no\", \"print_hide\": 0, \"label\": \"Voucher No\"}, {\"fieldname\": \"multiple_pos\", \"print_hide\": 0, \"label\": \"Multiple POs\"}, {\"fieldname\": \"file_number\", \"print_hide\": 0, \"label\": \"File Number\"}, {\"fieldname\": \"custom_file_number\", \"print_hide\": 0, \"label\": \"File Number\"}, {\"fieldname\": \"requester_name\", \"print_hide\": 0, \"label\": \"Requester Name\"}, {\"fieldname\": \"scope_of_delivery\", \"print_hide\": 0, \"label\": \"Scope of Delivery\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"status\", \"print_hide\": 0, \"label\": \"Shipment Status\"}, {\"fieldname\": \"cargo_type\", \"print_hide\": 0, \"label\": \"Cargo Type\"}, {\"fieldname\": \"supplier\", \"print_hide\": 0, \"label\": \"Supplier Name\"}, {\"fieldname\": \"credit_days\", \"print_hide\": 0, \"label\": \"Credit Days\"}, {\"fieldname\": \"inventory_destination\", \"print_hide\": 0, \"label\": \"Inventory destination \"}, {\"fieldname\": \"warehouse\", \"print_hide\": 0, \"label\": \"Final Destination\"}, {\"fieldname\": \"customer\", \"print_hide\": 0, \"label\": \"Customer\"}, {\"fieldname\": \"tentative_production_completion\", \"print_hide\": 0, \"label\": \"Tentative Production Completion Date\"}, {\"fieldname\": \"alert_date\", \"print_hide\": 0, \"label\": \"Alert Date\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Currency and Price List\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"currency\", \"print_hide\": 0, \"label\": \"Currency\"}, {\"fieldname\": \"conv_rate\", \"print_hide\": 0, \"label\": \"Conversion Rate\"}, {\"fieldname\": \"conversion_rate\", \"print_hide\": 0, \"label\": \" Conversion Rate\"}, {\"fieldname\": \"plc_conversion_rate\", \"print_hide\": 0, \"label\": \"Price List Exchange Rate\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"buying_price_list\", \"print_hide\": 0, \"label\": \"Buying Price List\"}, {\"fieldname\": \"price_list_currency\", \"print_hide\": 0, \"label\": \"Price List Currency\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"product_description\", \"print_hide\": 0, \"label\": \"Product Description\", \"visible_columns\": [{\"fieldname\": \"fg_item\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"fg_item_qty\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"item_code\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"product_bundle\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"expected_delivery_date\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_item_order_type\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"mr_scheduling\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"mr_scheduling_name\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"description\", \"print_width\": \"300px\", \"print_hide\": 0}, {\"fieldname\": \"image\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"qty\", \"print_width\": \"60px\", \"print_hide\": 0}, {\"fieldname\": \"open_qty\", \"print_width\": \"60px\", \"print_hide\": 0}, {\"fieldname\": \"stock_uom\", \"print_width\": \"100px\", \"print_hide\": 0}, {\"fieldname\": \"uom\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"discount_percentage\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"discount_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"schedule\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"item_tax_template\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"pricing_rules\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"stock_uom_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"is_free_item\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"apply_tds\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"igst_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"igst_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cgst_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"sgst_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cgst_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"sgst_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_non_advol_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_non_advol_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"igst_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"igst_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cgst_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"sgst_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cgst_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"sgst_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_non_advol_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_non_advol_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"from_warehouse\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"company_total_stock\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"supplier_quotation\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"supplier_quotation_item\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"against_blanket_order\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"blanket_order\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"wip_composite_asset\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"manufacturer\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"manufacturer_part_no\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"weight_per_unit\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"weight_uom\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"is_fixed_asset\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"production_plan_item\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"production_plan_sub_assembly_item\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"product_description_so\", \"print_hide\": 0, \"label\": \"Product Description\", \"visible_columns\": [{\"fieldname\": \"has_item_scanned\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"item_code\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_customs_tariff_number\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"description\", \"print_width\": \"200px\", \"print_hide\": 0}, {\"fieldname\": \"image\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"qty\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"stock_uom\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"uom\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"discount_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"stock_uom_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"grant_commission\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"igst_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cgst_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"sgst_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_non_advol_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"igst_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cgst_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"sgst_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cess_non_advol_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"asset\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"finance_book\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"discount_account\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"deferred_revenue_account\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"service_stop_date\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"enable_deferred_revenue\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"service_start_date\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"service_end_date\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_packing_weight\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_gross_weight\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_dimensions_uom_p\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_cbm\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_box\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_no_of_boxes\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_box_length\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_box_breadth\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_box_height\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_weight_per_unit_b\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_total_weight_of_boxes\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_pallet\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_no_of_pallets\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_pallet_length\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_pallet_breadth\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_pallet_height\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_weight_per_unit_p\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"custom_total_weight_of_pallets\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"quality_inspection\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"pick_serial_and_batch\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"batch_no\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"serial_no\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"project\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"consignment_type\", \"print_hide\": 0, \"label\": \"Consignment type\"}, {\"fieldname\": \"grand_total\", \"print_hide\": 0, \"label\": \"Grand Total\"}, {\"fieldname\": \"project\", \"print_hide\": 0, \"label\": \"Project Name\"}, {\"fieldname\": \"final_doc\", \"print_hide\": 0, \"label\": \"Final Doc\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"currency_inr\", \"print_hide\": 0, \"label\": \"Currency INR\"}, {\"fieldname\": \"custom_duty\", \"print_hide\": 0, \"label\": \"Forecast \\u2013 Customs Duty Amount (By default - 45% of Grand Total)\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Quantity / Packages\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"courier__awb__bl_number__container\", \"print_hide\": 0, \"label\": \"Courier / Container\"}, {\"fieldname\": \"dimensions\", \"print_hide\": 0, \"label\": \"Dimensions\"}, {\"fieldname\": \"gross_wt\", \"print_hide\": 0, \"label\": \"Gross Wt\"}, {\"fieldname\": \"cbm\", \"print_hide\": 0, \"label\": \"CBM\"}, {\"fieldname\": \"box_summary\", \"print_hide\": 0, \"label\": \"Box Summary\"}, {\"fieldname\": \"uom\", \"print_hide\": 0, \"label\": \"UOM \"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"box_pallet_count\", \"print_hide\": 0, \"label\": \"Boxes/Pallet-Count\"}, {\"fieldname\": \"net_wt\", \"print_hide\": 0, \"label\": \"Net Wt\"}, {\"fieldname\": \"seacontainertype\", \"print_hide\": 0, \"label\": \"Sea Container Type\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Summary of Box & Pallet\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"box_summary_table\", \"print_hide\": 0, \"label\": \"Box Summary\", \"visible_columns\": [{\"fieldname\": \"box\", \"print_width\": \"200px\", \"print_hide\": 0}, {\"fieldname\": \"total_no_of_box\", \"print_width\": \"150px\", \"print_hide\": 0}, {\"fieldname\": \"weight_per_unit\", \"print_width\": \"150px\", \"print_hide\": 0}, {\"fieldname\": \"total_weight\", \"print_width\": \"150px\", \"print_hide\": 0}, {\"fieldname\": \"total_length\", \"print_width\": \"100px\", \"print_hide\": 0}, {\"fieldname\": \"total_breadth\", \"print_width\": \"150px\", \"print_hide\": 0}, {\"fieldname\": \"total_height\", \"print_width\": \"100px\", \"print_hide\": 0}]}, {\"fieldname\": \"pallet_summary\", \"print_hide\": 0, \"label\": \"Pallet Summary\", \"visible_columns\": [{\"fieldname\": \"pallet\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"total_no_of_pallet\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"weight_per_unit\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"total_weight\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"total_length\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"total_breadth\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"total_height\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"Attach Documents\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"document_attached\", \"print_hide\": 0, \"visible_columns\": [{\"fieldname\": \"\", \"print_hide\": 0}]}, {\"fieldname\": \"draft_invoice\", \"print_hide\": 0, \"label\": \"Draft Invoice\"}, {\"fieldname\": \"packing_list_2\", \"print_hide\": 0, \"label\": \"Packing List\"}, {\"fieldname\": \"payment_ttc\", \"print_hide\": 0, \"label\": \"Payment TTC\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Logistics OPS\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"date_of_shipment\", \"print_hide\": 0, \"label\": \"Date of Shipment\"}, {\"fieldname\": \"wonjin_incoterms\", \"print_hide\": 0, \"label\": \"Wonjin INCOTERMS\"}, {\"fieldname\": \"pol_seaport\", \"print_hide\": 0, \"label\": \"POL SEAPORT\"}, {\"fieldname\": \"pol_city_seaport\", \"print_hide\": 0, \"label\": \"POL City\"}, {\"fieldname\": \"pol_country_seaport\", \"print_hide\": 0, \"label\": \"POL Country\"}, {\"fieldname\": \"pol_airport\", \"print_hide\": 0, \"label\": \"POL AIRPORT\"}, {\"fieldname\": \"pol_city_airport\", \"print_hide\": 0, \"label\": \"POL City\"}, {\"fieldname\": \"pol_country_airport\", \"print_hide\": 0, \"label\": \"POL Country\"}, {\"fieldname\": \"etd\", \"print_hide\": 0, \"label\": \"ETD \"}, {\"fieldname\": \"transit_time\", \"print_hide\": 0, \"label\": \"Transit Time\"}, {\"fieldname\": \"master_bl_number__awb\", \"print_hide\": 0, \"label\": \"Master BL Number / AWB\"}, {\"fieldname\": \"carrier_name\", \"print_hide\": 0, \"label\": \"Carrier Name\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"shipping_line\", \"print_hide\": 0, \"label\": \"Shipping Line\"}, {\"fieldname\": \"supplier_incoterms\", \"print_hide\": 0, \"label\": \"Supplier INCOTERMS\"}, {\"fieldname\": \"customer_incoterms\", \"print_hide\": 0, \"label\": \"Customer INCOTERMS\"}, {\"fieldname\": \"pod_seaport\", \"print_hide\": 0, \"label\": \"POD SEAPORT\"}, {\"fieldname\": \"pod_city_seaport\", \"print_hide\": 0, \"label\": \"POD City\"}, {\"fieldname\": \"pod_country_seaport\", \"print_hide\": 0, \"label\": \"POD Country\"}, {\"fieldname\": \"pod_airport\", \"print_hide\": 0, \"label\": \"POD AIRPORT\"}, {\"fieldname\": \"pod_city_airport\", \"print_hide\": 0, \"label\": \"POD City\"}, {\"fieldname\": \"pod_country_airport\", \"print_hide\": 0, \"label\": \"POD Country\"}, {\"fieldname\": \"eta\", \"print_hide\": 0, \"label\": \"ETA\"}, {\"fieldname\": \"document_dispatch_list\", \"print_hide\": 0, \"label\": \"Document Dispatch List\"}, {\"fieldname\": \"normal_bl_number__awb\", \"print_hide\": 0, \"label\": \"Normal BL Number / AWB\"}, {\"fieldtype\": \"Section Break\", \"label\": \"ETD / ETA Revision Log\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"remarks\", \"print_hide\": 0, \"label\": \"Remarks\", \"visible_columns\": [{\"fieldname\": \"date\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"time\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"revision_on\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"remarks\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"Freight & Forwarder\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"ffw_quotation\", \"print_hide\": 0, \"label\": \"FFW Quotation\", \"visible_columns\": [{\"fieldname\": \"ffw_name\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"currency\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"quoted_value\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"quotation\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"clearance_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"total\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"percentage_on_purchase_value\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"recommended_ffw\", \"print_hide\": 0, \"label\": \"Recommended FFW\"}, {\"fieldname\": \"cdm_comment\", \"print_hide\": 0, \"label\": \"CDM Comment (Optional)\"}, {\"fieldname\": \"ffw_approved\", \"print_hide\": 0, \"label\": \"FFW Approved\"}, {\"fieldname\": \"freight_charges\", \"print_hide\": 0, \"label\": \"Freight Charges\"}, {\"fieldname\": \"cha_charges\", \"print_hide\": 0, \"label\": \"CHA Charges\"}, {\"fieldname\": \"comments\", \"print_hide\": 0, \"label\": \"Comments\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"handling_charges\", \"print_hide\": 0, \"label\": \"Port/Handling Charges\"}, {\"fieldname\": \"insurance\", \"print_hide\": 0, \"label\": \"Insurance\"}, {\"fieldname\": \"total_shipment_cost\", \"print_hide\": 0, \"label\": \"Total Shipment Cost\"}, {\"fieldname\": \"quoted_value_in_company_currency\", \"print_hide\": 0, \"label\": \"Quoted Value (INR)\"}, {\"fieldname\": \"quoted_currency\", \"print_hide\": 0, \"label\": \"Quoted Currency\"}, {\"fieldname\": \"quoted_amount\", \"print_hide\": 0, \"label\": \"Quoted Amount\"}, {\"fieldname\": \"revised_quote\", \"print_hide\": 0, \"label\": \"Revised Quote\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Customs House Agent (CHA) & Clearance\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"appointed_cha_name\", \"print_hide\": 0, \"label\": \"Appointed CHA name\"}, {\"fieldname\": \"boe_number\", \"print_hide\": 0, \"label\": \"BOE Number\"}, {\"fieldname\": \"duty_details\", \"print_hide\": 0, \"label\": \" Duty/Duty Drawback Details\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"clearance_status\", \"print_hide\": 0, \"label\": \"Clearance Status\"}, {\"fieldname\": \"boe_date\", \"print_hide\": 0, \"label\": \"BOE Date\"}, {\"fieldname\": \"payment_challan_attachment\", \"print_hide\": 0, \"label\": \"Payment Challan Attachment\"}, {\"fieldname\": \"payment_date\", \"print_hide\": 0, \"label\": \"Payment Date\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Documents Status\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"received_by\", \"print_hide\": 0, \"label\": \"Received By\"}, {\"fieldname\": \"dispatched_by\", \"print_hide\": 0, \"label\": \"Dispatched By\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"date\", \"print_hide\": 0, \"label\": \"Date&Time\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Delivery\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"vehicle_number_copy\", \"print_hide\": 0, \"label\": \"Vehicle Number\"}, {\"fieldname\": \"vehicle_type_copy\", \"print_hide\": 0, \"label\": \"Vehicle Type\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"driver_name_copy\", \"print_hide\": 0, \"label\": \"Driver Name\"}, {\"fieldname\": \"driver_contact_number_copy\", \"print_hide\": 0, \"label\": \"Driver Contact Number\"}, {\"fieldtype\": \"Section Break\", \"label\": \"E- Way Bill\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"e_way_bill__copy\", \"print_hide\": 0, \"label\": \"E-Way Bill\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"e_way_no_copy\", \"print_hide\": 0, \"label\": \"E-Way No\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Attach Bills\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"bills_copy\", \"print_hide\": 0, \"label\": \"Bills\", \"visible_columns\": [{\"fieldname\": \"bills\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"amount\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldname\": \"mode_of_dispatch_copy\", \"print_hide\": 0, \"label\": \"Mode of Dispatch\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Applicable Charges\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"taxes\", \"print_hide\": 0, \"label\": \"Taxes on Charges\", \"visible_columns\": [{\"fieldname\": \"expense_account\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"account_currency\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"exchange_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"description\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"base_amount\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"ffw\", \"print_hide\": 0, \"label\": \"FFW  Name\"}, {\"fieldname\": \"purchase_order\", \"print_hide\": 0, \"label\": \"Purchase Order\"}, {\"fieldname\": \"freight_rate\", \"print_hide\": 0, \"label\": \"Freight rate \"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"cha\", \"print_hide\": 0, \"label\": \"CHA Name\"}, {\"fieldname\": \"reached_port\", \"print_hide\": 0, \"label\": \"Reached Port\"}, {\"fieldname\": \"custom_payment\", \"print_hide\": 0, \"label\": \"Customs Duty Payment Status \"}, {\"fieldtype\": \"Section Break\", \"label\": \"Attach Supporting Document\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"support_documents\", \"print_hide\": 0, \"visible_columns\": [{\"fieldname\": \"\", \"print_hide\": 0}]}, {\"fieldname\": \"download\", \"print_hide\": 0, \"label\": \"Download\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Document for Payment Clearance\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"payment_clearance\", \"print_hide\": 0, \"label\": \"Payment Clearance\", \"visible_columns\": [{\"fieldname\": \"attach\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"Customs Clearance & Payment \"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"payment_challan\", \"print_hide\": 0, \"label\": \"Payment Challan Attachment\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"customs_clearance_status\", \"print_hide\": 0, \"label\": \"Customs Clearance Status\"}, {\"fieldname\": \"customs_clearance\", \"print_hide\": 0, \"label\": \"Payment Date\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Delivery\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"vehicle_number\", \"print_hide\": 0, \"label\": \"Vehicle Number\"}, {\"fieldname\": \"vehicle_type\", \"print_hide\": 0, \"label\": \"Vehicle Type\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"driver_name\", \"print_hide\": 0, \"label\": \"Driver Name\"}, {\"fieldname\": \"driver_contact_number\", \"print_hide\": 0, \"label\": \"Driver Contact Number\"}, {\"fieldtype\": \"Section Break\", \"label\": \"E- Way Bill\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"e_way_bill\", \"print_hide\": 0, \"label\": \"E-Way Bill \"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"e_way_no\", \"print_hide\": 0, \"label\": \"E-Way No\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Purchase Receipts\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"receipts\", \"print_hide\": 0, \"label\": \"Receipts\", \"visible_columns\": [{\"fieldname\": \"purchase_receipt\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"Attach Bills\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"bills\", \"print_hide\": 0, \"label\": \"Bills\", \"visible_columns\": [{\"fieldname\": \"bills\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"amount\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldname\": \"mode_of_dispatch\", \"print_hide\": 0, \"label\": \"Mode of Dispatch\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"attachment\", \"print_hide\": 0, \"label\": \"Attach Proof\"}, {\"fieldname\": \"date_of_delivery\", \"print_hide\": 0, \"label\": \"Date of Delivery\"}, {\"fieldname\": \"receive_by_name\", \"print_hide\": 0, \"label\": \"Receive by Name\"}, {\"fieldname\": \"closing_remarks\", \"print_hide\": 0, \"label\": \"Closing Remarks\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"invoice_attachment\", \"print_hide\": 0, \"label\": \"Invoice Attachment\"}, {\"fieldname\": \"date_of_invoice\", \"print_hide\": 0, \"label\": \"Date of Invoice\"}, {\"fieldname\": \"ffw_final\", \"print_hide\": 0, \"label\": \"FFW\"}, {\"fieldname\": \"invoice_value\", \"print_hide\": 0, \"label\": \"Invoice Value\"}]",
  "html": "<meta name=\"pdfkit-orientation\" content=\"landscape\" />\n<meta name=\"page-size\" content ='A4'/>\n\n\n<table border=\"1\" cellspacing=\"0\" cellpadding=\"5\" class=\"remove-bottom-border;\">\n  <tr>\n    <td colspan=1 style=\" border-right: none !important;\">&nbsp;<img src=\"/files/ci_img.png\" width=\"120px\" height=35%;>\n                 \n            </td>\n    <td colspan=9 style=\"border-left: none !important;font-size: 14px; font-family: 'Book Antiqua', 'Palatino Linotype', Palatino, serif; \">\n                        <div style=\"padding-left:250px;\"><b>LOGISTICS REQUEST APPROVAL</b></div>\n    </td>\n  </tr>\n  <tr>\n    <td class=\"label-cell\"><span class=\"label-text\">Department</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :</td>\n    <td colspan=\"4\" style=\"border-right: none;\" class=\"value-cell\">LOGISTICS</td>\n    <td class=\"label-cell\" style=\"border-left: none;\"><span class=\"label-text\">Request Date</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :</td>\n    <td colspan=\"4\" class=\"value-cell\">{{ frappe.utils.format_date(doc.creation) }}</td>\n  </tr>\n\n  <tr>\n    <td class=\"label-cell\"><span class=\"label-text\">Requester Name</span> &nbsp;&nbsp;&nbsp;&nbsp; :</td>\n    {% set name = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, [\"employee_name\"]) %}\n    <td colspan=\"4\" style=\"border-right: none;\" class=\"value-cell\">{{ name or '' }}</td>\n    <td class=\"label-cell\" style=\"border-left: none;\"><span class=\"label-text\">Doc. No</span> &nbsp;&nbsp;&nbsp;&nbsp; :</td>\n    <td colspan=\"4\" class=\"value-cell\">{{ doc.name }}</td>\n  </tr>\n\n  <tr style=\"border-top: 1px solid black !important; border-bottom: 1px solid black !important; \">\n    <td class=\"label-cell\"><span class=\"label-text\" >Customer Name</span>&nbsp;&nbsp;&nbsp;&nbsp; :</td>\n    <td colspan=\"9\" class=\"value-cell\" style=\"border-top: 1px solid black !important; border-bottom: 1px solid black !important;font-weight:bold; \">{{ doc.customer or \"\" }}</td>\n  </tr>\n\n  <tr>\n    <td class=\"label-cell\"><span class=\"label-text\">Logistic Mode</span> &nbsp;&nbsp;&nbsp;&nbsp; :</td>\n    <td colspan=\"9\" class=\"value-cell\">{{ doc.logistic_type or \"\" }}</td>\n  </tr>\n\n  <tr>\n    <td class=\"label-cell\"><span class=\"label-text\">Scope of Delivery</span> &nbsp;&nbsp;&nbsp;&nbsp; :</td>\n    <td colspan=\"9\" class=\"value-cell\">{{ doc.scope_of_delivery or \"\" }}</td>\n  </tr>\n\n  <tr>\n    <td class=\"label-cell\"><span class=\"label-text\">Shipment Mode</span> &nbsp;&nbsp;&nbsp;&nbsp; :</td>\n    <td colspan=\"9\" class=\"value-cell\">{{ doc.cargo_type or \"\" }}</td>\n  </tr>\n\n  <tr>\n    <td class=\"label-cell\"><span class=\"label-text\">Invoice No</span> &nbsp;&nbsp;&nbsp;&nbsp; :</td>\n    <td colspan=\"9\" class=\"value-cell\">{{ doc.order_no or \"\" }}</td>\n  </tr>\n\n  <tr class=\"remove-bottom-border;\" style=\"border-bottom: hidden;\">\n    <td class=\"label-cell remove-bottom-border;\" style=\"border-bottom: none !important;\"><span class=\"label-text\">Remarks</span> &nbsp;&nbsp;&nbsp;&nbsp; :</td>\n    {% set name = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, [\"employee_name\"]) %}\n    <td colspan=\"9\" style=\"border-bottom: none !important;\" class=\"value-cell remove-bottom-border;\">{{ name or '' }}</td>\n  </tr>\n</table>\n  <div class=\"container remove-top-border; \" style=\" border-bottom: 1px solid black !important;border-left: 1px solid black !important;border-right: 1px solid black !important;\">\n    <div class=\"row remove-top-border;\" style=\"border-bottom: none !important;\">\n        <div class=\"col-xs-12 p-0 remove-top-border;\" style=\"font-size:10px;border-top: none !important;\">\n        <table class=\"remove-top-border;\" border=\"1\" cellspacing=\"0\" cellpadding=\"5\" style=\"width:100%; border-collapse:collapse; text-align:center;border-top: none;border-right: none;border-left: none;border-bottom: none !important;border-top: none !important;\">\n\n        <tr class=\"remove-top-border;\" style=\"font-size: 13px;font-weight: bold; text-align:center; font-family: 'Book Antiqua', 'Palatino Linotype', Palatino, serif;border-left: none;border-right: none;\">\n            <td colspan=1 class=\"remove-top-border;\" style=\"width:4%;border-left: none;\">S.No</td>\n            <td class=\"remove-top-border;\" style=\"width:40%;\">Forwarder Name</td>\n            <td class=\"remove-top-border;\" style=\"width:7%;\">Volume in <br>details(CBM)</td>\n            <td class=\"remove-top-border;\" style=\"width:7%;\">Invoice Value <br>INR</td>\n            <td class=\"remove-top-border;\" style=\"width:7%;\">Freight Charges</td>\n            <td class=\"remove-top-border;\" style=\"width:7%;\">Port/Handling Charges</td>\n            <td class=\"remove-top-border;\" style=\"width:7%;\">CHA Charges</td>\n            <td class=\"remove-top-border;\" style=\"width:7%;\">Total Expenses</td>\n            <td class=\"remove-top-border;\" style=\"width:7%;\">%</td>\n            <td class=\"remove-top-border;\" style=\"width:7%;border-right: none;\">Remarks</td>\n        </tr>\n\n{%- set max_rows = 5 -%}\n{%- set row_count = (doc.ffw_quotation|length)  -%}\n\n{%- for item in doc.ffw_quotation -%}\n<tr style=\"font-size:13px; font-family:'Book Antiqua', 'Palatino Linotype', Palatino, serif;\">\n    {% set ffw_name = frappe.db.get_value(\"Supplier\", item.ffw_name, 'supplier_name') %}\n    <td style=\"text-align:center; border:1px solid black;border-bottom: hidden;border-left: none !important;\">{{ item.idx }}</td>\n    <td style=\"text-align:center; border:1px solid black;border-bottom: hidden;\">{{ ffw_name }}</td>\n    <td style=\"text-align:center; border:1px solid black;border-bottom: hidden;\">{{ doc.cbm or \"\" }}</td>\n    {% set tot = frappe.db.get_value(\"Sales Invoice\", {\"name\": doc.order_no}, \"base_grand_total\") %}\n    <td style=\"text-align:right; border:1px solid black;border-bottom: hidden;\">{{ frappe.utils.fmt_money(tot) }}</td>\n    <td style=\"text-align:right; border:1px solid black;border-bottom: hidden;\">{{ item.freight_charges }}</td>\n    <td style=\"text-align:right; border:1px solid black;border-bottom: hidden;\">{{ item.porthandling_charges }}</td>\n    <td style=\"text-align:right; border:1px solid black;border-bottom: hidden;\">{{ item.cha_charges }}</td>\n    <td style=\"text-align:right; border:1px solid black;border-bottom: hidden;\">{{ frappe.utils.fmt_money(item.total_shipment_cost) }}</td>\n    {% set per = ((item.quoted_value / doc.grand_total) * 100) %}\n    <td style=\"text-align:right; border:1px solid black;border-bottom: hidden;\">{{ \"{:.2f}%\".format(per) }}</td>\n    <td style=\"border-right:1px solid black; border-top:1px solid black;border-bottom: hidden;\"></td>\n</tr>\n{%- endfor -%}\n{% if row_count < 3 %}\n        {% set row_height = 10 %}\n    {% else %}\n        {% set row_height = 12 %}\n    {% endif %}\n\n{%- for i in range(row_count, max_rows) -%}\n\n<!--<tr class=\"remove-bottom-border;\" style=\"border-bottom: none !important;\">-->\n    <tr class=\"remove-bottom-border\"style=\"font-size:10px;border-left: none !important;border: 1px solid black;{% if loop.last %}border-bottom:1px solid black;{% else %}border-bottom:none !important;{% endif %} border-top:none;height:{{ row_height }}px;\">\n    <td class=\"no-top-bottom remove-bottom-border\" style=\"text-align:center;font-size:10px;border: 1px solid black;border-bottom: none !important;border-left: none !important;\"></td>\n    <td class=\"no-top-bottom remove-bottom-border\" style=\"text-align:center;font-size:10px;border: 1px solid black;border-bottom: none !important;border-left: none !important;\"></td>\n    <td class=\"no-top-bottom remove-bottom-border\" style=\"text-align:center;font-size:10px;border: 1px solid black;border-bottom: none !important;border-left: none !important;\"></td>\n    <td class=\"no-top-bottom remove-bottom-border\" style=\"text-align:center;font-size:10px;border: 1px solid black;border-bottom: none !important;border-left: none !important;\"></td>\n    <td class=\"no-top-bottom remove-bottom-border\" style=\"text-align:center;font-size:10px;border: 1px solid black;border-bottom: none !important;border-left: none !important;\"></td>\n    <td class=\"no-top-bottom remove-bottom-border\" style=\"text-align:center;font-size:10px;border: 1px solid black;border-bottom: none !important;border-left: none !important;\"></td>\n    <td class=\"no-top-bottom remove-bottom-border\" style=\"text-align:center;font-size:10px;border: 1px solid black;border-bottom: none !important;border-left: none !important;\"></td>\n    <td class=\"no-top-bottom remove-bottom-border\" style=\"text-align:center;font-size:10px;border: 1px solid black;border-bottom: none !important;border-left: none !important;\"></td>\n    <td class=\"no-top-bottom remove-bottom-border\" style=\"text-align:center;font-size:10px;border: 1px solid black;border-bottom: none !important;border-left: none !important;\"></td>\n    <td class=\"remove-bottom-border\" style=\"border: 1px solid black;border-bottom:none !important;border-top: none !important;border-right:none !important;line-height:0.4;\"></td>\n</tr>\n{%- endfor -%}\n\n\n    </table>\n   \n    <table border=1 width=100% style=\"border-collapse:collapse;page-break-inside: avoid; break-inside: avoid;\">\n        <tr style=\"line-height:0.5;font-size: 4px;  font-family: 'Book Antiqua', 'Palatino Linotype', Palatino, serif; text-align:left;border-left:hidden;border-right: hidden;border-bottom: hidden;\"><td colspan=10>&nbsp;</td></tr>\n        <tr style=\"font-size: 13px;  font-family: 'Book Antiqua', 'Palatino Linotype', Palatino, serif; text-align:left;border-left:hidden;\">\n            <td style=\"border-right: none;border-top: none;border-bottom: none;border-left:none;\"><b>ETD</b>&nbsp;:&nbsp;{{frappe.format(doc.etd,{'fieldtype': 'Date'}) or \"\"}}</td>\n            <td style=\"border-right: none;border-left: none;border-bottom: none;border-top: none !important;\"><b>ETA</b>&nbsp;:&nbsp;{{frappe.format(doc.eta,{'fieldtype': 'Date'}) or \"\"}}</td>\n            <td style=\"border-left: none;border-bottom: none;border-top: none !important;border-right:none;\"><b>Transit Time</b>&nbsp;:&nbsp;{{doc.transit_time or \"\"}}</td>\n        </tr>\n        <tr style=\"line-height:0.2;font-size: 3px;border-top: none;border-left:hidden;border-right:hidden;border-top: hidden;border-bottom: hidden;\"><td colspan=10>&nbsp;</td></tr>\n    <tr style=\"border-top: none;border-left:hidden;border-right:hidden;\">\n        {%set supplier_name = frappe.db.get_value(\"Supplier\",doc.recommended_ffw,'supplier_name') %}\n            <td colspan=10 style=\"border-top: none;border-bottom: 1px solid black !important;font-size:13px;border-left:none;border-right:none;\">Conclusion : After a several round of discussion we have finalized the deal with &nbsp;<b>{{supplier_name}}</b></td>\n        </tr>\n            <tr style=\"line-height:0.2;font-size: 3px;border-top: none;border-left:hidden;border-right:hidden;border-top: hidden;border-bottom: 1px solid black !important;\"><td colspan=10>&nbsp;</td></tr>\n\n        </table>\n        \n\n\n<table class=\"remove-top-border\" border=\"1\" cellspacing=\"0\" cellpadding=\"5\"\n    style=\"width:100%;border-collapse:collapse;text-align:center;page-break-inside:avoid;break-inside:avoid;\">\n\n    <!-- HEADER ROW -->\n    {% if doc.cargo_type == \"Air\" and doc.scope_of_delivery==\"Wonjin\" %} \n    <td colspan=1 class =\"remove-top-border\" style=\"width:12.5%;border-right:hidden;border:bottom:hidden;border-left:hidden;\">Prepared By</td>\n    <td colspan=1 class =\"remove-top-border\" style=\"width:12.5%;border-right:none;border:bottom:hidden;border-left:none;\">Requested By</td> \n    <td colspan=1 class =\"remove-top-border\" style=\"width:12.5%;border-right:none;border:bottom:hidden;border-left:none;\">Finance</td> \n    <td colspan=1 class =\"remove-top-border\" style=\"width:12.5%;border-right:none;border:bottom:hidden;border-left:none;\">BMD</td> \n    <td colspan=1 class =\"remove-top-border\" style=\"width:12.5%;border-right:none;border:bottom:hidden;border-left:none;\">CMD</td>\n    <td colspan=1 class =\"remove-top-border\" style=\"width:12.5%;border-right:hidden;border-bottom:hidden;border-left:none;\">SMD</td> \n    {% elif doc.cargo_type == \"Sea\" and doc.scope_of_delivery==\"Wonjin\" %} \n    <td colspan=\"1\" class =\"remove-top-border\" style=\"width:12.5%;border-bottom:hidden;border-right:none;border-left:hidden;\">Prepared By</td> \n    <td colspan=1 class =\"remove-top-border\" style=\"width:12.5%;border-right:none;border:bottom:hidden;border-left:none;\">Requested By</td>\n    <td colspan=\"2\" class =\"remove-top-border\" style=\"width:12.5%;border-bottom:hidden;border-right:hidden;border-left:none;\">Finance</td> \n    <td colspan=\"2\" class =\"remove-top-border\" style=\"width:12.5%;border-right:none;border-left:hidden;border-bottom:hidden;\">CMD</td>\n    {% elif doc.scope_of_delivery==\"Customer\" %} \n    <td colspan=2 class =\"remove-top-border\" style=\"width:12.5%;border-bottom:hidden;border-right:hidden;border-left:hidden;\">Prepared By</td> \n    <td colspan=2 class =\"remove-top-border\" style=\"width:12.5%;border-right:hidden;border:bottom:hidden;border-left:none;\">Requested By</td> \n    <td colspan=2 class =\"remove-top-border\" style=\"width:12.5%;border-right:hidden;border-left:hidden;border-bottom:hidden;\">Finance</td>\n    {% endif %}\n    </tr>\n    <!-- SIGNATURE ROW -->\n    <tr style=\"font-size:10px;font-family:'Book Antiqua','Palatino Linotype',Palatino,serif;border-bottom:hidden;border-right:hidden;border-left:hidden;\">\n        {% if doc.cargo_type == \"Air\" and doc.scope_of_delivery==\"Wonjin\" %}\n            \n            {% set prepared_by = frappe.db.get_value(\"Employee\",{\"user_id\": doc.prepared_by},['custom_digital_signature']) %}\n            <td style=\"height:60px;vertical-align:middle;border-top:hidden;border-right:hidden;border-left:hidden;text-align:center;\">\n                {% if prepared_by %}<img src=\"{{prepared_by}}\" style=\"height:60px;width:35%;object-fit:contain;\">{% endif %}\n            </td>\n            {% set si_owner = frappe.db.get_value(\"Sales Invoice\",{\"name\": doc.order_no},['owner']) %}\n            {% set requested_by = frappe.db.get_value(\"Employee\",{\"user_id\": doc.owner},['custom_digital_signature']) %}\n            <td style=\"height:60px;vertical-align:middle;border-top:hidden;border-right:hidden;border-left:hidden;text-align:center;\">\n                {% if requested_by %}<img src=\"{{requested_by}}\" style=\"height:60px;width:35%;object-fit:contain;\">{% endif %}\n            </td>\n            \n            \n            {% set finance = frappe.db.get_value(\"Employee\", {\"name\": 'S0189'}, [\"custom_digital_signature\"]) %}\n            <td style=\"height:60px;vertical-align:middle;border-top:hidden;border-right:hidden;border-left:hidden;text-align:center;\">\n                {% if finance and doc.approved_by_finance %}\n                    <img src=\"{{finance}}\" style=\"height:60px;width:35%;object-fit:contain;\">\n                {% endif %}\n            </td>\n            \n            {% set bmd = frappe.db.get_value(\"Employee\", {\"name\": \"BMD01\"}, [\"custom_digital_signature\"]) %}\n            <td style=\"height:60px;vertical-align:middle;border-top:hidden;border-right:hidden;border-left:hidden;text-align:center;\">\n                {% if bmd and doc.approved_by_bmd %}\n                    <img src=\"{{bmd}}\" style=\"height:60px;width:35%;object-fit:contain;\">\n                {% endif %}\n            </td>\n            \n            {% set cmd = frappe.db.get_value(\"Employee\", {\"name\": \"CMD01\"}, [\"custom_digital_signature\"]) %}\n            <td style=\"height:60px;vertical-align:middle;border-top:hidden;border-right:hidden;border-left:hidden;text-align:center;\">\n                {% if cmd and doc.approved_by_cmd %}\n                    <img src=\"{{cmd}}\" style=\"height:60px;width:35%;object-fit:contain;\">\n                {% endif %}\n            </td>\n            \n            {% set smd = frappe.db.get_value(\"Employee\", {\"name\": \"SMD01\"}, [\"custom_digital_signature\"]) %}\n            <td style=\"height:60px;vertical-align:middle;border-top:hidden;border-right:hidden;border-left:hidden;text-align:center;\">\n                {% if smd and doc.approved_by_smd %}\n                    <img src=\"{{smd}}\" style=\"height:60px;width:35%;object-fit:contain;\">\n                {% endif %}\n            </td>\n\n        {% elif doc.cargo_type == \"Sea\" and doc.scope_of_delivery==\"Wonjin\" %}\n            \n            {% set prepared_by = frappe.db.get_value(\"Employee\",{\"user_id\": doc.prepared_by},\"custom_digital_signature\") %}\n            <td style=\"height:60px;vertical-align:middle;border-top:hidden;border-right:hidden;border-left:hidden;text-align:center;\">\n                {% if prepared_by %}<img src=\"{{prepared_by}}\" style=\"height:60px;width:35%;object-fit:contain;\">{% endif %}\n            </td>\n            \n            {% set si_owner = frappe.db.get_value(\"Sales Invoice\",{\"name\": doc.order_no},['owner']) %}\n            {% set requested_by = frappe.db.get_value(\"Employee\",{\"user_id\": doc.owner},['custom_digital_signature']) %}\n            <td style=\"height:60px;vertical-align:middle;border-top:hidden;border-right:hidden;border-left:hidden;text-align:center;\">\n                {% if requested_by %}<img src=\"{{requested_by}}\" style=\"height:60px;width:35%;object-fit:contain;\">{% endif %}\n            </td>\n            \n            {% set finance = frappe.db.get_value(\"Employee\",{\"name\": 'S0189'},[\"custom_digital_signature\"]) %}\n            <td colspan=\"2\" style=\"height:60px;vertical-align:middle;border-top:hidden;border-right:hidden;border-left:hidden;text-align:center;\">\n                {% if finance and doc.approved_by_finance %}<img src=\"{{finance}}\" style=\"height:60px;width:35%;object-fit:contain;\">{% endif %}\n            </td>\n            {% set cmd = frappe.db.get_value(\"Employee\",{\"name\": 'CMD01'},[\"custom_digital_signature\"]) %}\n            <td colspan=\"2\" style=\"height:60px;vertical-align:middle;border-top:hidden;border-right:hidden;border-left:hidden;text-align:center;\">\n                {% if cmd and doc.approved_by_cmd %}<img src=\"{{cmd}}\" style=\"height:60px;width:35%;object-fit:contain;\">{% endif %}\n            </td>\n\n        {% elif doc.scope_of_delivery==\"Customer\" %}\n            \n            {% set prepared_by = frappe.db.get_value(\"Employee\",{\"user_id\": doc.prepared_by},['custom_digital_signature']) %}\n            <td colspan=2 style=\"height:60px;vertical-align:middle;border-top:hidden;border-right:hidden;border-left:hidden;text-align:center;\">\n                {% if prepared_by %}<img src=\"{{prepared_by}}\" style=\"height:50px;width:25%;object-fit:contain;\">{% endif %}\n            </td>\n            \n            {% set si_owner = frappe.db.get_value(\"Sales Invoice\",{\"name\": doc.order_no},['owner']) %}\n            {% set requested_by = frappe.db.get_value(\"Employee\",{\"user_id\": doc.owner},['custom_digital_signature']) %}\n            <td colspan=2 style=\"height:60px;vertical-align:middle;border-top:hidden;border-right:hidden;border-left:hidden;text-align:center;\">\n                {% if requested_by %}<img src=\"{{requested_by}}\" style=\"height:60px;width:35%;object-fit:contain;\">{% endif %}\n            </td>\n            \n            {% set finance = frappe.db.get_value(\"Employee\",{\"name\": 'S0189'},[\"custom_digital_signature\"]) %}\n            <td colspan=\"2\" style=\"height:60px;vertical-align:middle;border-top:hidden;border-right:hidden;border-left:hidden;text-align:center;\">\n                {% if finance and doc.approved_by_finance %}<img src=\"{{finance}}\" style=\"height:50px;width:25%;object-fit:contain;\">{% endif %}\n            </td>\n        {% endif %}\n    </tr>\n\n    <!-- DATETIME ROW (separate) -->\n    <tr class=\"remove-top-border remove-bottom-border\"\n        style=\"font-size:12px;text-align:center;font-family:'Book Antiqua','Palatino Linotype',Palatino,serif;border-top:none;border-right:hidden;border-left:hidden;\">\n        {% if doc.cargo_type == \"Air\" and doc.scope_of_delivery==\"Wonjin\" %}\n            <td class=\"remove-bottom-border\" style=\"border-right:hidden;border-left:hidden;\">{{ frappe.utils.format_datetime(doc.prepared_by_time, \"dd-MM-yyyy HH:mm:ss\") or ''}}</td>\n            <td class=\"remove-bottom-border\" style=\"border-right:hidden;border-left:hidden;\">{{ frappe.utils.format_datetime(doc.creation, \"dd-MM-yyyy HH:mm:ss\") or '' }}</td>\n            {% set si_creation = frappe.db.get_value(\"Sales Invoice\",{\"name\": doc.order_no},['creation']) %}\n            <td class=\"remove-bottom-border\" style=\"border-right:hidden;border-left:hidden;\">{{ frappe.utils.format_datetime(doc.approved_by_finance_date_and_time, \"dd-MM-yyyy HH:mm:ss\")  or ''}}</td>\n            <td class=\"remove-bottom-border\" style=\"border-right:hidden;border-left:hidden;\">{{ frappe.utils.format_datetime(doc.approved_by_bmd_date_and_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}</td>\n            <td class=\"remove-bottom-border\" style=\"border-right:hidden;border-left:hidden;\">{{ frappe.utils.format_datetime(doc.approved_by_cmd_date_and_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}</td>\n            <td class=\"remove-bottom-border\" style=\"border-right:hidden;border-left:hidden;\">{{ frappe.utils.format_datetime(doc.approved_by_smd_date_and_time, \"dd-MM-yyyy HH:mm:ss\") or ''}}</td>\n        {% elif doc.cargo_type == \"Sea\" and doc.scope_of_delivery==\"Wonjin\" %}\n        <td colspan=2 class=\"remove-bottom-border\" style=\"border-right:hidden;border-left:hidden;\">{{ frappe.utils.format_datetime(doc.prepared_by_time, \"dd-MM-yyyy HH:mm:ss\") or ''}}</td>\n            <td colspan=2 class=\"remove-bottom-border\" style=\"border-right:hidden;border-left:hidden;\">{{ frappe.utils.format_datetime(doc.creation, \"dd-MM-yyyy HH:mm:ss\") or '' }}</td>\n            {% set si_creation = frappe.db.get_value(\"Sales Invoice\",{\"name\": doc.order_no},['creation']) %}\n            <!--<td class=\"remove-bottom-border\" style=\"border-right:hidden;border-left:hidden;\">{{ frappe.utils.format_datetime(si_creation, \"dd-MM-yyyy HH:mm:ss\") or ''}}</td>-->\n            <td colspan=\"2\" class=\"remove-bottom-border\" style=\"border-right:hidden;border-left:hidden;\">{{ frappe.utils.format_datetime(doc.approved_by_finance_date_and_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}</td>\n            <td colspan=\"2\" class=\"remove-bottom-border\" style=\"border-right:hidden;border-left:hidden;\">{{ frappe.utils.format_datetime(doc.approved_by_cmd_date_and_time, \"dd-MM-yyyy HH:mm:ss\") or ''}}</td>\n        {% elif doc.scope_of_delivery==\"Customer\" %}\n        <td colspan=2 class=\"remove-bottom-border\" style=\"border-right:hidden;border-left:hidden;\">{{ frappe.utils.format_datetime(doc.prepared_by_time, \"dd-MM-yyyy HH:mm:ss\") or ''}}</td>\n            <td colspan=\"2\" class=\"remove-bottom-border\" style=\"border-right:hidden;border-left:hidden;\">{{ frappe.utils.format_datetime(doc.creation, \"dd-MM-yyyy HH:mm:ss\") or '' }}</td>\n            {% set si_creation = frappe.db.get_value(\"Sales Invoice\",{\"name\": doc.order_no},['creation']) %}\n            <td colspan=\"2\" class=\"remove-bottom-border\" style=\"border-right:hidden;border-left:hidden;\">{{ frappe.utils.format_datetime(doc.approved_by_finance_date_and_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}</td>\n        {% endif %}\n    </tr>\n    <tr class=\"remove-top-border remove-bottom-border\"\n        style=\"font-size:12px;text-align:left;font-family:'Book Antiqua','Palatino Linotype',Palatino,serif;border-top:none;border-right:hidden;border-left:hidden;\">\n        <td class=\"remove-bottom-border\" style=\"border-right:hidden;border-left:hidden;\" colspan=\"6\">Note: This document is Digitally Signed</td>\n        </tr>\n</table>\n</div>\n</div> \n</div>\n<footer id=\"footer-html\" style=\"position:fixed;\">\n   <table width=\"100%\" style=\"border:none;\">\n       <tr>\n           <td width=\"100%\" style=\"text-align:center; font-size:10px;border:none; padding:2px; margin:0;\">\n               <i>Page <span class=\"page\"></span> / <span class=\"topage\"></span></i>\n           </td>\n       </tr>\n   </table>\n</footer>\n<meta name=\"pdfkit-margin-bottom\" content=\"22mm\"/>\n\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-11-27 15:53:10.760891",
  "module": "ONEGENE",
  "name": "FFW New",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\r\n@page {\r\n    size: A4;\r\n    margin: 5mm 5mm 5mm 5mm;\r\n}\r\n\r\n.page-wrapper {\r\n    border: 2px solid black;\r\n    padding: 2mm;\r\n    box-sizing: border-box;\r\n    min-height: 265mm;\r\n    max-width: 200mm;\r\n    margin-top: 0mm;\r\n}\r\n\r\n.content {\r\n    margin-bottom: 50mm;\r\n    width: 100%;\r\n}\r\n\r\n.fixed-footer {\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    padding: 2mm 5mm;\r\n    box-sizing: border-box;\r\n    border-top: none;\r\n    font-size: 10px;\r\n}\r\n\r\n.footer {\r\n    display: block;\r\n    position: running(footer);\r\n}\r\n\r\n.fixed-footer table {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n}\r\n\r\ntable {\r\n    border-collapse: collapse;\r\n    border-spacing: 0;\r\n    width: 100%;\r\n    margin-bottom: 16px;\r\n    page-break-inside: avoid;\r\n}\r\n\r\ntd, th {\r\n    border: 1px solid black;\r\n}\r\n\r\n.header-title {\r\n    font-size: 18px;\r\n    font-weight: bold;\r\n    width: 100%;\r\n}\r\n\r\n.color-box {\r\n    width: 30px;\r\n    height: 20px;\r\n    display: inline-block;\r\n}\r\n\r\n.red { background-color: red; }\r\n.yellow { background-color: yellow; }\r\n.blue { background-color: blue; }\r\n\r\n.right-align {\r\n    text-align: left;\r\n    padding-left: 5px;\r\n}\r\n</style>\r\n\r\n<div class=\"page-wrapper\">\r\n    <div class=\"content\">\r\n\r\n        <table>\r\n            <tr>\r\n                <td style=\"width: 15%; text-align:center; border-right:none; border-bottom:none;\">\r\n                    <div style=\"padding-top:8px;\">\r\n                        <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\r\n                    </div>\r\n                </td>\r\n                <td style=\"width:30%; font-size:20px; text-align:center; border-right:none; border-bottom:none; padding-top:13px\" nowrap>\r\n                    <div class=\"header-title\">INTER OFFICE MEMO (I O M)</div>\r\n                </td>\r\n                <td style=\"width:15%; white-space:nowrap; border-bottom:none; font-weight:bold;\">\r\n                    <div style=\"padding-top:13px; border-bottom:none;\">\r\n                        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\r\n                            ✔\r\n                        </span>\r\n                        {{ doc.priority }}\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        </table>\r\n\r\n        {% set emp_name = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"employee_name\") %}\r\n\r\n        <table style=\"width:100%; border-collapse: collapse; margin-top:-15px;\">\r\n            <tr>\r\n                <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none; border-right:none;\">\r\n                    <p style=\"line-height:1.1\">\r\n                        <span style=\"display:inline-block; width:100px;\">Dept.From </span>:&nbsp;{{ doc.department_from or '' }}<br><br>\r\n                        <span style=\"display:inline-block; width:100px;\">Dept.To </span>:&nbsp;{{ doc.department_to or '' }}<br><br>\r\n                        <span style=\"display:inline-block; width:100px;\">Created By</span>: &nbsp;{{ emp_name or '' }}<br><br>\r\n                    </p>\r\n                </td>\r\n                <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none; border-left:none;\">\r\n                    <p style=\"line-height:1.1\">\r\n                        <span style=\"display:inline-block; width:90px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\r\n                        <span style=\"display:inline-block; width:90px;\">Doc.No</span>: {{ doc.name }}<br><br>\r\n                        <span style=\"display:inline-block; width:90px;\">Requested By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\r\n                    </p>\r\n                </td>\r\n            </tr>\r\n        </table>\r\n\r\n        <table style=\"margin-top:-30px; width: 100%;\">\r\n            <tr>\r\n                <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\r\n                    SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;\r\n                    <span style=\"display: inline-block; width: 70%; text-align: center;\">\r\n                        {{ doc.iom_type or 'NA' }}\r\n                    </span>\r\n                </td>\r\n            </tr>\r\n        </table>\r\n\r\n        <br>\r\n\r\n        {% set label_width = \"140px\" %}\r\n\r\n        <div style=\"margin-bottom: 4px;\">\r\n            <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Revision Level</span>\r\n            <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.revision_level or 'NA' }}</span>\r\n        </div>\r\n        <div style=\"margin-bottom: 4px;\">\r\n            <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Schedule Month</span>\r\n            <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.schedule_month or 'NA' }}</span>\r\n        </div>\r\n        <div style=\"margin-bottom: 4px;\">\r\n            <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Reason For Update</span>\r\n            <!--<span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.approval_schdule_increase[0].reason_for_request if doc.approval_schdule_increase and doc.approval_schdule_increase[0].forwarder_name else 'NA' }}</span>-->\r\n            <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.subject or 'NA' }}</span>\r\n        </div>\r\n\r\n <br>\r\n {% set grouped = {} %}\r\n{% set schedule_totals = {} %}\r\n{# --- Group by customer_code and sum revised/difference values --- #}\r\n{% for row in doc.approval_schdule_increase %}\r\n    {% set code = row.customer_code %}\r\n    {% if code not in grouped %}\r\n        {% set _ = grouped.update({code: {\r\n            \"customer_type\": row.customer_type,\r\n            \"current_schedule_value\": (schedule_totals.get(code) or 0) | float,\r\n            \"increase_value\": (row.difference_value or 0) | float\r\n        }}) %}\r\n    {% else %}\r\n        {% set _ = grouped[code].update({\r\n            \"increase_value\": (grouped[code].increase_value or 0) + (row.difference_value or 0)\r\n        }) %}\r\n    {% endif %}\r\n{% endfor %}\r\n<div style=\"margin-bottom: 4px;\">\r\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;text-decoration: underline;\">Customer Wise</span>\r\n</div>\r\n\r\n<table style=\"width:100%;border-collapse:collapse;\" border=\"1\">\r\n    <tr>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">S.No</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Customer Type</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Customer Code</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Current Schedule Value</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Revised Schedule Value</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Difference Value</td>\r\n    </tr>\r\n\r\n    {% set ns = namespace(total_difference=0) %}\r\n    {% if doc.customer_wise_schedule %}\r\n        {% for row in doc.customer_wise_schedule %}\r\n            {% set ns.total_difference = ns.total_difference + row.difference_value %}\r\n            {# Set up/down arrow #}\r\n            {% if row.difference_value > 0 %}\r\n                {% set arrow = '<span style=\"color:green;\">&#9650;</span>' %} {# ▲ Up arrow (green) #}\r\n            {% elif row.difference_value < 0 %}\r\n                {% set arrow = '<span style=\"color:red;\">&#9660;</span>' %} {# ▼ Down arrow (red) #}\r\n            {% else %}\r\n                {% set arrow = '' %}\r\n            {% endif %}\r\n            <tr>\r\n                <td style=\"text-align:center;\">{{ loop.index }}</td>\r\n                <td style=\"text-align:left;\">{{ row.customer_type or '' }}</td>\r\n                <td style=\"text-align:left;white-space:nowrap\">{{ row.customer_code }}</td>\r\n                <td style=\"text-align:right;\">{{ frappe.utils.fmt_money(row.current_schedule_value, 1, currency=\"INR\") }}</td>\r\n                <td style=\"text-align:right;\">{{ frappe.utils.fmt_money(row.revised_schedule_value, 1, currency=\"INR\") }}</td>\r\n                <td style=\"text-align:right;\">\r\n                    {{ frappe.utils.fmt_money(row.difference_value, 1, currency=\"INR\") }} {{ arrow | safe }}\r\n                </td>\r\n            </tr>\r\n        {% endfor %}\r\n    {% else %}\r\n    {% for code, data in grouped.items() %}\r\n        {% set current_val = (data.current_schedule_value or 0) | float %}\r\n        {% set increase_val = (data.increase_value or 0) | float %}\r\n        {% set revised_val = current_val + increase_val %}\r\n        {% set diff_val = revised_val - current_val %}\r\n        {% set ns.total_difference = ns.total_difference + diff_val %}\r\n\r\n        {# Set up/down arrow #}\r\n        {% if diff_val > 0 %}\r\n            {% set arrow = '<span style=\"color:green;\">&#9650;</span>' %} {# ▲ Up arrow (green) #}\r\n        {% elif diff_val < 0 %}\r\n            {% set arrow = '<span style=\"color:red;\">&#9660;</span>' %} {# ▼ Down arrow (red) #}\r\n        {% else %}\r\n            {% set arrow = '' %}\r\n        {% endif %}\r\n\r\n        <tr>\r\n            <td style=\"text-align:center;\">{{ loop.index }}</td>\r\n            <td style=\"text-align:left;\">{{ data.customer_type or '' }}</td>\r\n            <td style=\"text-align:left;white-space:nowrap\">{{ code }}</td>\r\n            <td style=\"text-align:right;\">{{ frappe.utils.fmt_money(current_val, 1, currency=\"INR\") }}</td>\r\n            <td style=\"text-align:right;\">{{ frappe.utils.fmt_money(revised_val, 1, currency=\"INR\") }}</td>\r\n            <td style=\"text-align:right;\">\r\n                {{ frappe.utils.fmt_money(diff_val, 1, currency=\"INR\") }} {{ arrow | safe }}\r\n            </td>\r\n        </tr>\r\n    {% endfor %}\r\n    \r\n    {% endif %}\r\n    <tr>\r\n        <td colspan=\"5\" style=\"text-align:center;font-size:13px;font-weight:bold;\">Total</td>\r\n        <td style=\"text-align:right;font-size:13px;font-weight:bold;\">\r\n            {{ frappe.utils.fmt_money(ns.total_difference, 1, currency=\"INR\") }}\r\n        </td>\r\n    </tr>\r\n    \r\n</table>\r\n\r\n    <br>\r\n   {% set grouped = {} %}\r\n\r\n{# 1. Group and sum by item_group from doc.approval_schdule_increase #}\r\n{% for row in doc.approval_schdule_increase %}\r\n    {% set group = row.item_group %}\r\n    {% if group not in grouped %}\r\n        {% set _ = grouped.update({group: {\r\n            \"increase_value\": (row.difference_value or 0) | float\r\n        }}) %}\r\n    {% else %}\r\n        {% set _ = grouped[group].update({\r\n            \"increase_value\": (grouped[group].increase_value or 0) + (row.difference_value or 0)\r\n        }) %}\r\n    {% endif %}\r\n{% endfor %}\r\n<div style=\"margin-bottom: 4px;\">\r\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;text-decoration: underline;\">Department Wise</span>\r\n</div>\r\n<table style=\"width:100%;border-collapse:collapse;\" border=\"1\">\r\n    <tr>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">S.No</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Item Group</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Current Schedule Value</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Revised Schedule Value</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Difference Value</td>\r\n    </tr>\r\n\r\n    {% set ns = namespace(total_difference1=0) %}\r\n\r\n    {% if doc.item_group_wise_schedule %}\r\n    {% for row in doc.item_group_wise_schedule %}\r\n        {% set ns.total_difference1 = ns.total_difference1 + row.difference_value %}\r\n        {% if row.difference_value > 0 %}\r\n            {% set arrow = '<span style=\"color:green;\">&#9650;</span>' %} {# ▲ Up arrow #}\r\n        {% elif row.difference_value < 0 %}\r\n            {% set arrow = '<span style=\"color:red;\">&#9660;</span>' %} {# ▼ Down arrow #}\r\n        {% else %}\r\n            {% set arrow = '' %}\r\n        {% endif %}\r\n        <tr>\r\n            <td style=\"text-align:center;\">{{ loop.index }}</td>\r\n            <td style=\"text-align:left;\">{{ row.item_group }}</td>\r\n            <td style=\"text-align:right;\">{{ frappe.utils.fmt_money(row.current_schedule_value, 1,currency=\"INR\") }}</td>\r\n            <td style=\"text-align:right;\">{{ frappe.utils.fmt_money(row.revised_schedule_value, 1,currency=\"INR\") }}</td>\r\n            <td style=\"text-align:right;white-space:nowrap\">\r\n                {{ frappe.utils.fmt_money(row.difference_value, 1,currency=\"INR\") }} {{ arrow | safe }}\r\n            </td>\r\n        </tr>\r\n    {% endfor %}\r\n    {% else %}\r\n    {% for group, data in grouped.items() %}\r\n        {% set current_val = (schedule_totals_item.get(group.strip()) or 0) | float %}\r\n        {% set increase_val = (data.increase_value or 0) | float %}\r\n        {% set revised_val = current_val + increase_val %}\r\n        {% set diff_val = revised_val - current_val %}\r\n        {% set ns.total_difference1 = ns.total_difference1 + diff_val %}\r\n\r\n        {% if diff_val > 0 %}\r\n            {% set arrow = '<span style=\"color:green;\">&#9650;</span>' %} {# ▲ Up arrow #}\r\n        {% elif diff_val < 0 %}\r\n            {% set arrow = '<span style=\"color:red;\">&#9660;</span>' %} {# ▼ Down arrow #}\r\n        {% else %}\r\n            {% set arrow = '' %}\r\n        {% endif %}\r\n\r\n        <tr>\r\n            <td style=\"text-align:center;\">{{ loop.index }}</td>\r\n            <td style=\"text-align:left;\">{{ group }}</td>\r\n            <td style=\"text-align:right;\">{{ frappe.utils.fmt_money(current_val, 1,currency=\"INR\") }}</td>\r\n            <td style=\"text-align:right;\">{{ frappe.utils.fmt_money(revised_val, 1,currency=\"INR\") }}</td>\r\n            <td style=\"text-align:right;white-space:nowrap\">\r\n                {{ frappe.utils.fmt_money(diff_val, 1,currency=\"INR\") }} {{ arrow | safe }}\r\n            </td>\r\n        </tr>\r\n    {% endfor %}\r\n    {% endif %}\r\n\r\n    <tr>\r\n        <td colspan=\"4\" style=\"text-align:center;font-size:13px;font-weight:bold;\">Total</td>\r\n        <td style=\"text-align:right;font-size:13px;font-weight:bold;\">\r\n            {{ frappe.utils.fmt_money(ns.total_difference1, 1,currency=\"INR\") }}\r\n        </td>\r\n    </tr>\r\n    \r\n</table>\r\n\r\n  <div style=\"margin-bottom: 4px;\">\r\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Total Sales Plan</span>\r\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ frappe.utils.fmt_money(doc.total_sales_plan, 1,currency=\"INR\") }}</span>\r\n</div>\r\n<div style=\"width:100%; margin-top:10px; display:flex;\">\r\n\r\n    {% if doc.approval_remarks %}\r\n    <div style=\"\r\n        width:50%;\r\n        padding:20px;\r\n        border:1px solid #000;\r\n        margin-right:20px; \r\n        box-sizing:border-box;\r\n    \">\r\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\r\n        <br><br>\r\n        {% for r in doc.approval_remarks %}\r\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\r\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\r\n            {% if not loop.last %}<br>{% endif %}\r\n        {% endfor %}\r\n    </div>\r\n    {% endif %}\r\n\r\n    {% if doc.rejection_remarks %}\r\n    <div style=\"\r\n        width:50%;\r\n        padding:20px;\r\n        border:1px solid #000;\r\n        margin-left:20px;   \r\n        box-sizing:border-box;\r\n    \">\r\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\r\n        <br><br>\r\n        {% for r in doc.rejection_remarks %}\r\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\r\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\r\n            {% if not loop.last %}<br>{% endif %}\r\n        {% endfor %}\r\n    </div>\r\n    {% endif %}\r\n\r\n</div>\r\n<!--<div style=\"margin-bottom: 4px;\">-->\r\n<!--            <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Total Sales Plan</span>-->\r\n<!--            {% if doc.total_sales_plan %}-->\r\n<!--            <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ frappe.utils.fmt_money(doc.total_sales_plan , 2,currency=\"INR\") }}</span>-->\r\n            \r\n<!--            {% endif %}-->\r\n<!--        </div>-->\r\n        \r\n    </div>\r\n\r\n    {# --- Fixed footer with signatures --- #}\r\n    <div class=\"fixed-footer\">\r\n        <br>\r\n        {% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\r\n        <table>\r\n            <tr>\r\n                <td style=\"text-align:center;font-weight:bold;font-size:15px;width:12.5%;background-color:#a5a3ac\">Prepared</td>\r\n                <td style=\"text-align:center;font-weight:bold;font-size:15px;width:12.5%;background-color:#a5a3ac\">HOD</td>\r\n                <td style=\"text-align:center;font-weight:bold;font-size:15px;width:12.5%;background-color:#a5a3ac\">ERP</td>\r\n                <td style=\"text-align:center;font-weight:bold;font-size:15px;width:12.5%;background-color:#a5a3ac\">Production HOD</td>\r\n                <td style=\"text-align:center;font-weight:bold;font-size:15px;width:12.5%;background-color:#a5a3ac\">PPC</td>\r\n                <td style=\"text-align:center;font-weight:bold;font-size:15px;width:12.5%;background-color:#a5a3ac\">Material Manager</td>\r\n                <td style=\"text-align:center;font-weight:bold;font-size:15px;width:12.5%;background-color:#a5a3ac\">Plant Head</td>\r\n                <td style=\"text-align:center;font-weight:bold;font-size:15px;width:12.5%;background-color:#a5a3ac\">BMD</td>\r\n            </tr>\r\n            <tr style=\"height: 80px;\">\r\n                {% set erp_signature = frappe.db.get_value(\"Employee\",{\"user_id\":doc.erp_team}, \"custom_digital_signature\") %}\r\n                {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\r\n                {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\r\n                {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"BMD01\"}, \"custom_digital_signature\") %}\r\n                {% set plant_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.plant_head}, \"custom_digital_signature\") %}\r\n                {% set material_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.material_manager}, \"custom_digital_signature\") %}\r\n                {% set production_hod=frappe.db.get_value(\"Employee\", {\"user_id\":doc.production_manager}, \"custom_digital_signature\")%}\r\n                 {%set ppc_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.ppc}, \"custom_digital_signature\")%}\r\n                {# Repeat for each column with signature image and approval date #}\r\n                <td style=\"text-align:center;font-size:15px;\">\r\n                    <br>\r\n                    {% if prepared_signature %}\r\n                        <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\r\n                    {% else %}\r\n                        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\r\n                    {% endif %}\r\n                    <br>\r\n                    {% if doc.date_time %}\r\n                        {% set formatted_date = frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") %}\r\n                        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\r\n                    {% endif %}\r\n                </td>\r\n\r\n                <td style=\"text-align:center;font-size:15px;\">\r\n                    <br>\r\n                    {% if hod_signature %}\r\n                        <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\r\n                    {% else %}\r\n                        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\r\n                    {% endif %}\r\n                    <br>\r\n                    {% if doc.hod_approved_on %}\r\n                        {% set formatted_date = frappe.utils.format_datetime(doc.hod_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\r\n                        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\r\n                    {% endif %}\r\n                </td>\r\n\r\n                <td style=\"text-align:center;font-size:15px;\">\r\n                    <br>\r\n                    {% if erp_signature %}\r\n                        <img src=\"{{ erp_signature }}\" style=\"height:50px;\">\r\n                    {% else %}\r\n                        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\r\n                    {% endif %}\r\n                    <br>\r\n                    {% if doc.erp_team_approved_on %}\r\n                        {% set formatted_date = frappe.utils.format_datetime(doc.erp_team_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\r\n                        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\r\n                    {% endif %}\r\n                </td>\r\n                        <td style=\"text-align:center;font-size:15px;\">\r\n                    <br>\r\n                    {% if production_hod %}\r\n                        <img src=\"{{ production_hod }}\" style=\"height:50px;\">\r\n                    {% else %}\r\n                        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\r\n                    {% endif %}\r\n                    <br>\r\n                    {% if doc.production_manager_approved_on %}\r\n                        {% set formatted_date = frappe.utils.format_datetime(doc.production_manager_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\r\n                        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\r\n                    {% endif %}\r\n                </td>\r\n                <td style=\"text-align:center;font-size:15px;\">\r\n                    <br>\r\n                    {% if ppc_signature %}\r\n                        <img src=\"{{ ppc_signature }}\" style=\"height:50px;\">\r\n                    {% else %}\r\n                        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\r\n                    {% endif %}\r\n                    <br>\r\n                    {% if doc.ppc_approved_on %}\r\n                        {% set formatted_date = frappe.utils.format_datetime(doc.ppc_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\r\n                        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\r\n                    {% endif %}\r\n                </td>\r\n                <td style=\"text-align:center;font-size:15px;\">\r\n                    <br>\r\n                    {% if material_signature %}\r\n                        <img src=\"{{ material_signature }}\" style=\"height:50px;\">\r\n                    {% else %}\r\n                        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\r\n                    {% endif %}\r\n                    <br>\r\n                    {% if doc.material_manager_approved_on %}\r\n                        {% set formatted_date = frappe.utils.format_datetime(doc.material_manager_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\r\n                        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\r\n                    {% endif %}\r\n                </td>\r\n\r\n                <td style=\"text-align:center;font-size:15px;\">\r\n                    <br>\r\n                    {% if plant_signature %}\r\n                        <img src=\"{{ plant_signature }}\" style=\"height:50px;\">\r\n                    {% else %}\r\n                        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\r\n                    {% endif %}\r\n                    <br>\r\n                    {% if doc.plant_head_approved_on %}\r\n                        {% set formatted_date = frappe.utils.format_datetime(doc.plant_head_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\r\n                        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\r\n                    {% endif %}\r\n                </td>\r\n\r\n                <td style=\"text-align:center;font-size:15px;\">\r\n                    <br>\r\n                    {% if bmd_signature %}\r\n                        <img src=\"{{ bmd_signature }}\" style=\"height:50px;\">\r\n                    {% else %}\r\n                        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\r\n                    {% endif %}\r\n                    <br>\r\n                    {% if doc.bmd_approved_on %}\r\n                        {% set formatted_date = frappe.utils.format_datetime(doc.bmd_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\r\n                        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\r\n                    {% endif %}\r\n                </td>\r\n            </tr>\r\n        </table>\r\n        <div style=\"text-align:left; font-size:12px; margin-top:5px;\">\r\n            Note: This document is Digitally Signed\r\n        </div>\r\n    </div>\r\n\r\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>\r\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 18:04:00.161265",
  "module": "ONEGENE",
  "name": "Schedule Increase New",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": " .remove-top-border {\r\n        border-top: none !important;\r\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "General DC",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{% set address = frappe.db.get_value(\"Customer\",{\"name\":doc.party},\"customer_primary_address\") %}\r\n{% set gstin = frappe.db.get_value(\"Customer\",{\"name\":doc.party},\"gstin_number\") %}\r\n\r\n<table width=\"100%\" style=\"border:1px solid black; border-collapse:collapse;\">\r\n    <thead>\r\n    <tr>\r\n        <td colspan=\"2\" style=\"border-right:none\"><img src=\"/files/wonjin logo.png\" alt=\"logo\" width=\"130px;\"></td>\r\n        <td colspan=\"4\" style=\"text-align:center;border:1px solid black;border-left:none;border-right:none;\">\r\n            <div style=\"text-align:center;font-size:11px;\">\r\n                <strong><p>Wonjin Autoparts India Pvt Ltd</p></strong>\r\n                Plot No : A1K, CMDA Industrial Complex<br>\r\n                Maraimalai Nagar, Chennai - 603 209<br>\r\n                Phone No : 044 - 4740 4415 / 4740 4436 &nbsp; Fax No : 044-4740 0142<br>\r\n                Email id : finance@onegeneindia.in &nbsp; Web : www.onegeneindia.in<br>\r\n                GSTIN No : 33AADCP2334E1ZY &nbsp; State : Tamil Nadu\r\n            </div>\r\n            \r\n        </td>\r\n        <td colspan=\"2\" style=\"text-align:right;\">\r\n            <div style=\"border-left:none;width:100px;padding-top:5px;padding-left:10px;\">\r\n            <!--{% set gate_entry = frappe.get_all('Gate Entry', filters={'ref_no': doc.name}, limit=1) %}-->\r\n            \r\n            <!--{% if gate_entry %}-->\r\n            <!--    {% set gate_url = 'https://erp.onegeneindia.in/app/gate-entry/' + gate_entry[0].name %}-->\r\n            <!--{% else %}-->\r\n            <!--    {% set gate_url = 'https://erp.onegeneindia.in/app/general-dc/' + doc.name %}-->\r\n            <!--{% endif %}-->\r\n            \r\n            <!--<img src=\"https://api.qrserver.com/v1/create-qr-code/?size=150x150&data={{ gate_url | urlencode }}\" alt=\"QR Code\" />-->\r\n            \r\n            <img src=\"https://api.qrserver.com/v1/create-qr-code/?size=150x150&data={{ doc.scan_barcode }}\" alt=\"QR Code\" />\r\n       \r\n\r\n            </div>\r\n        </td>\r\n    </tr>\r\n    </thead>\r\n    <tbody>\r\n    <tr>\r\n        <td colspan=\"8\" style=\"text-align:center; font-weight:bold;border:1px solid black;\">\r\n            DELIVERY NOTE - RETURNABLE\r\n        </td>\r\n    </tr>\r\n    <tr>\r\n        <td colspan=\"4\" style=\"border:1px solid black;font-size:11px;\">\r\n           M/S. <b>{{doc.party or ''}}</b><br><div style=\"padding-left:25px;\">\r\n           {{ frappe.db.get_value('Address',{'name':address},'address_line1') or \"\" }}<br>\r\n            {{ frappe.db.get_value('Address',{'name':address},'address_line2') or \"\" }}\r\n            {{ frappe.db.get_value('Address',{'name':address},'city') or \"\" }} \r\n            {{ frappe.db.get_value('Address',{'name':address},'pincode') or \"\" }}<br>\r\n            {% set phone = frappe.db.get_value('Address',{'name':address},'phone') %}\r\n            {% if phone %} Phone: {{ phone }} {% endif %}\r\n            {% set email = frappe.db.get_value('Address',{'name':address},'email_id') %}\r\n            {% set web = frappe.db.get_value('Company',{'name':address},'domain') %}\r\n            &nbsp;&nbsp;&nbsp;&nbsp;{% if email %} Email: {{ email }} {% endif %}<br>\r\n            {% if web %} | Web: {{ web }} {% endif %}\r\n            {% set gstin = frappe.db.get_value('Address', {'name': address}, 'gstin') %}\r\n            {% if gstin %}GSTIN: {{ gstin }}\r\n            {% endif %}\r\n            </div>\r\n\r\n           \r\n        </td>\r\n        <td colspan=\"4\" style=\"border:1px solid black;font-size:11px;\">\r\n            Dc No : {{doc.name}}<br><br>\r\n           Dc Date : {{ frappe.utils.formatdate(doc.dc_date, \"dd-MM-yyyy\") }}<br><br>\r\n            Vehicle No: {{doc.vehicle_number or ''}}\r\n        </td>\r\n    </tr>\r\n\r\n    <tr>\r\n        <td style=\"border:1px solid black;text-align:center;font-size:11px;\">S. No</td>\r\n        <td style=\"border:1px solid black;text-align:center;font-size:11px;\" colspan=\"2\">Description</td>\r\n        <td style=\"border:1px solid black;text-align:center;font-size:11px;\">HSN Code</td>\r\n        <td style=\"border:1px solid black;text-align:center;font-size:11px;\">UOM</td>\r\n        <td style=\"border:1px solid black;text-align:left;font-size:11px;\">Quantity</td>\r\n        <td style=\"border:1px solid black;text-align:left;font-size:11px;\">Amount</td>\r\n        <td style=\"border:1px solid black;text-align:center;font-size:11px;\">Remarks</td>\r\n    </tr>\r\n    {%- set max_rows = 22 -%}\r\n    {%- set row_count = doc.items|length -%}\r\n    {% for row in doc.items %}\r\n    <tr>\r\n        <td style=\"text-align:center;font-size:11px;border-left:1px solid black;border-right:1px solid black;\">{{ loop.index }}</td>\r\n        <td colspan=\"2\" style=\"font-size:11px;border-left:1px solid black;border-right:1px solid black;\">{{ row.item_name or '' }}</td>\r\n        <td style=\"text-align:center;font-size:11px;border-left:1px solid black;border-right:1px solid black;\">{{row.hsn_code or ''}}</td>\r\n        <td style=\"text-align:center;font-size:11px;border-left:1px solid black;border-right:1px solid black;\">{{ row.uom or '' }}</td>\r\n        <td style=\"text-align:center;font-size:11px;border-left:1px solid black;border-right:1px solid black;\">{{ row.qty or ''}}</td>\r\n        <td style=\"text-align:center;font-size:11px;border-left:1px solid black;border-right:1px solid black;\">{{ row.amount or ''}}</td>\r\n        <td style=\"font-size:11px;border-left:1px solid black;border-right:1px solid black;\">{{row.remarks or ''}}</td>\r\n    </tr>\r\n    {% endfor %}\r\n\r\n    \r\n    {% set remaining = max_rows - row_count %}\r\n\r\n{% if remaining > 0 %}\r\n    {% if row_count <= 5 %}\r\n        {% set total_blank_height = 450 %}\r\n    {% elif row_count <= 10 %}\r\n        {% set total_blank_height = 400 %}\r\n    {% elif row_count <= 15 %}\r\n        {% set total_blank_height = 100 %}\r\n    {% else %}\r\n        {% set total_blank_height = 80 %}\r\n    {% endif %}\r\n    {% set row_height = total_blank_height / remaining %}\r\n{% else %}\r\n    {% set row_height = 0 %}\r\n{% endif %}\r\n\r\n    \r\n    {# ---- Fill Remaining Rows ---- #}\r\n    {% for i in range(row_count, max_rows) %}\r\n    <tr style=\"height:{{ row_height }}px;\">\r\n        <td style=\"text-align:center;border-left:1px solid black;border-right:1px solid black;\"></td>\r\n        <td colspan=\"2\" style=\"border-left:1px solid black;border-right:1px solid black;\"></td>\r\n        <td style=\"text-align:center;border-left:1px solid black;border-right:1px solid black;\"></td>\r\n        <td style=\"text-align:center;border-left:1px solid black;border-right:1px solid black;\"></td>\r\n        <td style=\"text-align:center;border-left:1px solid black;border-right:1px solid black;\"></td>\r\n        <td style=\"text-align:center;border-left:1px solid black;border-right:1px solid black;\"></td>\r\n        <td style=\"border-left:1px solid black;border-right:1px solid black;\"></td>\r\n    </tr>\r\n    {% endfor %}\r\n    </tbody>\r\n\r\n\r\n    <tfoot>\r\n        <tr>\r\n            <td colspan=\"5\" style=\"font-size:11px;border:1px solid black;border-left:none;font-weight:bold;text-align:center;\">Total Amount</td>\r\n            <td colspan=\"1\" style=\"font-size:11px;border:1px solid black;border-left:none;font-weight:bold;text-align:right;\">\r\n                {{ doc.items | sum(attribute='qty') }}\r\n            </td>\r\n            <td colspan=\"1\" style=\"font-size:11px;border:1px solid black;font-weight:bold;text-align:right;\"> {{ doc.items | sum(attribute='amount') }}</td>\r\n            <td colspan=\"1\" style=\"font-size:11px;border:1px solid black;border-left:none;font-weight:bold;text-align:right;\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td colspan=\"8\" style=\"font-size:11px;border:1px solid black;border-left:none;text-align:left;\"><b>Terms and Conditions:</b>  {{doc.terms_and_conditions or ''}}</td>\r\n            \r\n        </tr>\r\n       \r\n    \r\n    </tfoot>\r\n</table>\r\n<table class=\"remove-top-border\" border=\"1\" cellspacing=\"0\" cellpadding=\"5\"\r\n    style=\"width:100%;border-collapse:collapse;text-align:center;page-break-inside:avoid;break-inside:avoid;\">\r\n    <tr>\r\n    <td colspan=2 class =\"remove-top-border\" style=\"width:12.5%;border-bottom:hidden;border-right:hidden;\">Prepared By</td> \r\n    <td colspan=2 class =\"remove-top-border\" style=\"width:12.5%;border-right:hidden;border:bottom:hidden;border-left:hidden;\">Checked By</td> \r\n    <td colspan=2 class =\"remove-top-border\" style=\"width:12.5%;;border-left:hidden;border-bottom:hidden;\">Authorized By</td>\r\n    </tr>\r\n    <!-- SIGNATURE ROW -->\r\n    <tr style=\"font-size:10px;font-family:'Book Antiqua','Palatino Linotype',Palatino,serif;border-right:hidden;\">\r\n            {% set prepared_by = frappe.db.get_value(\"Employee\",{\"name\": doc.requested_by},['custom_digital_signature']) %}\r\n            <td colspan=\"2\" style=\"height:60px;vertical-align:middle;border-top:hidden;border-right:hidden;\">\r\n                {% if prepared_by %}<img src=\"{{prepared_by}}\" style=\"height:50px;width:25%;object-fit:contain;\"><br>\r\n                {{ frappe.utils.format_datetime(doc.creation, \"dd-MM-yyyy HH:mm:ss\") or '' }}\r\n                {% else %}\r\n                <br><br><br>{{ frappe.utils.format_datetime(doc.creation, \"dd-MM-yyyy HH:mm:ss\") or '' }}\r\n                {% endif %}\r\n                \r\n            </td>\r\n            {% set requested_by = frappe.db.get_value(\"Employee\",{\"user_id\":doc.hod },['custom_digital_signature']) %}\r\n            <td colspan=\"2\" style=\"height:60px;vertical-align:middle;border-top:hidden;border-right:hidden;border-left:hidden;\">\r\n                {% if requested_by %}<img src=\"{{requested_by}}\" style=\"height:60px;width:35%;object-fit:contain;\"><br>\r\n                {{ frappe.utils.format_datetime(doc.hod_approved_on, \"dd-MM-yyyy HH:mm:ss\") or '' }}\r\n                {% else %}\r\n                <br><br><br>{{ frappe.utils.format_datetime(doc.hod_approved_on, \"dd-MM-yyyy HH:mm:ss\") or '' }}\r\n                {% endif %}\r\n            </td>\r\n            {% set finance = frappe.db.get_value(\"Employee\",{\"user_id\": doc.accounts_manager },[\"custom_digital_signature\"]) %}\r\n            <td colspan=\"2\" style=\"height:60px;vertical-align:middle;border-top:hidden;border-left:hidden;\">\r\n                {% if finance %}<img src=\"{{finance}}\" style=\"height:50px;width:25%;object-fit:contain;\"><br>\r\n                {{ frappe.utils.format_datetime(doc.account_manager_approved_on, \"dd-MM-yyyy HH:mm:ss\") or '' }}\r\n                {% else %}\r\n                <br><br><br>{{ frappe.utils.format_datetime(doc.account_manager_approved_on, \"dd-MM-yyyy HH:mm:ss\") or '' }}\r\n                \r\n                {% endif %}\r\n            </td>\r\n    </tr>\r\n    <tr>\r\n        <td colspan=\"6\" style=\"text-align:left;\">Note: This document is Digitally Signed</td>\r\n    </tr>\r\n</table>\r\n<!--<div class=\"signature-container remove-top-border\" style=\"page-break-inside: avoid;\">-->\r\n<!--    <div class=\"remove-top-border\" style=\"border: 1px solid black; height:140px; font-size:10px; position: relative; padding:5px;\">-->\r\n<!--        <div style=\"position:absolute; right:5px; top:5px; white-space:nowrap;\">-->\r\n<!--          For <strong>WONJIN AUTOPARTS INDIA PVT.LTD.</strong>-->\r\n<!--        </div>-->\r\n\r\n<!--        <div style=\"position:absolute; left:5px; bottom:5px; white-space:nowrap;\">-->\r\n<!--          Receiver's Signature with seal-->\r\n<!--        </div>-->\r\n\r\n<!--        <div style=\"position:absolute; right:5px; bottom:5px; white-space:nowrap;\">-->\r\n<!--          Authorised By-->\r\n<!--        </div>-->\r\n<!--    </div>-->\r\n<!--</div>-->\r\n<footer id=\"footer-html\">\r\n   <table width=\"100%\" style=\"border:none;\">\r\n       <tr>\r\n           <td width=\"100%\" style=\"text-align:center; font-size: 9px; padding:0; margin:0;\">\r\n               <i>Page <span class=\"page\"></span> / <span class=\"topage\"></span></i>\r\n           </td>\r\n       </tr>\r\n   </table>\r\n</footer>\r\n<meta name=\"pdfkit-margin-bottom\" content=\"20mm\"/>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-10-16 19:01:44.511479",
  "module": "ONEGENE",
  "name": "General DC",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".tab1,\n.tab1 tr,\n.tab1 td{\n    border:1px solid black;\n}\n\n.tab2,\n.tab2 tr,\n.tab2 td{\n    border:1px solid black;\n    border-bottom:none;\n\n}\n\n.tab3,\n.tab3 tr,\n.tab3 td{\n    border:1px solid black;\n    border-bottom:none;\n    border:none;\n}\n\n.no-border{\n    border:none !important;\n}\n\n.no-border-1{\n    border-top:none !important;\n    border-bottom:none !important;\n}\n\n/*.tab2 tr{*/\n/*    page-break-inside:avoid; */\n/*    page-break-after:auto;*/\n/*}*/\n\n\n.page-break {\n    page-break-before: always;\n    break-before: page;\n}\n\n.in-words-row {\n    page-break-inside: avoid;\n    break-inside: avoid;\n    border-bottom:none;\n    border-top: 1px solid black;\n}\n\n",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Logistics Request",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<!--{% set data = packing_list(doc.name)%}-->\n<!--{{data}}-->\n\n\n<div class=\"container\">\n    <div class=\"row \">\n        <div class=\"col-xs-12 p-0 \" >\n            \n           <table width=100% style=\"border-collapse:collapse;border-bottom: none;font-size:9px;\" class=\"tab1 mr-0 ml-0\" >\n               <tr>\n                    <td colspan=\"5\" style=\"font-size:15px;\">\n                       <center><b>PACKING LIST</b></center> \n                    </td>\n                </tr>\n               <tr>\n                   <td rowspan=\"8\" \n                    style=\"width:30%; font-size:9px; border-bottom:1px solid black !important;vertical-align: middle;\">\n                    <div style=\"margin-top:0px;\">\n                        {% set address_title = frappe.db.get_value(\"Address\", {'address_title': doc.company}, \"address_title\") %}\n                    {% set address_line1 = frappe.db.get_value(\"Address\", {'address_title': doc.company}, \"address_line1\") %}\n                        {% set address_line2 = frappe.db.get_value(\"Address\", {'address_title': doc.company}, \"address_line2\") %}\n                        {% set city = frappe.db.get_value(\"Address\", {'address_title': doc.company}, \"city\") %}\n                        {% set state = frappe.db.get_value(\"Address\", {'address_title': doc.company}, \"state\") %}\n                        {% set country = frappe.db.get_value(\"Address\", {'address_title': doc.company}, \"country\") %}\n                        {% set phone = frappe.db.get_value(\"Address\", {'address_title': doc.company}, \"phone\") %}\n                        {% set fax = frappe.db.get_value(\"Address\", {'address_title': doc.company}, \"fax\") %}\n                        {% set gstin = frappe.db.get_value(\"Address\", {'address_title': doc.company}, \"gstin\") %}\n                        <b>Factory Address</b><br>\n                        {% if address_title %}\n                            {{ address_title }}<br>\n                        {% endif %}\n                        {% if address_line1 %}\n                            {{ address_line1 }}<br>\n                        {% endif %}\n                        {% if address_line2 %}\n                            {{ address_line2 }}<br>\n                        {% endif %}\n                        {% if city and state %}\n                            {{ city }}, {{ state }}<br>\n                        {% elif city %}\n                            {{ city }}<br>\n                        {% elif state %}\n                            {{ state }}<br>\n                        {% endif %}\n                        {% if phone and fax %}\n                            Ph: {{ phone }}, Fax: {{ fax }}<br>\n                        {% elif phone %}\n                            {{ phone }}<br>\n                        {% elif fax %}\n                            {{ fax }}<br>\n                        {% endif %}\n                        {% if gstin %}\n                            GSTIN: {{ gstin }}<br>\n                        {% endif %}\n                        {% if country %}\n                            {{ country }}\n                        {% endif %}\n    </div>\n                </td>\n                        \n                    <td rowspan=\"8\"  style=\"width:30%; font-size:9px; border-bottom:1px solid black !important;\">\n                        <div style=\"margin-top:0px;\">\n                        {% set address_title = frappe.db.get_value(\"Address\", {'address_title': doc.customer}, \"address_title\") %}\n                        {% set address_line1 = frappe.db.get_value(\"Address\", {'address_title': doc.customer}, \"address_line1\") %}\n                        {% set address_line2 = frappe.db.get_value(\"Address\", {'address_title': doc.customer}, \"address_line2\") %}\n                        {% set city = frappe.db.get_value(\"Address\", {'address_title': doc.customer}, \"city\") %}\n                        {% set state = frappe.db.get_value(\"Address\", {'address_title': doc.customer}, \"state\") %}\n                        {% set country = frappe.db.get_value(\"Address\", {'address_title': doc.customer}, \"country\") %}\n                        {% set gstin = frappe.db.get_value(\"Address\", {'address_title': doc.customer}, \"gstin\") %}\n                        {% set gstin_1 = frappe.db.get_value(\"Customer\", {'customer_name': doc.customer}, \"gstin\") %}\n                        <b>Exporter</b><br>\n                        {% if address_title %}\n                            {{ address_title }}<br>\n                        {% endif %}\n                        {% if address_line1 %}\n                            {{ address_line1 }}<br>\n                        {% endif %}\n                        {% if address_line2 %}\n                            {{ address_line2 }}<br>\n                        {% endif %}\n                        {% if city %}\n                            {{ city }}<br>\n                        {% endif %}\n                        {% if state %}\n                            {{ state }}<br>\n                        {% endif %}\n                        {% if gstin and gstin_1 %}\n                            GSTIN: {{ gstin }}<br>\n                        {% elif gstin %}\n                            GSTIN: {{gstin}}<br>\n                        {% elif gstin_1 %}\n                            GSTIN: {{gstin_1}}<br>\n                        {% endif %}\n                        {% if country %}\n                            {{ country }}\n                        {% endif %}\n                        \n                        \n                        </div>\n                    </td>\n                </tr>\n            <tr>\n                    <td style=\"border-bottom:hidden;border-right:hidden;line-height:0.3;\"><b>Invoice No & Date:</b></td>\n                        \n                    <td style=\"border-bottom:hidden;border-left:hidden;line-height:0.3;\"><b>{{doc.name}}&nbsp;&nbsp;{{ frappe.format(doc.posting_date) or \"\"  }}</b></td>\n                </tr>\n               <tr>        \n                        <td style=\"border-top:hidden;border-right:hidden;line-height:0.3;\"><b>Exporter IEC</b></td>\n                        <td style=\"border-top:hidden;border-left:hidden;line-height:0.3;\"><b>{{frappe.db.get_value('Company',{'name':doc.company},\"custom_exporter_iec\")or \"\"}}</b>\n                    </td>\n               </tr>\n                <tr>\n                    <td style=\"border-top:hidden;border-right:hidden;line-height:0.3;\"><b>CIN No:</b></td>\n                        <td style=\"border-top:hidden;border-left:hidden;line-height:0.3;\"><b>{{frappe.db.get_value('Customer',{'name':doc.customer},\"custom_cin_number\")or \"\"}}</b>\n                    </td>\n                </tr>\n                <tr>\n                    <td colspan=\"2\" style=\"border-top:hidden;\"></td>\n                </tr>\n               <tr>\n                    <td colspan=\"2\" style=\"border-top:hidden;\"></td>\n                </tr>\n                <tr>\n                    <td colspan=\"2\" style=\"border-top:hidden;\"></td>\n                </tr>\n               <tr>\n                    <td colspan=\"2\" style=\"border-top:hidden;\"></td>\n                </tr>\n                \n        </table> \n        <table width=100% style=\"border-collapse:collapse;margin-top:5px;padding:0px;border-bottom:hidden;\" class=\"tab1 mr-0 ml-0\">\n            \n                <tr class= \"remove-top-border\">\n                    <td class= \"remove-top-border\" colspan=\"2\" style=\"border-bottom:hidden;width:50%;font-size:9px;border-top: 1px solid black !important;line-height:0.3;\">\n                        <b>Consignee</b>\n                </td>\n                <td colspan=\"2\" style=\"width:50%;font-size:9px;border-bottom:hidden;border-top: 1px solid black !important;line-height:0.3;\" class= \"remove-top-border\" >\n                        <b>Buyer if Other  than consignee</b>\n                </td>\n                </tr>\n                <tr class= \"remove-top-border\">\n                <td class=\"remove-top-border\" colspan=\"2\" \n                    style=\"width:50%; font-size:9px; border-bottom:1px solid black !important;\">\n                    <div style=\"margin-top:-8px;\">\n                    {% set address_title = frappe.db.get_value(\"Address\", {'address_title': doc.customer}, \"address_title\") %}\n                        {% set address_line1 = frappe.db.get_value(\"Address\", {'address_title': doc.customer}, \"address_line1\") %}\n                        {% set address_line2 = frappe.db.get_value(\"Address\", {'address_title': doc.customer}, \"address_line2\") %}\n                        {% set city = frappe.db.get_value(\"Address\", {'address_title': doc.customer}, \"city\") %}\n                        {% set state = frappe.db.get_value(\"Address\", {'address_title': doc.customer}, \"state\") %}\n                        {% set country = frappe.db.get_value(\"Address\", {'address_title': doc.customer}, \"country\") %}\n                        \n                        {% if address_title %}\n                            {{ address_title }}<br>\n                        {% endif %}\n                        {% if address_line1 %}\n                            {{ address_line1 }}<br>\n                        {% endif %}\n                        {% if address_line2 %}\n                            {{ address_line2 }}<br>\n                        {% endif %}\n                        {% if city %}\n                            {{ city }}<br>\n                        {% endif %}\n                        {% if state %}\n                            {{ state }}<br>\n                        {% endif %}\n                        {% if country %}\n                            {{ country }}\n                        {% endif %}\n    </div>\n                </td>\n                        \n\n\n                    \n                    <td class=\"remove-top-border\" colspan=\"2\" style=\"width:50%; font-size:9px; border-bottom:1px solid black !important;\">\n                        <div style=\"margin-top:-8px;\">\n                        {% set address_title = frappe.db.get_value(\"Address\", {'address_title': doc.customer}, \"address_title\") %}\n                        {% set address_line1 = frappe.db.get_value(\"Address\", {'address_title': doc.customer}, \"address_line1\") %}\n                        {% set address_line2 = frappe.db.get_value(\"Address\", {'address_title': doc.customer}, \"address_line2\") %}\n                        {% set city = frappe.db.get_value(\"Address\", {'address_title': doc.customer}, \"city\") %}\n                        {% set state = frappe.db.get_value(\"Address\", {'address_title': doc.customer}, \"state\") %}\n                        {% set country = frappe.db.get_value(\"Address\", {'address_title': doc.customer}, \"country\") %}\n                        \n                        {% if address_title %}\n                            {{ address_title }}<br>\n                        {% endif %}\n                        {% if address_line1 %}\n                            {{ address_line1 }}<br>\n                        {% endif %}\n                        {% if address_line2 %}\n                            {{ address_line2 }}<br>\n                        {% endif %}\n                        {% if city %}\n                            {{ city }}<br>\n                        {% endif %}\n                        {% if state %}\n                            {{ state }}<br>\n                        {% endif %}\n                        {% if country %}\n                            {{ country }}\n                        {% endif %}\n                        \n                        </div>\n                    </td>\n                </tr>\n                <tr>\n                    \n                    <td style=\"width:25%;font-size:9px;line-height:0.3;border-bottom:hidden;\"><b>Pre Carriage by:</b></td>\n                    <td style=\"width:25%;font-size:9px;line-height:0.3;border-bottom:hidden;\"><b>Place of receipt by pre-carrier</b></td>\n                    <td style=\"width:50%;font-size:9px;line-height:0.3;border-bottom:hidden;\">\n                        <b>Country of Origin of Goods</b></td>\n                    <!--<td style=\"width:25%;font-size:9px;line-height:0.3;\">-->\n                    <!--    <b>Country of Final Destination</b></td>-->\n                    <!--</tr>-->\n                    <!--<td style=\"width:20%;font-size:9px;line-height:0.3;border-bottom:hidden;\">-->\n                    <!--    <b>Country of Final Destination</b></td>-->\n                <tr>\n                    <td style=\"width:25%;font-size:9px;line-height:0.3;border-bottom: 1px solid black !important;\">{{frappe.db.get_value(\"Logistics Request\",{'order_no':doc.name},\"recommended_ffw\")or \"\"}}</td>\n                    <td style=\"width:25%;font-size:9px;line-height:0.3;border-bottom: 1px solid black !important;\">{{frappe.db.get_value(\"Logistics Request\",{'order_no':doc.name},\"custom_place_of_receipt_by_precarrier\") or \"\"}}</td>\n                    <td style=\"width:50%;font-size:9px;line-height:0.3;border-bottom: 1px solid black !important;\">\n                        {% if doc.cargo_type == 'Air' %}\n                        {{doc.pol_country_airport or \"\"}}\n                        {% elif doc.cargo_type == 'Sea' %}\n                        {{doc.pol_country_seaport or \"\"}}\n                        {% else %}\n                        {{doc.pol_country_airport or \"\"}}\n                        {% endif %}\n                    </td>\n\n                    \n                </tr>\n                <tr>\n                    \n                    <td style=\"width:25%;font-size:9px;line-height:0.3;border-bottom:hidden;\"><b>Vessels / Flight No.</b></td>\n                    <td style=\"width:25%;font-size:9px;line-height:0.3;border-bottom:hidden;\"><b>Port of Loading</b></td>\n                    <td style=\"width:50%;font-size:9px;line-height:0.3;border-bottom:hidden;\">\n                        <b>Terms of Delivery & Payment</b></td>\n                    \n                </tr>\n                <tr>\n                    <td style=\"width:25%;font-size:9px;line-height:0.3;\">BY&nbsp;{{doc.cargo_type or \"\"}}</td>\n                    <td style=\"width:25%;font-size:9px;line-height:0.3;\">\n                        {% if doc.cargo_type == 'Sea' %}\n                            {{doc.pol_city_seaport or \"\"}}\n                        {% else %}\n                            {{doc.pol_city_airport or \"\"}}\n                        {% endif %}\n                    </td>\n                    <td style=\"width:50%;font-size:9px;line-height:0.3;border-bottom:hidden;\">\n                        By&nbsp;{{doc.cargo_type or \"\"}}\n                    </td>\n                    \n                    \n                </tr>\n                <tr>\n                    \n                    <td style=\"width:25%;font-size:9px;line-height:0.3;border-bottom:hidden;\"><b>Port Of Discharge</b></td>\n                    <td style=\"width:25%;font-size:9px;line-height:0.3;border-bottom:hidden;\"><b>Final Destination</b></td>\n                    <td style=\"width:50%;font-size:9px;line-height:0.3;border-bottom:hidden;\">\n                        <b>Payment</b></td>\n                    \n                </tr>\n                <tr>\n                    <td style=\"width:25%;font-size:9px;line-height:0.3;border-bottom: 1px solid black !important;\">\n                        \n                    {% if doc.cargo_type == 'Sea' %}\n                            {{doc.pod_seaport or \"\"}}\n                        {% else %}\n                            {{doc.pod_airport or \"\"}}\n                        {% endif %}\n                        \n                    </td>\n                    <td style=\"width:25%;font-size:9px;line-height:0.3;border-bottom: 1px solid black !important;\">\n                        \n                            {{ doc.final_destination or \"\" }}\n                    </td>\n                    <td colspan=\"2\" style=\"width:50%;font-size:9px;line-height:0.3;border-bottom:hidden;\">\n                        {{frappe.db.get_value(\"Sales Invoice\",{\"name\":doc.order_no},\"terms\") or \"\"}}\n                    </td>\n                    \n                    \n                </tr>\n                <tr>\n                    <td colspan=\"2\" style=\"font-size:9px;line-height:0.3;border-bottom:hidden;\">\n                        <b>General Description of the below mentioned Products is Automobile </b>\n                    </td>\n                    \n                    <td colspan=\"2\" style=\"font-size:9px;line-height:0.3;border-bottom:hidden;\">\n                        <b>Incoterms</b>\n                    </td>\n                </tr>\n                {% if doc.customer_incoterms %}\n               <tr>\n                    <td colspan=\"2\" style=\"font-size:9px;line-height:0.3;\">\n                        <b> Components</b>\n                    </td>\n                    \n                    <td colspan=\"2\" style=\"font-size:9px;line-height:0.3;\">\n                        {{doc.customer_incoterms or \"\"}}\n                    </td>\n                </tr>\n                {% endif %}\n        </table>\n        </div>\n    </div>\n</div>\n\n<div class=\"container\">\n    <div class=\"row\">\n        <div class=\"col-xs-12 p-0\">\n            <table width=100% style=\"border-collapse:collapse;font-size:9px; \" class=\"tab2 mr-0 ml-0\">\n               <thead style=\"display: table-header-group;\" >    \n                <tr style=\"border-bottom:1px solid black;border-top:none;font-size:9px;\">\n                    <td rowspan=\"2\" style=\"width:2%; vertical-align: middle; text-align: center;line-height:0.3;\"><b>PD</b></td>\n                    <td rowspan=\"2\" style=\"width:2%; vertical-align: middle; text-align: center;line-height:0.3;\"><b>Boxes</b></td>\n                \n                    <td rowspan=\"2\" style=\"width:10%; vertical-align: middle; text-align: center;line-height:0.3;\"><b>Item Code</b></td>\n                    <td rowspan=\"2\" style=\" vertical-align: middle; text-align: center;line-height:0.3;\"><b>Description of Goods</b></td>\n                    <td style=\"width:5%; vertical-align: middle; text-align: center;line-height:0.3;border-bottom:hidden;\"><b>Order No.</b></td>\n                    <td style=\"width:5%; vertical-align: middle; text-align: center;line-height:0.3;border-bottom:hidden;\"><b>HSN</b></td>\n                    <td style=\"width:5%; vertical-align: middle; text-align: center;line-height:0.3;border-bottom:hidden;\"><b>Qty</b></td>\n                    <td style=\"width:5%; vertical-align: middle; text-align: center;line-height:0.3;border-bottom:hidden;\"><b>Rate</b></td>\n                    <td style=\"width:5%; vertical-align: middle; text-align: center;line-height:0.3;border-bottom:hidden;\"><b>Amount</b></td>\n                </tr>\n\n                <tr style=\"border-bottom:1px solid black;font-size:9px;\">\n                    <td style=\"width:5%;vertical-align: middle;line-height:0.3;\"><b><center>& PO</center></b></td>\n                    <td style=\"width:5%;vertical-align: middle;line-height:0.3;\"><b><center>Code</center></b></td>\n                    <td style=\"width:5%;vertical-align: middle;line-height:0.3;\"><b><center>Nos</center></b></td>\n                    <td style=\"width:5%;vertical-align: middle;line-height:0.3;\"><b><center>{{doc.currency or \"\"}}</center></b></td>\n                    <td style=\"width:5%;vertical-align: middle;line-height:0.3;\"><b><center>{{doc.currency or \"\"}}</center></b></td>\n                </tr>\n                \n            </thead>   \n                <!--<tr style=\"border-bottom:1px solid black;\">-->\n                <!--    <td rowspan=\"2\"><b><center>Parts/BOX</center></b></td>-->\n                <!--    <td rowspan=\"2\"><b><center>Item Code</center></b></td>-->\n                <!--    <td rowspan=\"2\"><b><center>Description of Goods</center></b></td>-->\n                <!--    <td rowspan=\"2\"><b><center>HSN Code</center></b></td>-->\n                <!--    <td rowspan=\"2\"><b><center>Quality Nos</center></b></td>-->\n                <!--    <td rowspan=\"2\"><b><center>Remark</center></b></td>-->\n                <!--</tr>-->\n                <!--<tr style=\"border-bottom:1px solid black;\">-->\n                <!--    <td><b><center>Pallet Details</center></b></td>-->\n                <!--    <td><b><center>Boxes</center></b></td>-->\n                <!--</tr>-->\n                \n                \n                {% set merged_row = namespace(no=0) %}\n                {%- for i in doc.product_description_so -%}\n                 <tr style=\"border-bottom:none !important; border-top:none;font-size:9px;\">\n                    <td class=\"no-border-1\" style=\"text-align:center;\">{{i.custom_no_of_pallets or \"\"}}</td>\n                    <td class=\"no-border-1\" style=\"text-align:center;\">{{i.custom_no_of_boxes or \"\"}}</td>\n                    <td class=\"no-border-1\">{{i.item_code or \"\"}}</td>\n                    <td class=\"no-border-1\" style=\"font-size:9px;\">{{i.description or \"\"}}</td>\n                    {% set item_rows =\n        [\n            (i.item_code|length // 14) + 1,\n            (i.description|length // 48) + 1,\n            (i.custom_customers_po_number|length // 14) + 1\n        ] | max\n    %}\n    {% set merged_row.no = merged_row.no + item_rows %}\n                    <td class=\"no-border-1\">{{i.custom_customers_po_number or \"\"}}</td>\n                    <td class=\"no-border-1\" style=\"text-align:center;\">{{i.gst_hsn_code or \"\"}}</td>\n                    <td class=\"no-border-1\"  style=\"text-align:center;\">{{ (\"%.2f\"|format(i.qty|float)).rstrip('0').rstrip('.') if i.qty else \"\" }}</td>\n                    <td class=\"no-border-1\" style=\"text-align:right;\">{{i.rate or \"\"}}</td>\n                    <td class=\"no-border-1\" style=\"text-align:right;\">{{i.amount or \"\"}}</td>\n                    \n                </tr>\n          \n                \n                {%- endfor-%}\n                {%- set row_count = doc.product_description_so|length -%}\n{%- for i in range(row_count, 13 - (merged_row.no // 3)) -%}\n<tr class=\"remove-bottom-border\"style=\"font-size:9px;border-left: none !important;border: 1px solid black;{% if loop.last %}border-bottom:1px solid black;{% else %}border-bottom:none !important;{% endif %} border-top:none;\">\n    <td class=\"no-border-1 remove-bottom-border\" style=\"text-align:center;font-size:9px;border: 1px solid black;\">&nbsp;</td>\n    <td class=\"no-border-1\" style=\"text-align:center;font-size:9px;border: 1px solid black;\">&nbsp;</td>\n    <td class=\"no-border-1\" style=\"text-align:center;font-size:9px;border: 1px solid black;\">&nbsp;</td>\n    <td class=\"no-border-1\" style=\"text-align:center;font-size:9px;border: 1px solid black;\">&nbsp;</td>\n    <td class=\"no-border-1\" style=\"text-align:center;font-size:9px;border: 1px solid black;\">&nbsp;</td>\n    <td class=\"no-border-1\" style=\"text-align:center;font-size:9px;border: 1px solid black;\">&nbsp;</td>\n    <td class=\"no-border-1\" style=\"text-align:center;font-size:9px;border: 1px solid black;\">&nbsp;</td>\n    <td class=\"no-border-1\" style=\"text-align:center;font-size:9px;border: 1px solid black;\">&nbsp;</td>\n    <td class=\"no-border-1\" style=\"border: 1px solid black;\">&nbsp;</td>\n</tr>\n{%- endfor -%}\n                {% set p_total = doc.product_description_so | map(attribute=\"custom_no_of_pallets\") | sum %}\n                {% set b_total = doc.product_description_so | map(attribute=\"custom_no_of_boxes\") | sum %}\n                {% set q_total = doc.product_description_so | map(attribute=\"qty\") | sum %}\n                \n                \n                <tr style=\"border-bottom:none !important;\">\n                    <td colspan=\"1\" class=\"no-border\">\n                        <center><p><b>{{p_total}}</b></p></center>\n                    </td>\n                    <td colspan=\"1\" class=\"no-border\">\n                       <center><p><b>{{b_total}}</b></p></center> \n                    </td>\n                    <td colspan=\"4\" class=\"no-border\">\n                    </td>\n                    <td colspan=\"1\" class=\"no-border\" style=\"text-align:center;\">\n                       <b>{{q_total}}</b>\n                    </td>\n                    <td colspan=\"2\" class=\"no-border\">\n                        \n                    </td>\n                </tr>\n                \n                <tr style=\"border-bottom:none !important; border-top:none !important\" >\n                    <td colspan=\"9\" class=\"no-border\">\n                        <p>This Shipment under duty draw back </p>\n                    </td>\n                </tr>\n                \n                <tr style=\"border-top:none !important; border-bottom:none;\">\n                    <td colspan=\"3\" style=\"text-align:right; \" class=\"no-border\">\n                        <p><b><u>COUNTRY OF ORIGIN :{{doc.pol_country_airport or \"\"}}</u></b></p>\n                    </td>\n                    <td colspan=\"6\" class=\"no-border\">\n                        \n                    </td>\n                </tr>\n                \n                <tr >\n                    <td colspan=\"3\" style=\"width:32%;border-left:none;border-right:none;line-height:0.3;\">\n                        <b>Total Gross Weight&nbsp;&nbsp;{{doc.gross_wt}}KGS</b>\n                    </td>\n                    <td colspan=\"3\"  style=\"width:32%;text-align:center;border-left:none;border-right:hidden;line-height:0.3;\">\n                        <b style=\" left:50px;\" >Total Net Weight&nbsp;&nbsp;{{doc.net_wt}}KGS</b> \n                    </td>\n                    <td colspan=\"3\"  style=\"width:36%;text-align:center;border-left:hidden;line-height:0.3;\">   \n                        <b style=\" left:350px;\">Total No.of Packaged:{{p_total}}Nos</b>\n                    </td>\n                </tr>\n\n                \n            </table>\n            \n            \n            \n          \n            \n        </div>\n    </div>\n    \n   </div> \n\n<style>\n    @media print {\n        .declaration-container {\n            page-break-inside: avoid;\n            break-inside: avoid;\n        }\n\n        .declaration-row {\n            border: 1px solid black;\n            border-top: 1px solid black;\n        }\n\n        /* If using wkhtmltopdf, avoid relying on @page:first */\n    }\n\n    .qrcode {\n        width: 120px;\n        height: 120px;\n    }\n\n    .text-center {\n        text-align: center;\n    }\n</style>\n\n{% set is_first_page = false %} {# Or dynamically determine this in your logic #}\n\n   <table style=\"border: 1px solid black; border-collapse: collapse; width: 100%;\">\n        <tr style=\"border:none;\">\n            <td colspan=\"4\" style=\"border: 1px solid black; border-bottom: none; border-right: 1px solid transparent !important; line-height: 0.5;width: 50%;\">\n\n                <table style=\"border-collapse: collapse; font-size: 9px; table-layout: fixed;\">\n                    <colgroup>\n                        <col style=\"width: 70px;\">\n                        <col style=\"width: 70px;\">\n                        <col style=\"width: 70px;\">\n                        <col style=\"width: 100px;\">\n                    </colgroup>\n                    <tr>\n                        \n                        <td colspan =4 style=\"border: 1px solid black; text-align: center;\"><b>Pallet Details</b></td>\n                    </tr>\n                    <tr>\n                        \n                        <td style=\"border: 1px solid black; text-align: center;\"><b>Length</b></td>\n                        <td style=\"border: 1px solid black; text-align: center;\"><b>Width</b></td>\n                        <td style=\"border: 1px solid black; text-align: center;\"><b>Height</b></td>\n                        <td style=\"border: 1px solid black; text-align: center;\"><b>No of Pallets</b></td>\n                    </tr>\n                \n                    {%- for row in doc.product_description_so -%}\n                    <tr>\n                       \n                        <td style=\"border: 1px solid black; text-align: center;\">{{ row.custom_pallet_length }}</td>\n                        <td style=\"border: 1px solid black; text-align: center;\">{{ row.custom_pallet_breadth }}</td>\n                        <td style=\"border: 1px solid black; text-align: center;\">{{ row.custom_calculated_height }}</td>\n                         <td style=\"border: 1px solid black; text-align: center;\">{{ row.custom_no_of_pallets }}</td>\n                    </tr>\n                    {%- endfor -%}\n                </table>\n            </td>\n            <td colspan=\"4\" style=\"border: 1px solid black; border-bottom: none; border-left: 1px solid transparent !important; line-height: 0.5;\">\n            <table style=\"border-collapse: collapse; font-size: 9px; table-layout: fixed;\">\n                <colgroup>\n                    \n                    <col style=\"width: 70px;\">\n                    <col style=\"width: 70px;\">\n                    <col style=\"width: 70px;\">\n                    <col style=\"width: 100px;\">\n                </colgroup>\n                <tr>\n                        \n                        <td colspan =4 style=\"border: 1px solid black; text-align: center;\"><b>Box Details</b></td>\n                    </tr>\n                <tr>\n                    \n                    <td style=\"border: 1px solid black; text-align: center;\"><b>Length</b></td>\n                    <td style=\"border: 1px solid black; text-align: center;\"><b>Width</b></td>\n                    <td style=\"border: 1px solid black; text-align: center;\"><b>Height</b></td>\n                    <td style=\"border: 1px solid black; text-align: center; vertical-align: middle;\">\n                        <b>No of Boxes</b>\n                    </td>\n                </tr>\n                {%- for row in doc.product_description_so -%}\n                <tr>\n\n                    \n                    <td style=\"border: 1px solid black; text-align: center;\">\n                        {{ row.custom_box_length or \"\" }}\n                    </td>\n                    <td style=\"border: 1px solid black; text-align: center;\">\n                        {{ row.custom_box_breadth or \"\" }}\n                    </td>\n                    <td style=\"border: 1px solid black; text-align: center;\">\n                        {{ row.custom_box_height or \"\" }}\n                    </td>\n                    <td style=\"border: 1px solid black; text-align: center;\">\n                        {{ row.custom_no_of_boxes or 0 }}\n                    </td>\n                </tr>\n                {%- endfor-%}\n            </table>\n        </td>\n    </tr>\n\n    <tr style=\"border-top:none;\">\n        <td colspan=\"8\" style=\"border: 1px solid black;border-top:none; padding-top: 15px;font-size:9px;\">\n            <div class=\"col-12 remove-top-border remove-bottom-border p-0\">\n            <strong><u>DECLARATION</u></strong><br>\n            We declare that this packing list shows the actual<br>\n            Weight of the goods<br>\n            Described and that all particulars are true and correct\n        </div>\n        </td>\n    </tr>\n</table>\n\n<!--<table class=\"remove-top-border\" border=\"1\" cellspacing=\"0\" cellpadding=\"5\"-->\n<!--    style=\"width:100%;border-collapse:collapse;text-align:center;page-break-inside:avoid;break-inside:avoid;border:1px solid black;\">-->\n<!--<tr style=\"font-size:9px;font-family:'Book Antiqua','Palatino Linotype',Palatino,serif;border-bottom:hidden;border-top:hidden;\">-->\n    <!-- HEADER ROW -->\n<!--    {% if doc.cargo_type == \"Air\" and doc.scope_of_delivery==\"Wonjin\" %} -->\n<!--    <td colspan=1 class =\"remove-top-border\" style=\"width:12.5%;border-right:hidden;border-bottom:hidden;\">Prepared By</td>-->\n<!--    <td colspan=1 class =\"remove-top-border\" style=\"width:12.5%;border-right:none;border-bottom:hidden;border-left:none;\">Requested By</td> -->\n<!--    <td colspan=1 class =\"remove-top-border\" style=\"width:12.5%;border-right:none;border-bottom:hidden;border-left:none;\">Finance</td> -->\n<!--    <td colspan=1 class =\"remove-top-border\" style=\"width:12.5%;border-right:none;border-bottom:hidden;border-left:none;\">BMD</td> -->\n<!--    <td colspan=1 class =\"remove-top-border\" style=\"width:12.5%;border-right:none;border-bottom:hidden;border-left:none;\">CMD</td>-->\n<!--    <td colspan=1 class =\"remove-top-border\" style=\"width:12.5%;border-bottom:hidden;border-left:none;\">SMD</td> -->\n<!--    {% elif doc.cargo_type == \"Sea\" and doc.scope_of_delivery==\"Wonjin\" %} -->\n<!--    <td colspan=\"1\" class =\"remove-top-border\" style=\"width:12.5%;border-bottom:hidden;border-right:none;\">Prepared By</td> -->\n<!--    <td colspan=1 class =\"remove-top-border\" style=\"width:12.5%;border-right:none;border:bottom:hidden;border-left:none;\">Requested By</td>-->\n<!--    <td colspan=\"2\" class =\"remove-top-border\" style=\"width:12.5%;border-bottom:hidden;border-right:hidden;border-left:none;\">Finance</td> -->\n<!--    <td colspan=\"2\" class =\"remove-top-border\" style=\"width:12.5%;border-left:hidden;border-bottom:hidden;\">CMD</td>-->\n<!--    {% elif doc.scope_of_delivery==\"Customer\" %} -->\n<!--    <td colspan=2 class =\"remove-top-border\" style=\"width:12.5%;border-bottom:hidden;border-right:hidden;\">Prepared By</td> -->\n<!--    <td colspan=2 class =\"remove-top-border\" style=\"width:12.5%;border-right:none;border:bottom:hidden;border-left:none;\">Requested By</td> -->\n<!--    <td colspan=2 class =\"remove-top-border\" style=\"width:12.5%;border-left:hidden;border-bottom:hidden;\">Finance</td>-->\n<!--    {% endif %}-->\n<!--    </tr>-->\n    <!-- SIGNATURE ROW -->\n<!--    <tr style=\"font-size:9px;font-family:'Book Antiqua','Palatino Linotype',Palatino,serif;border-bottom:hidden;\">-->\n<!--        {% if doc.cargo_type == \"Air\" and doc.scope_of_delivery==\"Wonjin\" %}-->\n<!--            {% set prepared_by = frappe.db.get_value(\"Employee\",{\"user_id\": doc.owner},['custom_digital_signature']) %}-->\n<!--            <td style=\"height:60px;vertical-align:middle;border-top:hidden;border-right:hidden;\">-->\n<!--                {% if prepared_by %}<img src=\"{{prepared_by}}\" style=\"height:60px;width:35%;object-fit:contain;\">{% endif %}-->\n<!--            </td>-->\n            \n<!--            {% set si_owner = frappe.db.get_value(\"Sales Invoice\",{\"name\": doc.order_no},['owner']) %}-->\n<!--            {% set requested_by = frappe.db.get_value(\"Employee\",{\"user_id\": si_owner},['custom_digital_signature']) %}-->\n<!--            <td style=\"height:60px;vertical-align:middle;border-top:hidden;border-right:hidden;border-left:hidden;\">-->\n<!--                {% if requested_by %}<img src=\"{{requested_by}}\" style=\"height:60px;width:35%;object-fit:contain;\">{% endif %}-->\n<!--            </td>-->\n            \n<!--            {% set finance = frappe.db.get_value(\"Employee\", {\"name\": 'S0189'}, [\"custom_digital_signature\"]) %}-->\n<!--            <td style=\"height:60px;vertical-align:middle;border-top:hidden;border-right:hidden;border-left:hidden;\">-->\n<!--                {% if finance and doc.approved_by_finance %}-->\n<!--                    <img src=\"{{finance}}\" style=\"height:60px;width:35%;object-fit:contain;\">-->\n<!--                {% endif %}-->\n<!--            </td>-->\n            \n<!--            {% set bmd = frappe.db.get_value(\"Employee\", {\"name\": \"BMD01\"}, [\"custom_digital_signature\"]) %}-->\n<!--            <td style=\"height:60px;vertical-align:middle;border-top:hidden;border-right:hidden;border-left:hidden;\">-->\n<!--                {% if bmd and doc.approved_by_bmd %}-->\n<!--                    <img src=\"{{bmd}}\" style=\"height:60px;width:35%;object-fit:contain;\">-->\n<!--                {% endif %}-->\n<!--            </td>-->\n            \n<!--            {% set cmd = frappe.db.get_value(\"Employee\", {\"name\": \"CMD01\"}, [\"custom_digital_signature\"]) %}-->\n<!--            <td style=\"height:60px;vertical-align:middle;border-top:hidden;border-right:hidden;border-left:hidden;\">-->\n<!--                {% if cmd and doc.approved_by_cmd %}-->\n<!--                    <img src=\"{{cmd}}\" style=\"height:60px;width:35%;object-fit:contain;\">-->\n<!--                {% endif %}-->\n<!--            </td>-->\n            \n<!--            {% set smd = frappe.db.get_value(\"Employee\", {\"name\": \"SMD01\"}, [\"custom_digital_signature\"]) %}-->\n<!--            <td style=\"height:60px;vertical-align:middle;border-top:hidden;border-left:hidden;\">-->\n<!--                {% if smd and doc.approved_by_smd %}-->\n<!--                    <img src=\"{{smd}}\" style=\"height:60px;width:35%;object-fit:contain;\">-->\n<!--                {% endif %}-->\n<!--            </td>-->\n\n<!--        {% elif doc.cargo_type == \"Sea\" and doc.scope_of_delivery==\"Wonjin\" %}-->\n<!--            {% set prepared_by = frappe.db.get_value(\"Employee\",{\"user_id\": doc.owner},\"custom_digital_signature\") %}-->\n<!--            <td style=\"height:60px;vertical-align:middle;border-top:hidden;border-right:hidden;\">-->\n<!--                {% if prepared_by %}<img src=\"{{prepared_by}}\" style=\"height:60px;width:35%;object-fit:contain;\">{% endif %}-->\n<!--            </td>-->\n<!--            {% set si_owner = frappe.db.get_value(\"Sales Invoice\",{\"name\": doc.order_no},['owner']) %}-->\n<!--            {% set requested_by = frappe.db.get_value(\"Employee\",{\"user_id\": si_owner},['custom_digital_signature']) %}-->\n<!--            <td style=\"height:60px;vertical-align:middle;border-top:hidden;border-right:hidden;border-left:hidden;\">-->\n<!--                {% if requested_by %}<img src=\"{{requested_by}}\" style=\"height:60px;width:35%;object-fit:contain;\">{% endif %}-->\n<!--            </td>-->\n<!--            {% set finance = frappe.db.get_value(\"Employee\",{\"name\": 'S0189'},[\"custom_digital_signature\"]) %}-->\n<!--            <td colspan=\"2\" style=\"height:60px;vertical-align:middle;border-top:hidden;border-right:hidden;border-left:hidden;\">-->\n<!--                {% if finance and doc.approved_by_finance %}<img src=\"{{finance}}\" style=\"height:60px;width:35%;object-fit:contain;\">{% endif %}-->\n<!--            </td>-->\n<!--            {% set cmd = frappe.db.get_value(\"Employee\",{\"name\": 'CMD01'},[\"custom_digital_signature\"]) %}-->\n<!--            <td colspan=\"2\" style=\"height:60px;vertical-align:middle;border-top:hidden;border-right:hidden;\">-->\n<!--                {% if cmd and doc.approved_by_cmd %}<img src=\"{{cmd}}\" style=\"height:60px;width:35%;object-fit:contain;\">{% endif %}-->\n<!--            </td>-->\n\n<!--        {% elif doc.scope_of_delivery==\"Customer\" %}-->\n<!--            {% set prepared_by = frappe.db.get_value(\"Employee\",{\"user_id\": doc.owner},['custom_digital_signature']) %}-->\n<!--            <td colspan=\"3\" style=\"height:60px;vertical-align:middle;border-top:hidden;border-left:hidden;\">-->\n<!--                {% if prepared_by %}<img src=\"{{prepared_by}}\" style=\"height:50px;width:25%;object-fit:contain;\">{% endif %}-->\n<!--            </td>-->\n<!--            {% set si_owner = frappe.db.get_value(\"Sales Invoice\",{\"name\": doc.order_no},['owner']) %}-->\n<!--            {% set requested_by = frappe.db.get_value(\"Employee\",{\"user_id\": si_owner},['custom_digital_signature']) %}-->\n<!--            <td style=\"height:60px;vertical-align:middle;border-top:hidden;border-right:hidden;border-left:hidden;\">-->\n<!--                {% if requested_by %}<img src=\"{{requested_by}}\" style=\"height:60px;width:35%;object-fit:contain;\">{% endif %}-->\n<!--            </td>-->\n<!--            {% set finance = frappe.db.get_value(\"Employee\",{\"name\": 'S0189'},[\"custom_digital_signature\"]) %}-->\n<!--            <td colspan=\"2\" style=\"height:60px;vertical-align:middle;border-top:hidden;border-left:hidden;\">-->\n<!--                {% if finance and doc.approved_by_finance %}<img src=\"{{finance}}\" style=\"height:50px;width:25%;object-fit:contain;\">{% endif %}-->\n<!--            </td>-->\n<!--        {% endif %}-->\n<!--    </tr>-->\n\n    <!-- DATETIME ROW (separate) -->\n<!--    <tr class=\"remove-top-border remove-bottom-border\"-->\n<!--        style=\"font-size:9px;text-align:center;font-family:'Book Antiqua','Palatino Linotype',Palatino,serif;border-top:none;\">-->\n<!--        {% if doc.cargo_type == \"Air\" and doc.scope_of_delivery==\"Wonjin\" %}-->\n<!--            <td class=\"remove-bottom-border\" style=\"border-right:hidden;\">{{ frappe.utils.format_datetime(doc.creation, \"dd-MM-yyyy HH:mm:ss\") or '' }}</td>-->\n<!--            {% set si_creation = frappe.db.get_value(\"Sales Invoice\",{\"name\": doc.order_no},['creation']) %}-->\n<!--            <td class=\"remove-bottom-border\" style=\"border-right:hidden;border-left:hidden;\">{{ frappe.utils.format_datetime(si_creation, \"dd-MM-yyyy HH:mm:ss\") or ''}}</td>-->\n<!--            <td class=\"remove-bottom-border\" style=\"border-right:hidden;border-left:hidden;\">{{ frappe.utils.format_datetime(doc.approved_by_finance_date_and_time, \"dd-MM-yyyy HH:mm:ss\")  or ''}}</td>-->\n<!--            <td class=\"remove-bottom-border\" style=\"border-right:hidden;border-left:hidden;\">{{ frappe.utils.format_datetime(doc.approved_by_bmd_date_and_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}</td>-->\n<!--            <td class=\"remove-bottom-border\" style=\"border-right:hidden;border-left:hidden;\">{{ frappe.utils.format_datetime(doc.approved_by_cmd_date_and_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}</td>-->\n<!--            <td class=\"remove-bottom-border\" style=\"border-left:hidden;\">{{ frappe.utils.format_datetime(doc.approved_by_smd_date_and_time, \"dd-MM-yyyy HH:mm:ss\") or ''}}</td>-->\n<!--        {% elif doc.cargo_type == \"Sea\" and doc.scope_of_delivery==\"Wonjin\" %}-->\n<!--            <td class=\"remove-bottom-border\" style=\"border-right:hidden;\">{{ frappe.utils.format_datetime(doc.creation, \"dd-MM-yyyy HH:mm:ss\") or '' }}</td>-->\n<!--            {% set si_creation = frappe.db.get_value(\"Sales Invoice\",{\"name\": doc.order_no},['creation']) %}-->\n<!--            <td class=\"remove-bottom-border\" style=\"border-right:hidden;border-left:hidden;\">{{ frappe.utils.format_datetime(si_creation, \"dd-MM-yyyy HH:mm:ss\") or ''}}</td>-->\n<!--            <td colspan=\"2\" class=\"remove-bottom-border\" style=\"border-right:hidden;border-left:hidden;\">{{ frappe.utils.format_datetime(doc.approved_by_finance_date_and_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}</td>-->\n<!--            <td colspan=\"2\" class=\"remove-bottom-border\" style=\"border-left:hidden;\">{{ frappe.utils.format_datetime(doc.approved_by_cmd_date_and_time, \"dd-MM-yyyy HH:mm:ss\") or ''}}</td>-->\n<!--        {% elif doc.scope_of_delivery==\"Customer\" %}-->\n<!--            <td colspan=\"2\" class=\"remove-bottom-border\" style=\"border-right:hidden;\">{{ frappe.utils.format_datetime(doc.creation, \"dd-MM-yyyy HH:mm:ss\") or '' }}</td>-->\n<!--            {% set si_creation = frappe.db.get_value(\"Sales Invoice\",{\"name\": doc.order_no},['creation']) %}-->\n<!--            <td colspan=\"2\" class=\"remove-bottom-border\" style=\"border-right:hidden;border-left:hidden;\">{{ frappe.utils.format_datetime(si_creation, \"dd-MM-yyyy HH:mm:ss\") or ''}}</td>-->\n<!--            <td colspan=\"2\" class=\"remove-bottom-border\" style=\"border-left:hidden;\">{{ frappe.utils.format_datetime(doc.approved_by_finance_date_and_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}</td>-->\n<!--        {% endif %}-->\n<!--    </tr>-->\n<!--    <tr class=\"remove-top-border remove-bottom-border\"-->\n<!--        style=\"font-size:9px;text-align:left;font-family:'Book Antiqua','Palatino Linotype',Palatino,serif;border-top:none;\">-->\n<!--        <td class=\"remove-bottom-border\" colspan=\"6\">Note: This document is Digitally Signed</td>-->\n<!--        </tr>-->\n<!--</table>-->\n<!--</div>-->\n<footer id=\"footer-html\">\n   <table width=\"100%\" style=\"border:none;\">\n       <tr>\n           <td width=\"100%\" style=\"text-align:center; font-size:9px;border:none; padding:0; margin:0;\">\n               <i>Page <span class=\"page\"></span> / <span class=\"topage\"></span></i>\n           </td>\n       </tr>\n   </table>\n</footer>\n\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"20mm\"/>\n`\n\n\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-08 22:09:20.738093",
  "module": "ONEGENE",
  "name": "LR Packing List",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\r\n@page {\r\n    size: A4;\r\n    margin: 5mm 5mm 5mm 5mm;\r\n}\r\n\r\n.page-wrapper {\r\n    border: 2px solid black;\r\n    padding: 2mm;\r\n    box-sizing: border-box;\r\n    min-height: 265mm;\r\n    max-width: 200mm;\r\n    margin-top: 0mm;\r\n}\r\n\r\n.content {\r\n    margin-bottom: 50mm;\r\n    width: 100%;\r\n}\r\n\r\n.fixed-footer {\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    padding: 2mm 5mm;\r\n    box-sizing: border-box;\r\n    border-top: none;\r\n    font-size: 10px;\r\n}\r\n\r\n.footer {\r\n    display: block;\r\n    position: running(footer);\r\n}\r\n\r\n.fixed-footer table {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n}\r\n\r\ntable {\r\n    border-collapse: collapse;\r\n    border-spacing: 0;\r\n    width: 100%;\r\n    margin-bottom: 16px;\r\n    page-break-inside: avoid;\r\n}\r\n\r\ntd, th {\r\n    border: 1px solid black;\r\n}\r\n\r\n.header-title {\r\n    font-size: 18px;\r\n    font-weight: bold;\r\n    width: 100%;\r\n}\r\n\r\n.color-box {\r\n    width: 30px;\r\n    height: 20px;\r\n    display: inline-block;\r\n}\r\n\r\n.red { background-color: red; }\r\n.yellow { background-color: yellow; }\r\n.blue { background-color: blue; }\r\n\r\n.right-align {\r\n    text-align: left;\r\n    padding-left: 5px;\r\n}\r\n</style>\r\n\r\n<div class=\"page-wrapper\">\r\n    <div class=\"content\">\r\n\r\n        <table>\r\n            <tr>\r\n                <td style=\"width: 15%; text-align:center; border-right:none; border-bottom:none;\">\r\n                    <div style=\"padding-top:8px;\">\r\n                        <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\r\n                    </div>\r\n                </td>\r\n                <td style=\"width:30%; font-size:20px; text-align:center; border-right:none; border-bottom:none; padding-top:13px\" nowrap>\r\n                    <div class=\"header-title\">INTER OFFICE MEMO (I O M)</div>\r\n                </td>\r\n                <td style=\"width:15%; white-space:nowrap; border-bottom:none; font-weight:bold;\">\r\n                    <div style=\"padding-top:13px; border-bottom:none;\">\r\n                        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\r\n                            ✔\r\n                        </span>\r\n                        {{ doc.priority }}\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        </table>\r\n\r\n        {% set emp_name = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"employee_name\") %}\r\n\r\n        <table style=\"width:100%; border-collapse: collapse; margin-top:-15px;\">\r\n            <tr>\r\n                <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none; border-right:none;\">\r\n                    <p style=\"line-height:1.1\">\r\n                        <span style=\"display:inline-block; width:100px;\">Dept.From </span>:&nbsp;{{ doc.department_from or '' }}<br><br>\r\n                        <span style=\"display:inline-block; width:100px;\">Dept.To </span>:&nbsp;{{ doc.department_to or '' }}<br><br>\r\n                        <span style=\"display:inline-block; width:100px;\">Created By</span>: &nbsp;{{ emp_name or '' }}<br><br>\r\n                    </p>\r\n                </td>\r\n                <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none; border-left:none;\">\r\n                    <p style=\"line-height:1.1\">\r\n                        <span style=\"display:inline-block; width:90px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\r\n                        <span style=\"display:inline-block; width:90px;\">Doc.No</span>: {{ doc.name }}<br><br>\r\n                        <span style=\"display:inline-block; width:90px;\">Requested By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\r\n                    </p>\r\n                </td>\r\n            </tr>\r\n        </table>\r\n\r\n        <table style=\"margin-top:-30px; width: 100%;\">\r\n            <tr>\r\n                <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\r\n                    SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;\r\n                    <span style=\"display: inline-block; width: 70%; text-align: center;\">\r\n                        {{ doc.iom_type or 'NA' }}\r\n                    </span>\r\n                </td>\r\n            </tr>\r\n        </table>\r\n\r\n        <br>\r\n\r\n        {% set label_width = \"140px\" %}\r\n\r\n        <div style=\"margin-bottom: 4px;\">\r\n            <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Revision Level</span>\r\n            <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.revision_level or 'NA' }}</span>\r\n        </div>\r\n        <div style=\"margin-bottom: 4px;\">\r\n            <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Schedule Month</span>\r\n            <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.schedule_month or 'NA' }}</span>\r\n        </div>\r\n        <div style=\"margin-bottom: 4px;\">\r\n            <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Reason For Update</span>\r\n            <!--<span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.approval_schdule_increase[0].reason_for_request if doc.approval_schdule_increase and doc.approval_schdule_increase[0].forwarder_name else 'NA' }}</span>-->\r\n            <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.subject or 'NA' }}</span>\r\n        </div>\r\n\r\n <br>\r\n {% set grouped = {} %}\r\n{% set schedule_totals = {} %}\r\n{# --- Group by customer_code and sum revised/difference values --- #}\r\n{% for row in doc.approval_schdule_increase %}\r\n    {% set code = row.customer_code %}\r\n    {% if code not in grouped %}\r\n        {% set _ = grouped.update({code: {\r\n            \"customer_type\": row.customer_type,\r\n            \"current_schedule_value\": (schedule_totals.get(code) or 0) | float,\r\n            \"increase_value\": (row.difference_value or 0) | float\r\n        }}) %}\r\n    {% else %}\r\n        {% set _ = grouped[code].update({\r\n            \"increase_value\": (grouped[code].increase_value or 0) + (row.difference_value or 0)\r\n        }) %}\r\n    {% endif %}\r\n{% endfor %}\r\n\r\n<table style=\"width:100%;border-collapse:collapse;\" border=\"1\">\r\n    <tr>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">S.No</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Customer Type</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Customer Code</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Current Schedule Value</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Revised Schedule Value</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Difference Value</td>\r\n    </tr>\r\n\r\n    {% set ns = namespace(total_difference=0) %}\r\n    {% if doc.customer_wise_schedule %}\r\n        {% for row in doc.customer_wise_schedule %}\r\n            {% set ns.total_difference = ns.total_difference + row.difference_value %}\r\n            {# Set up/down arrow #}\r\n            {% if row.difference_value > 0 %}\r\n                {% set arrow = '<span style=\"color:green;\">&#9650;</span>' %} {# ▲ Up arrow (green) #}\r\n            {% elif row.difference_value < 0 %}\r\n                {% set arrow = '<span style=\"color:red;\">&#9660;</span>' %} {# ▼ Down arrow (red) #}\r\n            {% else %}\r\n                {% set arrow = '' %}\r\n            {% endif %}\r\n            <tr>\r\n                <td style=\"text-align:center;\">{{ loop.index }}</td>\r\n                <td style=\"text-align:left;\">{{ row.customer_type or '' }}</td>\r\n                <td style=\"text-align:left;\">{{ row.customer_code }}</td>\r\n                <td style=\"text-align:right;\">{{ frappe.utils.fmt_money(row.current_schedule_value, 2, currency=\"INR\") }}</td>\r\n                <td style=\"text-align:right;\">{{ frappe.utils.fmt_money(row.revised_schedule_value, 2, currency=\"INR\") }}</td>\r\n                <td style=\"text-align:right;\">\r\n                    {{ frappe.utils.fmt_money(row.difference_value, 2, currency=\"INR\") }} {{ arrow | safe }}\r\n                </td>\r\n            </tr>\r\n        {% endfor %}\r\n    {% else %}\r\n    {% for code, data in grouped.items() %}\r\n        {% set current_val = (data.current_schedule_value or 0) | float %}\r\n        {% set increase_val = (data.increase_value or 0) | float %}\r\n        {% set revised_val = current_val + increase_val %}\r\n        {% set diff_val = revised_val - current_val %}\r\n        {% set ns.total_difference = ns.total_difference + diff_val %}\r\n\r\n        {# Set up/down arrow #}\r\n        {% if diff_val > 0 %}\r\n            {% set arrow = '<span style=\"color:green;\">&#9650;</span>' %} {# ▲ Up arrow (green) #}\r\n        {% elif diff_val < 0 %}\r\n            {% set arrow = '<span style=\"color:red;\">&#9660;</span>' %} {# ▼ Down arrow (red) #}\r\n        {% else %}\r\n            {% set arrow = '' %}\r\n        {% endif %}\r\n\r\n        <tr>\r\n            <td style=\"text-align:center;\">{{ loop.index }}</td>\r\n            <td style=\"text-align:left;\">{{ data.customer_type or '' }}</td>\r\n            <td style=\"text-align:left;\">{{ code }}</td>\r\n            <td style=\"text-align:right;\">{{ frappe.utils.fmt_money(current_val, 2, currency=\"INR\") }}</td>\r\n            <td style=\"text-align:right;\">{{ frappe.utils.fmt_money(revised_val, 2, currency=\"INR\") }}</td>\r\n            <td style=\"text-align:right;\">\r\n                {{ frappe.utils.fmt_money(diff_val, 2, currency=\"INR\") }} {{ arrow | safe }}\r\n            </td>\r\n        </tr>\r\n    {% endfor %}\r\n    \r\n    {% endif %}\r\n    <tr>\r\n        <td colspan=\"5\" style=\"text-align:center;font-size:13px;font-weight:bold;\">Total</td>\r\n        <td style=\"text-align:right;font-size:13px;font-weight:bold;\">\r\n            {{ frappe.utils.fmt_money(ns.total_difference, 2, currency=\"INR\") }}\r\n        </td>\r\n    </tr>\r\n    \r\n</table>\r\n\r\n    <br>\r\n   {% set grouped = {} %}\r\n\r\n{# 1. Group and sum by item_group from doc.approval_schdule_increase #}\r\n{% for row in doc.approval_schdule_increase %}\r\n    {% set group = row.item_group %}\r\n    {% if group not in grouped %}\r\n        {% set _ = grouped.update({group: {\r\n            \"increase_value\": (row.difference_value or 0) | float\r\n        }}) %}\r\n    {% else %}\r\n        {% set _ = grouped[group].update({\r\n            \"increase_value\": (grouped[group].increase_value or 0) + (row.difference_value or 0)\r\n        }) %}\r\n    {% endif %}\r\n{% endfor %}\r\n\r\n<table style=\"width:100%;border-collapse:collapse;\" border=\"1\">\r\n    <tr>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">S.No</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Item Group</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Current Schedule Value</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Revised Schedule Value</td>\r\n        <td style=\"background-color:#fec76f;text-align:center;\">Difference Value</td>\r\n    </tr>\r\n\r\n    {% set ns = namespace(total_difference1=0) %}\r\n\r\n    {% if doc.item_group_wise_schedule %}\r\n    {% for row in doc.item_group_wise_schedule %}\r\n        {% set ns.total_difference1 = ns.total_difference1 + row.difference_value %}\r\n        {% if row.difference_value > 0 %}\r\n            {% set arrow = '<span style=\"color:green;\">&#9650;</span>' %} {# ▲ Up arrow #}\r\n        {% elif row.difference_value < 0 %}\r\n            {% set arrow = '<span style=\"color:red;\">&#9660;</span>' %} {# ▼ Down arrow #}\r\n        {% else %}\r\n            {% set arrow = '' %}\r\n        {% endif %}\r\n        <tr>\r\n            <td style=\"text-align:center;\">{{ loop.index }}</td>\r\n            <td style=\"text-align:left;\">{{ row.item_group }}</td>\r\n            <td style=\"text-align:right;\">{{ frappe.utils.fmt_money(row.current_schedule_value, 2,currency=\"INR\") }}</td>\r\n            <td style=\"text-align:right;\">{{ frappe.utils.fmt_money(row.revised_schedule_value, 2,currency=\"INR\") }}</td>\r\n            <td style=\"text-align:right;\">\r\n                {{ frappe.utils.fmt_money(row.difference_value, 2,currency=\"INR\") }} {{ arrow | safe }}\r\n            </td>\r\n        </tr>\r\n    {% endfor %}\r\n    {% else %}\r\n    {% for group, data in grouped.items() %}\r\n        {% set current_val = (schedule_totals_item.get(group.strip()) or 0) | float %}\r\n        {% set increase_val = (data.increase_value or 0) | float %}\r\n        {% set revised_val = current_val + increase_val %}\r\n        {% set diff_val = revised_val - current_val %}\r\n        {% set ns.total_difference1 = ns.total_difference1 + diff_val %}\r\n\r\n        {% if diff_val > 0 %}\r\n            {% set arrow = '<span style=\"color:green;\">&#9650;</span>' %} {# ▲ Up arrow #}\r\n        {% elif diff_val < 0 %}\r\n            {% set arrow = '<span style=\"color:red;\">&#9660;</span>' %} {# ▼ Down arrow #}\r\n        {% else %}\r\n            {% set arrow = '' %}\r\n        {% endif %}\r\n\r\n        <tr>\r\n            <td style=\"text-align:center;\">{{ loop.index }}</td>\r\n            <td style=\"text-align:left;\">{{ group }}</td>\r\n            <td style=\"text-align:right;\">{{ frappe.utils.fmt_money(current_val, 2,currency=\"INR\") }}</td>\r\n            <td style=\"text-align:right;\">{{ frappe.utils.fmt_money(revised_val, 2,currency=\"INR\") }}</td>\r\n            <td style=\"text-align:right;\">\r\n                {{ frappe.utils.fmt_money(diff_val, 2,currency=\"INR\") }} {{ arrow | safe }}\r\n            </td>\r\n        </tr>\r\n    {% endfor %}\r\n    {% endif %}\r\n\r\n    <tr>\r\n        <td colspan=\"4\" style=\"text-align:center;font-size:13px;font-weight:bold;\">Total</td>\r\n        <td style=\"text-align:right;font-size:13px;font-weight:bold;\">\r\n            {{ frappe.utils.fmt_money(ns.total_difference1, 2,currency=\"INR\") }}\r\n        </td>\r\n    </tr>\r\n    \r\n</table>\r\n\r\n    <br>\r\n    {% if doc.total_sales_plan %}\r\n    <b>Total Sales Plan: </b>{{ \"₹{:,.2f}\".format(doc.total_sales_plan or 0) }}<br>\r\n    {% endif %}\r\n    \r\n   \r\n<div style=\"width:100%; margin-top:10px; display:flex;\">\r\n\r\n    {% if doc.approval_remarks %}\r\n    <div style=\"\r\n        width:50%;\r\n        padding:20px;\r\n        border:1px solid #000;\r\n        margin-right:20px; \r\n        box-sizing:border-box;\r\n    \">\r\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\r\n        <br><br>\r\n        {% for r in doc.approval_remarks %}\r\n            ● {{ r.remarks or '' }}\r\n            {% if not loop.last %}<br>{% endif %}\r\n        {% endfor %}\r\n    </div>\r\n    {% endif %}\r\n\r\n    {% if doc.rejection_remarks %}\r\n    <div style=\"\r\n        width:50%;\r\n        padding:20px;\r\n        border:1px solid #000;\r\n        margin-left:20px;   \r\n        box-sizing:border-box;\r\n    \">\r\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\r\n        <br><br>\r\n        {% for r in doc.rejection_remarks %}\r\n            ● {{ r.rejection_remarks or '' }}\r\n            {% if not loop.last %}<br>{% endif %}\r\n        {% endfor %}\r\n    </div>\r\n    {% endif %}\r\n\r\n</div>\r\n        <br>\r\n<!--<div style=\"margin-bottom: 4px;\">-->\r\n<!--            <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Total Sales Plan</span>-->\r\n<!--            {% if doc.total_sales_plan %}-->\r\n<!--            <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ frappe.utils.fmt_money(doc.total_sales_plan , 2,currency=\"INR\") }}</span>-->\r\n            \r\n<!--            {% endif %}-->\r\n<!--        </div>-->\r\n        \r\n    </div>\r\n\r\n    {# --- Fixed footer with signatures --- #}\r\n    <div class=\"fixed-footer\">\r\n        <br>\r\n        {% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\r\n        <table>\r\n            <tr>\r\n                <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">Prepared</td>\r\n                <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">HOD</td>\r\n                <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">ERP</td>\r\n                <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">Material Manager</td>\r\n                <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">Plant Head</td>\r\n                <td style=\"text-align:center; font-weight:bold; font-size:15px; width:14.28%;background-color:#a5a3ac\">BMD</td>\r\n            </tr>\r\n            <tr style=\"height: 80px;\">\r\n                {% set erp_signature = frappe.db.get_value(\"Employee\",{\"user_id\":doc.erp_team}, \"custom_digital_signature\") %}\r\n                {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\r\n                {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\r\n                {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"BMD01\"}, \"custom_digital_signature\") %}\r\n                {% set plant_signature = frappe.db.get_value(\"Employee\", {\"name\":\"S0004\"}, \"custom_digital_signature\") %}\r\n                {% set material_signature = frappe.db.get_value(\"Employee\", {\"name\":\"S0004\"}, \"custom_digital_signature\") %}\r\n                \r\n                {# Repeat for each column with signature image and approval date #}\r\n                <td style=\"text-align:center;font-size:15px;\">\r\n                    <br>\r\n                    {% if prepared_signature %}\r\n                        <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\r\n                    {% else %}\r\n                        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\r\n                    {% endif %}\r\n                    <br>\r\n                    {% if doc.date_time %}\r\n                        {% set formatted_date = frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") %}\r\n                        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\r\n                    {% endif %}\r\n                </td>\r\n\r\n                <td style=\"text-align:center;font-size:15px;\">\r\n                    <br>\r\n                    {% if hod_signature %}\r\n                        <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\r\n                    {% else %}\r\n                        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\r\n                    {% endif %}\r\n                    <br>\r\n                    {% if doc.hod_approved_on %}\r\n                        {% set formatted_date = frappe.utils.format_datetime(doc.hod_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\r\n                        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\r\n                    {% endif %}\r\n                </td>\r\n\r\n                <td style=\"text-align:center;font-size:15px;\">\r\n                    <br>\r\n                    {% if erp_signature %}\r\n                        <img src=\"{{ erp_signature }}\" style=\"height:50px;\">\r\n                    {% else %}\r\n                        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\r\n                    {% endif %}\r\n                    <br>\r\n                    {% if doc.erp_team_approved_on %}\r\n                        {% set formatted_date = frappe.utils.format_datetime(doc.erp_team_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\r\n                        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\r\n                    {% endif %}\r\n                </td>\r\n\r\n                <td style=\"text-align:center;font-size:15px;\">\r\n                    <br>\r\n                    {% if material_signature %}\r\n                        <img src=\"{{ material_signature }}\" style=\"height:50px;\">\r\n                    {% else %}\r\n                        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\r\n                    {% endif %}\r\n                    <br>\r\n                    {% if doc.material_manager_approved_on %}\r\n                        {% set formatted_date = frappe.utils.format_datetime(doc.material_manager_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\r\n                        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\r\n                    {% endif %}\r\n                </td>\r\n\r\n                <td style=\"text-align:center;font-size:15px;\">\r\n                    <br>\r\n                    {% if plant_signature %}\r\n                        <img src=\"{{ plant_signature }}\" style=\"height:50px;\">\r\n                    {% else %}\r\n                        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\r\n                    {% endif %}\r\n                    <br>\r\n                    {% if doc.plant_head_approved_on %}\r\n                        {% set formatted_date = frappe.utils.format_datetime(doc.plant_head_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\r\n                        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\r\n                    {% endif %}\r\n                </td>\r\n\r\n                <td style=\"text-align:center;font-size:15px;\">\r\n                    <br>\r\n                    {% if bmd_signature %}\r\n                        <img src=\"{{ bmd_signature }}\" style=\"height:50px;\">\r\n                    {% else %}\r\n                        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\r\n                    {% endif %}\r\n                    <br>\r\n                    {% if doc.bmd_approved_on %}\r\n                        {% set formatted_date = frappe.utils.format_datetime(doc.bmd_approved_on, \"dd-MM-yyyy HH:mm:ss\") %}\r\n                        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\r\n                    {% endif %}\r\n                </td>\r\n            </tr>\r\n        </table>\r\n        <div style=\"text-align:left; font-size:12px; margin-top:5px;\">\r\n            Note: This document is Digitally Signed\r\n        </div>\r\n    </div>\r\n\r\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>\r\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-08 18:00:57.883881",
  "module": "ONEGENE",
  "name": "Schedule Test",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n@page {\n    size: A4;\n    margin: 5mm 5mm 5mm 5mm; /* top right bottom left */\n}\n\n.page-wrapper {\n    border: 2px solid black;\n    padding: 2mm;\n    box-sizing: border-box;\n    min-height: 265mm; /* full page height */\n    max-width:200mm;\n    margin-top:0mm;\n    \n}\n.content {\n    margin-bottom: 50mm; /* leave space for repeated footer */\n        width: 100%;\n\n}\n.fixed-footer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    padding: 2mm 5mm;\n    box-sizing: border-box;\n    border-top:none;\n    font-size: 10px;\n}\n\n.footer {\n    display: block;\n    position: running(footer); /* makes it a repeated element on every page */\n}\n/* tables inside footer */\n.fixed-footer table {\n    width: 100%;\n    border-collapse: collapse;\n}\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n            page-break-inside: avoid;\n\n    }\n    td, th {\n        border: 1px solid black;\n    }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n        width: 100%;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<div class=\"page-wrapper\">\n    <div class=\"content\">\n\n<table>\n    <tr>\n        <td style=\"width: 15%;text-align:center;border-right:none;border-bottom:none;border-bottom:bold\">\n            <div style=\"padding-top:8px;\">\n                <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\n            </div>\n        </td>\n        <td style=\"width:30%;font-size:20px;text-align:center;border-right:none;border-bottom:none;padding-top:13px\" nowrap>\n            <div class=\"header-title\" style=\"padding-top:10px\">INTER OFFICE MEMO (I O M)</div>         </td>\n        <td style=\"width:15%;white-space:nowrap;border-bottom:none;font-weight:bold;\">\n    <div style=\"padding-top:13px;border-bottom:none;\">\n        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\n            ✔\n        </span>\n        {{ doc.priority }}\n    </div>\n</td>\n\n\n\n    </tr>\n</table>\n\n{% set emp_name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n<table style=\"width:100%; border-collapse: collapse; margin-top:-16px;\">\n    <tr>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;\">\n           <p style=\"line-height:1\">\n    <span style=\"display:inline-block; width:80px;\">Dept.From </span>:&nbsp;{{ doc.department_from or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Dept.To</span>:&nbsp; {{ doc.department_to or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Created By</span>: &nbsp;{{emp_name or '' }}<br><br>\n   \n</p>\n\n       </td>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;\">\n           <p style=\"line-height:1\">\n            <span style=\"display:inline-block; width:80px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Doc.No</span>: {{ doc.name }}<br><br>\n        <span style=\"display:inline-block; width:80px;\">Instructed By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\n\n       </p></td>\n   </tr>\n    \n</table>\n<table style=\"margin-top:-30px; width: 100%;\">\n    <tr>\n        <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\n            SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;\n            <span style=\"display: inline-block; width: 60%; text-align: center;\">\n                {{ doc.iom_type or 'NA' }}\n            </span>\n        </td>\n    </tr>\n</table>\n\n{% set label_width = \"130px\" %} <!-- adjust as needed -->\n\n{% if doc.customer %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer Name</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.customer or 'NA' }}</span>\n</div>\n\n{% elif doc.supplier %}\n    {% set supplier_name = frappe.db.get_value(\"Supplier\", {\"name\": doc.supplier}, \"supplier_name\") %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{supplier_name or 'NA' }}</span>\n</div>\n{% if doc.select_type==\"Both\" %}\n    <div style=\"margin-bottom: 4px;\">\n        <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer</span>\n        <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.new_customer or 'NA' }}</span>\n    </div>\n{% endif %}\n\n{% endif %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Currency</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.currency or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Quotation No & Date</span>\n    <span>\n        :&nbsp;&nbsp;\n       {{doc.quotation_no or \"NA\"}}&nbsp;/&nbsp;{{frappe.utils.formatdate(doc.quotation_date, \"dd-MM-yyyy\") or 'NA'}}\n    </span>\n</div>\n\n{% if doc.name in [\"IOM-00031\", \"IOM-00019\"] %}\n    <div style=\"margin-bottom: 4px;\">\n        <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">HSN Code</span>\n        <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.approval_business_po[0].hsn_code if doc.approval_business_po and doc.approval_business_po[0].hsn_code else 'NA' }}</span>\n        {% set CT = doc.approval_business_po %}\n    </div>\n{% else %}\n    <div style=\"margin-bottom: 4px;\">\n        <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">HSN Code</span>\n        <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.custom_approval_for_new_business_po[0].hsn_code if doc.custom_approval_for_new_business_po and doc.custom_approval_for_new_business_po[0].hsn_code else 'NA' }}</span>\n        {% set CT = doc.custom_approval_for_new_business_po %}\n    </div>\n{% endif %}\n{% set ns = namespace(gst_rates=[]) %}  \n{% if doc.taxes %}\n    {% for t in doc.taxes %}\n        {% if t.rate %}\n            {% set ns.gst_rates = ns.gst_rates + [t.rate|string + '%'] %}\n        {% endif %}\n    {% endfor %}\n{% endif %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">GST Rate</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ ns.gst_rates | join(' + ') or '' }}</span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Order Type</span>\n    <span>:&nbsp;&nbsp;&nbsp;\n        {{doc.order_type or 'NA' }}\n    </span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Remarks</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.subject or 'NA' }}</span>\n</div>\n\n<br>\n{% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table>\n    <tr>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:10px;\">S.No</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:10px;\">Item Code</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:10px;\">Item Name</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">UOM</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:10px;\">Qty</td>\n            <td style=\"background-color:#fec76f;text-align:center;\">PO Price({{doc.currency or ''}})</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Value({{doc.currency or ''}})</td>\n\n\n        </tr>\n    {% for i in CT%}\n    <tr>\n        <td>{{loop.index}}</td>\n        <td style=\"text-align:left;white-space:nowrap;font-size:10px;\">{{i.part_no or ''}}</td>\n        <td style=\"text-align:left;font-size:10px;\">{{i.part_name or ''}}</td>\n        <td style=\"text-align:center;white-space:nowrap;\">{{i.uom or ''}}</td>\n        <td style=\"text-align:center;white-space:nowrap;font-size:10px;\">{{i.qty or ''}}</td>\n        <td style=\"text-align:right;white-space:nowrap;\">{{frappe.utils.fmt_money(i.po_price or 0 , currency=doc.currency)}}</td>\n        <td style=\"text-align:right;white-space:nowrap;\">{{frappe.utils.fmt_money(i.value or 0 , currency=doc.currency)}}</td>\n\n    </tr>\n    {%endfor%}\n    <tr><td colspan=6 style=\"text-align:center;font-weight:bold\">Total PO Value</td>\n    <td colspan=1 style=\"text-align:right;font-weight:bold\">{{frappe.utils.fmt_money(doc.total_po_value or 0 , currency=doc.currency) }}</td>\n    </tr>\n    </table>\n\n    <div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:50%;font-weight:bold;\">TERMS & CONDITIONS</span>\n</div><br>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Payment Terms</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.payment_terms or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Incoterms</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.wonjin_incoterms or 'NA' }}</span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Duties and Taxes</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.duties_and_taxes or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Freight</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.freight or 'NA' }}</span>\n</div>\n<div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n</div>\n\n<div class=\"fixed-footer\">\n\n<br><br>\n    <table>\n   <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">ERP Team</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:11.11%;background-color:#a5a3ac\">Marketing</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Plant Head</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">GM</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Finance</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">BMD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">CMD</td>\n</tr>\n\n\n   <tr style=\"height: 50px;\">\n    {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n       {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\n       {% set gm_signature = frappe.db.get_value(\"Employee\", {\"name\":\"KR002\"}, \"custom_digital_signature\") %}\n        {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"BMD01\"}, \"custom_digital_signature\") %}\n        {% set cmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"CMD01\"}, \"custom_digital_signature\") %}\n        {% set erp_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.erp_team}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.plant_head}, \"custom_digital_signature\") %}\n        {% set material_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.material_manager}, \"custom_digital_signature\") %}\n\n       {% set marketing_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.marketing_manager}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.finance}, \"custom_digital_signature\") %}\n      <td style=\"text-align:center;font-size:15px;\">\n    {% if prepared_signature %}\n        <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\n          {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n     {% if doc.date_time %}\n        {% set formatted_date = frappe.utils.formatdate(doc.date_time, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.date_time, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n        <td style=\"text-align:center;font-size:15px;\">\n    {% if hod_signature %}\n        <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.hod_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.hod_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.hod_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n <td style=\"text-align:center;font-size:15px;\">\n    {% if erp_signature %}\n        <img src=\"{{ erp_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.erp_team_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.erp_team_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.erp_team_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n\n<td style=\"text-align:center;font-size:15px;\">\n        {% if doc.workflow_state == \"Pending for Plant Head\" or doc.workflow_state == \"Pending for GM\" or doc.workflow_state == \"Pending for Finance\" or doc.workflow_state == \"Pending for BMD\" or doc.workflow_state == \"Pending for CMD\" or doc.workflow_state == \"Approved\"%}\n            {% if marketing_signature %}\n        <img src=\"{{ marketing_signature }}\" style=\"height:50px;\">\n          {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n     {% if doc.marketing_manager_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.marketing_manager_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.marketing_manager_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n\n            {% endif %}\n        {% endif %}\n    </td>\n\n<td style=\"text-align:center;font-size:15px;\">\n    {% if plant_signature %}\n        <img src=\"{{ plant_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.plant_head_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.plant_head_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.plant_head_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if gm_signature %}\n        <img src=\"{{ gm_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.gm_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.gm_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.gm_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if finance_signature %}\n        <img src=\"{{ finance_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.finance_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.finance_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.finance_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if bmd_signature %}\n        <img src=\"{{ bmd_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.bmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.bmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.bmd_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    {% if cmd_signature %}\n        <img src=\"{{ cmd_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.cmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.cmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.cmd_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n\n</div>\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 18:01:09.733854",
  "module": "ONEGENE",
  "name": "Approval for New Business PO NEW",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n@page {\n    size: A4;\n    margin: 5mm 5mm 5mm 5mm; /* top right bottom left */\n}\n\n.page-wrapper {\n    border: 2px solid black;\n    padding: 2mm;\n    box-sizing: border-box;\n    min-height: 265mm; /* full page height */\n    max-width:200mm;\n    margin-top:0mm;\n    \n}\n.content {\n    margin-bottom: 50mm; /* leave space for repeated footer */\n        width: 100%;\n\n}\n.fixed-footer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    padding: 2mm 5mm;\n    box-sizing: border-box;\n    border-top:none;\n    font-size: 10px;\n}\n\n.footer {\n    display: block;\n    position: running(footer); /* makes it a repeated element on every page */\n}\n/* tables inside footer */\n.fixed-footer table {\n    width: 100%;\n    border-collapse: collapse;\n}\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n            page-break-inside: avoid;\n\n    }\n    td, th {\n        border: 1px solid black;\n    }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n        width: 100%;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<div class=\"page-wrapper\">\n    <div class=\"content\">\n\n<table>\n    <tr>\n        <td style=\"width: 15%;text-align:center;border-right:none;border-bottom:none;border-bottom:bold\">\n            <div style=\"padding-top:8px;\">\n                <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\n            </div>\n        </td>\n        <td style=\"width:30%;font-size:20px;text-align:center;border-right:none;border-bottom:none;padding-top:13px\" nowrap>\n            <div class=\"header-title\" style=\"padding-top:10px\">INTER OFFICE MEMO (I O M)</div>         </td>\n        <td style=\"width:15%;white-space:nowrap;border-bottom:none;font-weight:bold;\">\n    <div style=\"padding-top:13px;border-bottom:none;\">\n        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\n            ✔\n        </span>\n        {{ doc.priority }}\n    </div>\n</td>\n\n\n\n    </tr>\n</table>\n{% set emp_name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table style=\"width:100%; border-collapse: collapse; margin-top:-16px;\">\n    <tr>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;\">\n           <p style=\"line-height:1\">\n    <span style=\"display:inline-block; width:80px;\">Dept.From </span>:&nbsp;{{ doc.department_from or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Dept.To</span>:&nbsp; {{ doc.department_to or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Created By</span>: &nbsp;{{emp_name or '' }}<br><br>\n   \n</p>\n\n       </td>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;\">\n           <p style=\"line-height:1\">\n            <span style=\"display:inline-block; width:80px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Doc.No</span>: {{ doc.name }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Instructed By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\n       </p></td>\n   </tr>\n    \n</table>\n<table style=\"margin-top:-30px; width: 100%;\">\n    <tr>\n        <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\n            SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;\n            <span style=\"display: inline-block; width: 60%; text-align: center;\">\n                {{ doc.iom_type or 'NA' }}\n            </span>\n        </td>\n    </tr>\n</table>\n\n{% set label_width = \"130px\" %} <!-- adjust as needed -->\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier Name</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.supplier or 'NA' }}</span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Currency</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.currency or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">PO No & PO Date</span>\n    <span>\n        :&nbsp;&nbsp;&nbsp;&nbsp;\n        {{doc.po_no or 'NA'}}/{{frappe.utils.formatdate(doc.po_date, \"dd-MM-yyyy\") or 'NA'}}\n    </span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">HSN Code</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.custom_approval_for_price_revision_po_new[0].hsn_code if doc.custom_approval_for_price_revision_po_new and doc.custom_approval_for_price_revision_po_new[0].hsn_code else 'NA' }}</span>\n</div>\n\n\n{% set ns = namespace(gst_rates=[]) %}  \n{% if doc.taxes %}\n    {% for t in doc.taxes %}\n        {% if t.rate %}\n            {% set ns.gst_rates = ns.gst_rates + [t.rate|string + '%'] %}\n        {% endif %}\n    {% endfor %}\n{% endif %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">GST Rate</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ ns.gst_rates | join(' + ') or '' }}</span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Reason For Update</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{doc.subject or 'NA'}}</span>\n\n</div>\n\n<br>\n{% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table>\n    <tr>\n        <td style=\"background-color:#fec76f;text-align:center;\">S.No</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Item Code</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Item Name</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Current PO Price({{doc.currency or ''}})</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">NEW Price({{doc.currency or ''}})</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Price Diff</td>\n\n        </tr>\n    {% for i in doc.custom_approval_for_price_revision_po_new%}\n    <tr>\n        <td>{{loop.index}}</td>\n        <td style=\"text-align:left\">{{i.part_no or ''}}</td>\n        <td style=\"text-align:left\">{{i.part_name or '' }}</td>\n        <td style=\"text-align:right\">{{frappe.utils.fmt_money(i.current_priceinr or 0 , currency=doc.currency)}}</td>\n        <td style=\"text-align:right\">{{frappe.utils.fmt_money(i.new_priceinr or 0 , currency=doc.currency)}}</td>\n        <td style=\"text-align:right\">{{frappe.utils.fmt_money(i.increase_price_inr or 0 , currency=doc.currency)}}</td>\n\n    </tr>\n    {%endfor%}\n    </table>\n<br>\n    <div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:50%;font-weight:bold;\">TERMS & CONDITIONS</span>\n</div><br>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Payment Terms</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.payment_terms or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Incoterms</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.wonjin_incoterms or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Duties and Taxes</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.duties_and_taxes or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Freight</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.freight or 'NA' }}</span>\n</div>\n<div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n</div>\n<div class=\"fixed-footer\">\n\n        <br>\n        {% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n    <table style=\"width:100%\">\n   <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">ERP Team</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">Marketing HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">Plant Head</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">GM</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">Finance</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">BMD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">CMD</td>\n</tr>\n\n\n    <tr style=\"height: 80px;\">\n    {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n       {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\n       {% set gm_signature = frappe.db.get_value(\"Employee\", {\"name\":\"KR002\"}, \"custom_digital_signature\") %}\n        {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"BMD01\"}, \"custom_digital_signature\") %}\n        {% set cmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"CMD01\"}, \"custom_digital_signature\") %}\n\n       {% set erp_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.erp_team}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.plant_head}, \"custom_digital_signature\") %}\n        {% set material_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.material_manager}, \"custom_digital_signature\") %}\n\n       {% set marketing_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.marketing_manager}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.finance}, \"custom_digital_signature\") %}\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if prepared_signature %}\n        <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\n          {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n     {% if doc.date_time %}\n        {% set formatted_date = frappe.utils.formatdate(doc.date_time, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.date_time, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if hod_signature %}\n        <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.hod_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.hod_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.hod_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if erp_signature %}\n        <img src=\"{{ erp_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.erp_team_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.erp_team_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.erp_team_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<!---->\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if marketing_signature %}\n        <img src=\"{{ marketing_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.marketing_manager_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.marketing_manager_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.marketing_manager_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n\n<!---->\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if plant_signature %}\n        <img src=\"{{ plant_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.plant_head_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.plant_head_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.plant_head_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if gm_signature %}\n        <img src=\"{{ gm_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.gm_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.gm_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.gm_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if finance_signature %}\n        <img src=\"{{ finance_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.finance_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.finance_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.finance_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if bmd_signature %}\n        <img src=\"{{ bmd_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.bmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.bmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.bmd_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if cmd_signature %}\n        <img src=\"{{ cmd_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.cmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.cmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.cmd_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n</div>\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 17:58:19.362797",
  "module": "ONEGENE",
  "name": "New Business PO",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n@page {\n    size: A4;\n    margin: 5mm 5mm 5mm 5mm; /* top right bottom left */\n}\n\n.page-wrapper {\n    border: 2px solid black;\n    padding: 2mm;\n    box-sizing: border-box;\n    min-height: 265mm; /* full page height */\n    max-width:200mm;\n    margin-top:0mm;\n    \n}\n.content {\n    margin-bottom: 50mm; /* leave space for repeated footer */\n        width: 100%;\n\n}\n.fixed-footer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    padding: 2mm 5mm;\n    box-sizing: border-box;\n    border-top:none;\n    font-size: 10px;\n}\n\n.footer {\n    display: block;\n    position: running(footer); /* makes it a repeated element on every page */\n}\n/* tables inside footer */\n.fixed-footer table {\n    width: 100%;\n    border-collapse: collapse;\n}\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n            page-break-inside: avoid;\n\n    }\n    td, th {\n        border: 1px solid black;\n    }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n        width: 100%;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<div class=\"page-wrapper\">\n    <div class=\"content\">\n\n<table>\n    <tr>\n        <td style=\"width: 15%;text-align:center;border-right:none;border-bottom:none;border-bottom:bold\">\n            <div style=\"padding-top:8px;\">\n                <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\n            </div>\n        </td>\n        <td style=\"width:30%;font-size:20px;text-align:center;border-right:none;border-bottom:none;padding-top:13px\" nowrap>\n            <div class=\"header-title\" style=\"padding-top:10px\">INTER OFFICE MEMO (I O M)</div>         </td>\n        <td style=\"width:15%;white-space:nowrap;border-bottom:none;font-weight:bold;\">\n    <div style=\"padding-top:13px;border-bottom:none;\">\n        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\n            ✔\n        </span>\n        {{ doc.priority }}\n    </div>\n</td>\n\n\n\n    </tr>\n</table>\n\n{% set emp_name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table style=\"width:100%; border-collapse: collapse; margin-top:-16px;\">\n    <tr>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;\">\n           <p style=\"line-height:1\">\n    <span style=\"display:inline-block; width:80px;\">Dept.From </span>:&nbsp;{{ doc.department_from or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Dept.To</span>:&nbsp; {{ doc.department_to or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Created By</span>: &nbsp;{{emp_name or '' }}<br><br>\n   \n</p>\n\n       </td>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;\">\n           <p style=\"line-height:1\">\n            <span style=\"display:inline-block; width:80px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Doc.No</span>: {{ doc.name }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Instructed By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\n\n       </p></td>\n   </tr>\n    \n</table>\n<table style=\"margin-top:-30px; width: 100%;\">\n    <tr>\n        <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\n            SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;\n            <span style=\"display: inline-block; width: 60%; text-align: center;\">\n                {{ doc.iom_type or 'NA' }}\n            </span>\n        </td>\n    </tr>\n</table>\n\n\n{% set label_width = \"130px\" %} <!-- adjust as needed -->\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;text-decoration: underline;\">Details</span>\n</div>\n{% set total_shortage = 0 %}\n{% set total_excess = 0 %}\n\n<table>\n    <tr>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:8px\">S.No</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:8px\">Item Code</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:8px\">Item Name</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:8px\">Warehouse</td>\n                 <td style=\"background-color:#fec76f;text-align:center;font-size:8px\">UOM</td>\n\n        <td style=\"background-color:#fec76f;text-align:center;font-size:8px\">ERP Stock</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:8px\">Phy Stock</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:8px\">Difference</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:8px\">Rate ({{ 'INR' }})</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-size:8px\">Value ({{ 'INR' }})</td>\n    </tr>\n\n    {% for i in doc.approval_for_stock_change_request %}\n    \n    {# ---------------- Difference Calculation ---------------- #}\n    {% set erp = i.erp_stock or 0 %}\n    {% set phy = i.phy_stock or 0 %}\n    {% set diff = phy - erp %}\n\n    {% if diff < 0 %}\n        {% set arrow = \"↓\" %}\n        {% set arrow_color = \"red\" %}\n        {% set total_shortage = total_shortage + (i.value or 0) %}\n    {% elif diff > 0 %}\n        {% set arrow = \"↑\" %}\n        {% set arrow_color = \"green\" %}\n       {% set total_excess = total_excess + (i.value or 0) %}\n    {% else %}\n        {% set arrow = \"\" %}\n        {% set arrow_color = \"black\" %}\n    {% endif %}\n\n    {# ---------------- Value Arrow Based on Difference ---------------- #}\n    {% if diff < 0 %}\n        {% set value_arrow = \"↓\" %}\n        {% set value_arrow_color = \"red\" %}\n    {% elif diff > 0 %}\n        {% set value_arrow = \"↑\" %}\n        {% set value_arrow_color = \"green\" %}\n    {% else %}\n        {% set value_arrow = \"\" %}\n        {% set value_arrow_color = \"black\" %}\n    {% endif %}\n\n    <tr>\n        <td style=\"font-size:8px\">{{ loop.index }}</td>\n        <td style=\"text-align:left;white-space:nowrap;font-size:8px\">{{ i.item_code }}</td>\n        <td style=\"text-align:left;font-size:8px\">{{ i.item_name }}</td>\n        <td style=\"text-align:left;white-space:nowrap;font-size:8px\">{{ i.warehouse }}</td>\n        <td style=\"text-align:center;white-space:nowrap;font-size:8px\">{{i.uom or ''}}</td>\n        <td style=\"text-align:center;white-space:nowrap;font-size:8px\">{{ erp }}</td>\n        <td style=\"text-align:center;white-space:nowrap;font-size:8px\">{{ phy }}</td>\n\n       <td style=\"text-align:center;font-size:8px\">\n            {{ \"{:.4f}\".format(diff|float) }}\n            <span style=\"color:{{ arrow_color }}; font-weight:bold;\">{{ arrow }}</span>\n        </td>\n\n        <td style=\"text-align:right;white-space:nowrap;font-size:8px\">\n            {{ frappe.utils.fmt_money(i.rate or 0, currency=\"INR\",precision=4) }}\n        </td>\n\n        <td style=\"text-align:right;white-space:nowrap;font-size:8px\">\n            {{ frappe.utils.fmt_money(i.value or 0, currency=\"INR\", precision=0) }}\n            <span style=\"color:{{ value_arrow_color }}; font-weight:bold;\">{{ value_arrow }}</span>\n        </td>\n    </tr>\n    \n    {% endfor %}\n    {# ---------------- Summary Rows ---------------- #}\n<tr><td colspan=\"10\" style=\"border:none; border-right:hidden;border-bottom:hidden;border-left:hidden;height:10px;\"></td></tr>\n\n   <tr>\n    <td colspan=\"7\" style=\"text-align:right;font-weight:bold;border-right:hidden;border-bottom:hidden;border-left:hidden;margin-top:20px;\">\n        Total Shortage Value\n    </td>\n    <td colspan=\"3\" style=\"text-align:right;font-weight:bold;border-right:hidden;border-bottom:hidden;border-left:hidden;margin-top:20px;\">\n        {{ frappe.utils.fmt_money(abs(doc.total_shortage_value or 0), currency=\"INR\", precision=0) }}\n        \n        <span style=\"color:red;font-weight:bold;\">↓</span>\n    </td>\n</tr>\n\n\n    <tr>\n        <td colspan=\"7\" style=\"text-align:right;font-weight:bold;border-right:hidden;border-bottom:hidden;border-left:hidden;margin-top:20px;\">\n            Total Excess Value\n        </td>\n        <td colspan=\"3\" style=\"text-align:right;font-weight:bold;border-right:hidden;border-bottom:hidden;border-left:hidden;margin-top:20px;\">\n            {{ frappe.utils.fmt_money(doc.total_excess_value or 0, currency=\"INR\", precision=0) }}\n                <span style=\"color:green;font-weight:bold;\">↑</span>\n        </td>\n    </tr>\n\n</table>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Remarks</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.subject or 'NA' }}</span>\n</div>\n<div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n<div class=\"fixed-footer\">\n        <br>\n        {% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n    <table>\n   <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">ERP Team</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Material Manager</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Plant Head</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">GM</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">BMD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">CMD</td>\n</tr>\n\n\n\n    <tr style=\"height: 80px;\">\n        {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n       {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\n       {% set design_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.design_manager}, \"custom_digital_signature\") %}\n       {% set erp_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.erp_team}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.plant_head}, \"custom_digital_signature\") %}\n        {% set material_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.material_manager}, \"custom_digital_signature\") %}\n         {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\": 'BMD01'}, \"custom_digital_signature\")%}\n    {% set cmd_signature = frappe.db.get_value(\"Employee\", {\"name\": \"CMD01\"}, \"custom_digital_signature\")%}\n       {% set marketing_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.marketing_manager}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.finance}, \"custom_digital_signature\") %}\n       {% set gm_signature = frappe.db.get_value(\"Employee\", {\"name\":\"KR002\"}, \"custom_digital_signature\") %}\n       <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if prepared_signature %}\n        <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n     {% if doc.date_time %}\n        {% set formatted_date = frappe.utils.formatdate(doc.date_time, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.date_time, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n        <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if hod_signature %}\n        <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.hod_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.hod_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.hod_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if erp_signature %}\n        <img src=\"{{ erp_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.erp_team_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.erp_team_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.erp_team_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if material_signature %}\n        <img src=\"{{ material_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.material_manager_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.material_manager_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.material_manager_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if plant_signature %}\n        <img src=\"{{ plant_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.plant_head_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.plant_head_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.plant_head_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if gm_signature %}\n        <img src=\"{{ gm_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.gm_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.gm_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.gm_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if bmd_signature %}\n        <img src=\"{{ bmd_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.bmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.bmd_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.bmd_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if cmd_signature %}\n        <img src=\"{{ cmd_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.cmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.cmd_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.cmd_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n</div>\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 18:02:55.505816",
  "module": "ONEGENE",
  "name": "Approval for Stock Change Request",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n@page {\n    size: A4;\n    margin: 5mm 5mm 5mm 5mm; /* top right bottom left */\n}\n\n.page-wrapper {\n    border: 2px solid black;\n    padding: 2mm;\n    box-sizing: border-box;\n    min-height: 265mm; /* full page height */\n    max-width:200mm;\n    margin-top:0mm;\n    \n}\n.content {\n    margin-bottom: 50mm; /* leave space for repeated footer */\n        width: 100%;\n\n}\n.fixed-footer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    padding: 2mm 5mm;\n    box-sizing: border-box;\n    border-top:none;\n    font-size: 10px;\n}\n\n.footer {\n    display: block;\n    position: running(footer); /* makes it a repeated element on every page */\n}\n/* tables inside footer */\n.fixed-footer table {\n    width: 100%;\n    border-collapse: collapse;\n}\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n            page-break-inside: avoid;\n\n    }\n    td, th {\n        border: 1px solid black;\n    }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n        width: 100%;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<div class=\"page-wrapper\">\n    <div class=\"content\">\n\n<table>\n    <tr>\n        <td style=\"width: 15%;text-align:center;border-right:none;border-bottom:none;border-bottom:bold\">\n            <div style=\"padding-top:8px;\">\n                <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\n            </div>\n        </td>\n        <td style=\"width:30%;font-size:20px;text-align:center;border-right:none;border-bottom:none;padding-top:13px\" nowrap>\n            <div class=\"header-title\" style=\"padding-top:10px\">INTER OFFICE MEMO (I O M)</div>         </td>\n        <td style=\"width:15%;white-space:nowrap;border-bottom:none;font-weight:bold;\">\n    <div style=\"padding-top:13px;border-bottom:none;\">\n        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\n            ✔\n        </span>\n        {{ doc.priority }}\n    </div>\n</td>\n\n\n\n    </tr>\n</table>\n\n{% set emp_name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n\n<table style=\"width:100%; border-collapse: collapse; margin-top:-16px;\">\n    <tr>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;\">\n           <p style=\"line-height:1\">\n    <span style=\"display:inline-block; width:80px;\">Dept.From </span>:&nbsp;{{ doc.department_from or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Dept.To</span>:&nbsp; {{ doc.department_to or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Created By</span>: &nbsp;{{emp_name or '' }}<br><br>\n   \n</p>\n\n       </td>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;\">\n           <p style=\"line-height:1\">\n            <span style=\"display:inline-block; width:80px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Doc.No</span>: {{ doc.name }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Instructed By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\n\n       </p></td>\n   </tr>\n    \n</table>\n<table style=\"margin-top:-30px; width: 100%;\">\n    <tr>\n        <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\n            SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;\n            <span style=\"display: inline-block; width: 60%; text-align: center;\">\n                {{ doc.iom_type or 'NA' }}\n            </span>\n        </td>\n    </tr>\n</table>\n\n\n{% set label_width = \"135px\" %} <!-- adjust as needed -->\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;text-decoration: underline;\">Details</span>\n</div>\n<div style=\"margin-bottom: 4px;padding-top:10px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">As Per Manpower Plan</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.as_per_manpower_plan or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;padding-top:10px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Manpower Actual</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.manpower_actual or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;padding-top:10px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">No of Vacant</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.no_of_vacant or 'NA' }}</span>\n</div>\n<br>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;text-decoration: underline;\">Period</span>\n</div>\n<table style=\"width: 100%; margin-bottom: 4px; border-collapse: collapse;padding-top:10px;margin-right:0px;\">\n    <tr>\n        <!-- From Date -->\n        <td style=\"width:33%;padding-left:0 !important; text-align:left;border-top:hidden;border-bottom:hidden;border-right:hidden;border-left:hidden;padding:0;\">\n            <span style=\"font-weight:bold;\">From Date</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n            <span>:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {{ frappe.utils.formatdate(doc.from_date, \"dd-MM-yyyy\") if doc.from_date else 'NA' }}</span>\n        </td>\n\n        <!-- To Date -->\n        <td style=\"width:33%; text-align:center;border-top:hidden;border-bottom:hidden;border-right:hidden;border-left:hidden\">\n            <span style=\"font-weight:bold;\">To Date</span>\n            <span>: {{ frappe.utils.formatdate(doc.to_date, \"dd-MM-yyyy\") if doc.to_date else 'NA' }}</span>\n        </td>\n\n        <!-- No of Days -->\n        <td style=\"width:33%; text-align:left;border-top:hidden;border-bottom:hidden;border-right:hidden;border-left:hidden;margin-right:20%;\">\n            <span style=\"font-weight:bold;\">No of Days</span>\n            <span>: {{ doc.no_of_days or 'NA' }}</span>\n        </td>\n    </tr>\n</table>\n\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Reason/Purpose</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.subject or 'NA' }}</span>\n</div>\n<br>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:190px;font-weight:bold;text-decoration: underline;white-space: nowrap;\">\n        Employee Requirement Details\n    </span>\n</div>\n{% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table>\n  <tr>\n        <td style=\"background-color:#fec76f; text-align:center; width:50px;\">S.No</td>\n        <td style=\"background-color:#fec76f; text-align:center; width:150px;\">Qualification</td>\n        <td style=\"background-color:#fec76f; text-align:center; width:150px;\">Type of Manpower</td>\n        <td style=\"background-color:#fec76f; text-align:center; width:150px;\">Skilled / Unskilled</td>\n        <td style=\"background-color:#fec76f; text-align:center; width:70px;\">No. of Employee</td>\n        <td style=\"background-color:#fec76f; text-align:center; width:300px;\">Work Details</td>\n    </tr>\n\n    {% for i in doc.approval_for_manpower_request %}\n    <tr>\n\n        <td style=\"width:50px; text-align:center;\">{{ loop.index }}</td>\n        <td style=\"width:150px; text-align:left; white-space:nowrap;\">{{ i.qualification or '' }}</td>\n        <td style=\"width:150px; text-align:left; white-space:nowrap;\">{{ i.type_of_manpower or '' }}</td>\n        <td style=\"width:150px; text-align:left; white-space:nowrap;\">{{ i.skilled_unskilled or '' }}</td>\n        <td style=\"width:70px; text-align:center; white-space:nowrap;\">{{ i.no_of_employee }}</td>\n        <td style=\"width:300px; text-align:left;\">{{ i.work_details }}</td>\n\n    </tr>\n    {%endfor%}\n    \n\n\n    </table>\n\n<table style=\"width: 100%; border-collapse: collapse; margin-top:10px;\">\n    <tr>\n        <!-- Label -->\n        <td style=\"width: 30%; font-weight:bold; border:hidden;\">\n            Total Manpower Requested :\n        </td>\n\n        <!-- Temporary -->\n        <td style=\"width: 35%; text-align:left; border:hidden;\">\n            <span style=\"display:inline-block; \n                         width:30px; \n                         height:20px; \n                         border:1px solid #7a7a7a; \n                         text-align:center; \n                         line-height:20px;\n                         background-color: #f0f4ff; \n                         font-weight:bold;\">\n                {{ doc.temporary_employees or 0 }}\n            </span>\n            <span>Temporary</span>\n        </td>\n\n        <!-- Regular -->\n        <td style=\"width: 35%; text-align:left; border:hidden;\">\n            <span style=\"display:inline-block; \n                         width:30px; \n                         height:20px; \n                         border:1px solid #7a7a7a; \n                         text-align:center; \n                         line-height:20px;\n                         background-color: #f0f4ff; \n                         font-weight:bold;\">\n                {{ doc.regular_employees or 0 }}\n            </span>\n            <span>Regular</span>\n        </td>\n    </tr>\n</table>\n\n<div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n\n<div class=\"fixed-footer\">\n        <br>\n        {% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n    <table>\n  <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">HR</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Plant Head</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">BMD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">CMD</td>\n</tr>\n\n\n\n    <tr style=\"height: 80px;\">\n        {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n       {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\n       {% set design_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.design_manager}, \"custom_digital_signature\") %}\n       {% set hr_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.hr}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"name\":'S0004'}, \"custom_digital_signature\") %}\n        {% set material_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.material_manager}, \"custom_digital_signature\") %}\n         {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\": 'BMD01'}, \"custom_digital_signature\")%}\n    {% set cmd_signature = frappe.db.get_value(\"Employee\", {\"name\": \"CMD01\"}, \"custom_digital_signature\")%}\n       {% set marketing_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.marketing_manager}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.finance}, \"custom_digital_signature\") %}\n       {% set gm_signature = frappe.db.get_value(\"Employee\", {\"name\":\"KR002\"}, \"custom_digital_signature\") %}\n       <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if prepared_signature %}\n        <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n     {% if doc.date_time %}\n        {% set formatted_date = frappe.utils.formatdate(doc.date_time, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.date_time, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n        <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if hod_signature %}\n        <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.hod_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.hod_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.hod_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if hr_signature %}\n        <img src=\"{{ hr_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.hr_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.hr_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.hr_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if plant_signature %}\n        <img src=\"{{ plant_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.plant_head_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.plant_head_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.plant_head_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n\n\n\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if bmd_signature %}\n        <img src=\"{{ bmd_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.bmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.bmd_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.bmd_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if cmd_signature %}\n        <img src=\"{{ cmd_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.cmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.cmd_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.cmd_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n</div>\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 17:59:54.792339",
  "module": "ONEGENE",
  "name": "Approval for Manpower Request",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n@page {\n    size: A4;\n    margin: 5mm 5mm 5mm 5mm; /* top right bottom left */\n}\n\n.page-wrapper {\n    border: 2px solid black;\n    padding: 2mm;\n    box-sizing: border-box;\n    min-height: 265mm; /* full page height */\n    max-width:200mm;\n    margin-top:0mm;\n    \n}\n.content {\n    margin-bottom: 50mm; /* leave space for repeated footer */\n        width: 100%;\n\n}\n.fixed-footer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    padding: 2mm 5mm;\n    box-sizing: border-box;\n    border-top:none;\n    font-size: 10px;\n}\n\n.footer {\n    display: block;\n    position: running(footer); /* makes it a repeated element on every page */\n}\n/* tables inside footer */\n.fixed-footer table {\n    width: 100%;\n    border-collapse: collapse;\n}\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n            page-break-inside: avoid;\n\n    }\n    td, th {\n        border: 1px solid black;\n    }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n        width: 100%;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<div class=\"page-wrapper\">\n    <div class=\"content\">\n\n<table>\n    <tr>\n        <td style=\"width: 15%;text-align:center;border-right:none;border-bottom:none;border-bottom:bold\">\n            <div style=\"padding-top:8px;\">\n                <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\n            </div>\n        </td>\n        <td style=\"width:30%;font-size:20px;text-align:center;border-right:none;border-bottom:none;padding-top:13px\" nowrap>\n            <div class=\"header-title\" style=\"padding-top:10px\">INTER OFFICE MEMO (I O M)</div>         </td>\n        <td style=\"width:15%;white-space:nowrap;border-bottom:none;font-weight:bold;\">\n    <div style=\"padding-top:13px;border-bottom:none;\">\n        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\n            ✔\n        </span>\n        {{ doc.priority }}\n    </div>\n</td>\n\n\n\n    </tr>\n</table>\n\n{% set emp_name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n\n<table style=\"width:100%; border-collapse: collapse; margin-top:-16px;\">\n    <tr>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;\">\n           <p style=\"line-height:1\">\n    <span style=\"display:inline-block; width:80px;\">Dept.From </span>:&nbsp;{{ doc.department_from or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Dept.To</span>:&nbsp; {{ doc.department_to or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Created By</span>: &nbsp;{{emp_name or '' }}<br><br>\n   \n</p>\n\n       </td>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;\">\n           <p style=\"line-height:1\">\n            <span style=\"display:inline-block; width:80px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Doc.No</span>: {{ doc.name }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Instructed By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\n\n       </p></td>\n   </tr>\n    \n</table>\n<table style=\"margin-top:-30px; width: 100%;\">\n    <tr>\n        <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\n            SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;\n            <span style=\"display: inline-block; width: 60%; text-align: center;\">\n                {{ doc.iom_type or 'NA' }}\n            </span>\n        </td>\n    </tr>\n</table>\n\n\n{% set label_width = \"135px\" %} <!-- adjust as needed -->\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Travel Type</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.travel_type or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer Name</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.new_customer or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Place to Visit</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.place_to_visit or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Purpose of Visit</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.purpose_of_visit or 'NA' }}</span>\n</div>\n<br>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;text-decoration: underline;\">Travel Itinerary:</span>\n</div>\n\n<table style=\"width:100%; border-collapse:collapse; margin-top:5px;\">\n    <thead>\n        <tr>\n            <th style=\"background-color:#fec76f !important; padding:6px; text-align:center;\">S.No</th>\n            <th style=\"background-color:#fec76f !important; padding:6px; text-align:center;\">Travel From</th>\n            <th style=\"background-color:#fec76f !important; padding:6px; text-align:center;\">Travel To</th>\n            <th style=\"background-color:#fec76f !important; padding:6px; text-align:center;\">Mode of Travel</th>\n            <th style=\"background-color:#fec76f !important; padding:6px; text-align:center;\">Departure Date</th>\n            <th style=\"background-color:#fec76f !important; padding:6px; text-align:center;\">Arrival Date</th>\n            <th style=\"background-color:#fec76f !important; padding:6px; text-align:center;\">No of Days</th>\n        </tr>\n    </thead>\n\n    <tbody>\n        {% for i in doc.travel_itinerary %}\n        <tr>\n            <td style=\"padding:6px; text-align:center;\">{{ loop.index }}</td>\n            <td style=\"padding:6px; text-align:center;\">{{ i.travel_from or '' }}</td>\n            <td style=\"padding:6px; text-align:center;\">{{ i.travel_to or '' }}</td>\n            <td style=\"padding:6px; text-align:center;\">{{ i.mode_of_travel or '' }}</td>\n            <td style=\"padding:6px; text-align:center;\">{{ frappe.utils.format_date(i.departure_date, \"dd-MM-yyyy\") }}</td>\n            <td style=\"padding:6px; text-align:center;\">{{ frappe.utils.format_date(i.arrival_date, \"dd-MM-yyyy\") }}</td>\n            <td style=\"padding:6px; text-align:center;\">{{ i.no_of_days }}</td>\n        </tr>\n        {% endfor %}\n    </tbody>\n</table>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:200px;font-weight:bold;text-decoration: underline;white-space:nowrap\">List of Employees for Business Visit:</span>\n</div>\n\n<table style=\"width:100%; border-collapse:collapse; margin-top:5px;\">\n    <thead>\n        <tr>\n            <th style=\"background-color:#fec76f !important; padding:6px; text-align:center;\">S.No</th>\n            <th style=\"background-color:#fec76f !important; padding:6px; text-align:center;\">Employee Code</th>\n            <th style=\"background-color:#fec76f !important; padding:6px; text-align:center;\">Employee Name</th>\n            <th style=\"background-color:#fec76f !important; padding:6px; text-align:center;\">Department</th>\n            <th style=\"background-color:#fec76f !important; padding:6px; text-align:center;\">Designation</th>\n            <th style=\"background-color:#fec76f !important; padding:6px; text-align:center;\">Contact Number</th>\n            <th style=\"background-color:#fec76f !important; padding:6px; text-align:center;\">VISA Process</th>\n        </tr>\n    </thead>\n\n    <tbody>\n        {% for i in doc.list_of_employees_for_business_visit %}\n        <tr>\n            <td style=\"padding:6px; text-align:center;\">{{ loop.index }}</td>\n            <td style=\"padding:6px; text-align:left;\">{{ i.employee_code or '' }}</td>\n            <td style=\"padding:6px; text-align:left;\">{{ i.employee_name or '' }}</td>\n            <td style=\"padding:6px; text-align:left;\">{{ i.department or '' }}</td>\n            <td style=\"padding:6px; text-align:left;\">{{ i.designation or '' }}</td>\n            <td style=\"padding:6px; text-align:center;\">{{ i.contact_number or '' }}</td>\n            <td style=\"padding:6px; text-align:center;\">{{ i.visa_process }}</td>\n        </tr>\n        {% endfor %}\n    </tbody>\n</table>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;text-decoration: underline;\">Visit Schedule:</span>\n</div>\n\n<table style=\"width:100%; border-collapse:collapse; margin-top:5px;\">\n    <thead>\n        <tr>\n            <th style=\"background-color:#fec76f !important; padding:6px; text-align:center;\">S.No</th>\n            <th style=\"background-color:#fec76f !important; padding:6px; text-align:center;\">Customer Place to Visit</th>\n            <th style=\"background-color:#fec76f !important; padding:6px; text-align:center;\">Whom to Meet</th>\n            <th style=\"background-color:#fec76f !important; padding:6px; text-align:center;\">Date</th>\n            <th style=\"background-color:#fec76f !important; padding:6px; text-align:center;\">Activity</th>\n            <th style=\"background-color:#fec76f !important; padding:6px; text-align:center;\">Days</th>\n        </tr>\n    </thead>\n\n    <tbody>\n        {% for i in doc.visit_schedule %}\n        <tr>\n            <td style=\"padding:6px; text-align:center;\">{{ loop.index }}</td>\n            <td style=\"padding:6px; text-align:left;\">{{ i.customer_place_to_visit or '' }}</td>\n            <td style=\"padding:6px; text-align:left;\">{{ i.whom_to_meet or '' }}</td>\n            <td style=\"padding:6px; text-align:center;\">{{ frappe.utils.format_date(i.date, \"dd-MM-yyyy\") }}</td>\n            <td style=\"padding:6px; text-align:left;\">{{ i.activity or '' }}</td>\n            <td style=\"padding:6px; text-align:center;\">{{ i.days or '' }}</td>\n        </tr>\n        {% endfor %}\n    </tbody>\n</table>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;text-decoration: underline;\">Costing Details:</span>\n</div>\n\n<table style=\"width:100%; border-collapse:collapse; margin-top:5px;\">\n    <thead>\n        <tr>\n            <th style=\"background-color:#fec76f !important; padding:6px; text-align:center;\">S.No</th>\n            <th style=\"background-color:#fec76f !important; padding:6px; text-align:center;\">Type</th>\n            <th style=\"background-color:#fec76f !important; padding:6px; text-align:center;\">Currency</th>\n            <th style=\"background-color:#fec76f !important; padding:6px; text-align:center;\">Sponsored Amount</th>\n            <th style=\"background-color:#fec76f !important; padding:6px; text-align:center;\">Funded Amount</th>\n        </tr>\n    </thead>\n\n    <tbody>\n        {% for i in doc.costing_details %}\n        <tr>\n            <td style=\"padding:6px; text-align:center;\">{{ loop.index }}</td>\n            <td style=\"padding:6px; text-align:left;\">{{ i.type or '' }}</td>\n            <td style=\"padding:6px; text-align:center;\">{{ i.currency or '' }}</td>\n            <td style=\"padding:6px; text-align:right;\">{{ frappe.utils.fmt_money(i.sponsored_amount, 2, currency=i.currency) }}</td>\n            <td style=\"padding:6px; text-align:right;\">{{ frappe.utils.fmt_money(i.funded_amount, 2, currency=i.currency) }}</td>\n        </tr>\n        {% endfor %}\n\n        <tr>\n            <td colspan=\"3\" style=\"padding:6px; text-align:center; font-weight:bold;background-color: #f0f4ff\">Total Amount</td>\n            <td style=\"padding:6px; text-align:right; font-weight:bold;background-color: #f0f4ff\">{{ frappe.utils.fmt_money(doc.total_sponsored_amount, 2) }}</td>\n            <td style=\"padding:6px; text-align:right; font-weight:bold;background-color: #f0f4ff\">{{ frappe.utils.fmt_money(doc.total_funded_amount, 2) }}</td>\n        </tr>\n    </tbody>\n</table>\n\n<table style=\"width: 100%; margin-bottom: 4px; border-collapse: collapse;margin-right:0px;\">\n    <tr>\n        <td style=\"width:15%;padding-left:0 !important; text-align:left;border-top:hidden;border-bottom:hidden;border-right:hidden;border-left:hidden;padding:0;\">\n            <span>Currency</span>&nbsp;\n            <span style=\"font-weight:bold;\">:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {{doc.travel_currency or 'NA'}}</span>\n        </td>\n\n        <td style=\"width:38%; text-align:center;border-top:hidden;;border-bottom:hidden;border-right:hidden;border-left:hidden\">\n            <span>Estimated Travel Expenses</span>\n            <span style=\"font-weight:bold;\">: {{ frappe.utils.fmt_money(doc.estimated_travel_expenses, 2, currency=\"INR\") }}</span>\n        </td>\n\n        <td style=\"width:33%; text-align:left;border-top:hidden;border-bottom:hidden;;border-right:hidden;border-left:hidden;margin-right:20%;\">\n            <span>Advance Amount</span>\n            <span style=\"font-weight:bold;\">: {{ frappe.utils.fmt_money(doc.advance_amount, 2, currency=\"INR\") }}</span>\n        </td>\n    </tr>\n</table>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:90px;font-weight:bold;\">Remarks</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.subject or 'NA' }}</span>\n</div>\n<div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n\n<div class=\"fixed-footer\">\n        {% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n    <table>\n  <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">GM</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Finance</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">BMD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">CMD</td>\n</tr>\n\n\n\n    <tr style=\"height: 60px;\">\n        {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n       {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\n       {% set design_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.design_manager}, \"custom_digital_signature\") %}\n       {% set hr_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.hr}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"name\":'S0004'}, \"custom_digital_signature\") %}\n        {% set material_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.material_manager}, \"custom_digital_signature\") %}\n         {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\": 'BMD01'}, \"custom_digital_signature\")%}\n    {% set cmd_signature = frappe.db.get_value(\"Employee\", {\"name\": \"CMD01\"}, \"custom_digital_signature\")%}\n       {% set marketing_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.marketing_manager}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.finance}, \"custom_digital_signature\") %}\n       {% set gm_signature = frappe.db.get_value(\"Employee\", {\"name\":\"KR002\"}, \"custom_digital_signature\") %}\n       <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if prepared_signature %}\n        <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n     {% if doc.date_time %}\n        {% set formatted_date = frappe.utils.formatdate(doc.date_time, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.date_time, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n        <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if hod_signature %}\n        <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.hod_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.hod_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.hod_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if gm_signature %}\n        <img src=\"{{ gm_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.gm_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.gm_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.gm_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if finance_signature %}\n        <img src=\"{{ finance_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.finance_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.finance_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.finance_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n\n\n\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if bmd_signature %}\n        <img src=\"{{ bmd_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.bmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.bmd_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.bmd_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if cmd_signature %}\n        <img src=\"{{ cmd_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.cmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.cmd_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.cmd_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n</div>\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 18:00:27.896624",
  "module": "ONEGENE",
  "name": "Approval for Business Visit",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n@page {\n    size: A4;\n    margin: 5mm 5mm 5mm 5mm; /* top right bottom left */\n}\n\n.page-wrapper {\n    border: 2px solid black;\n    padding: 2mm;\n    box-sizing: border-box;\n    min-height: 265mm; /* full page height */\n    max-width:200mm;\n    margin-top:0mm;\n    \n}\n.content {\n    margin-bottom: 50mm; /* leave space for repeated footer */\n        width: 100%;\n\n}\n.fixed-footer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    padding: 2mm 5mm;\n    box-sizing: border-box;\n    border-top:none;\n    font-size: 10px;\n}\n\n.footer {\n    display: block;\n    position: running(footer); /* makes it a repeated element on every page */\n}\n/* tables inside footer */\n.fixed-footer table {\n    width: 100%;\n    border-collapse: collapse;\n}\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n            page-break-inside: avoid;\n\n    }\n    td, th {\n        border: 1px solid black;\n    }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n        width: 100%;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<div class=\"page-wrapper\">\n    <div class=\"content\">\n\n<table>\n    <tr>\n        <td style=\"width: 15%;text-align:center;border-right:none;border-bottom:none;border-bottom:bold\">\n            <div style=\"padding-top:8px;\">\n                <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\n            </div>\n        </td>\n        <td style=\"width:30%;font-size:20px;text-align:center;border-right:none;border-bottom:none;padding-top:13px\" nowrap>\n            <div class=\"header-title\" style=\"padding-top:10px\">INTER OFFICE MEMO (I O M)</div>         </td>\n        <td style=\"width:15%;white-space:nowrap;border-bottom:none;font-weight:bold;\">\n    <div style=\"padding-top:13px;border-bottom:none;\">\n        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\n            ✔\n        </span>\n        {{ doc.priority }}\n    </div>\n</td>\n\n\n\n    </tr>\n</table>\n{% set emp_name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table style=\"width:100%; border-collapse: collapse; margin-top:-16px;\">\n    <tr>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;\">\n           <p style=\"line-height:1\">\n    <span style=\"display:inline-block; width:80px;\">Dept.From </span>:&nbsp;{{ doc.department_from or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Dept.To</span>:&nbsp; {{ doc.department_to or '' }}<br><br>\n        <span style=\"display:inline-block; width:80px;\">Created By</span>: &nbsp;{{emp_name or '' }}<br><br>\n   \n</p>\n\n       </td>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;\">\n           <p style=\"line-height:1\">\n            <span style=\"display:inline-block; width:80px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Doc.No</span>: {{ doc.name }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Instructed By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\n       </p></td>\n   </tr>\n    \n</table>\n<table style=\"margin-top:-30px; width: 100%;\">\n    <tr>\n        <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\n            SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;\n            <span style=\"display: inline-block; width: 60%; text-align: center;\">\n                {{ doc.iom_type or 'NA' }}\n            </span>\n        </td>\n    </tr>\n</table>\n\n{% set label_width = \"130px\" %} <!-- adjust as needed -->\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier Group</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.supplier_group or 'NA' }}</span>\n</div>\n{% set supplier_name=frappe.db.get_value(\"Supplier\",{\"name\":doc.supplier},\"supplier_name\") %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier Name</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{supplier_name or 'NA' }}</span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Currency</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.currency or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">PO No & PO Date</span>\n    <span>\n        :&nbsp;&nbsp;&nbsp;&nbsp;\n        {% if doc.price_revision_jo and doc.price_revision_jo[0] %}\n            {{ \n                doc.price_revision_jo[0].po_no \n                if doc.price_revision_jo[0].po_no \n                else 'NA'\n            }}\n            &nbsp;/&nbsp;\n            {{ frappe.utils.formatdate(doc.price_revision_jo[0].date, \"dd-MM-yyyy\") if doc.price_revision_jo[0].date else 'NA' }}\n        {% else %}\n            NA / NA\n        {% endif %}\n    </span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">HSN Code</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.price_revision_jo[0].hsn_code if doc.price_revision_jo and doc.price_revision_jo[0].hsn_code else 'NA' }}</span>\n</div>\n\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Reason For Update</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.price_revision_jo[0].reason_for_request if doc.price_revision_jo and doc.price_revision_jo[0].reason_for_request else 'NA' }}</span>\n</div>\n\n<br>\n{% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table>\n    <tr>\n        <td style=\"background-color:#fec76f;text-align:center;\">S.No</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Item Code</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Item Name</td>\n         <td style=\"background-color:#fec76f;text-align:center;\">UOM</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Operation</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Current Price ({{doc.currency or ''}})</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Revised Price({{doc.currency or ''}})</td>\n        <td style=\"background-color:#fec76f;text-align:center;\">Diff({{doc.currency or ''}})</td>\n\n        </tr>\n    {% for i in doc.price_revision_jo%}\n    <tr>\n        <td>{{loop.index}}</td>\n        <td style=\"text-align:left;white-space:nowrap;\">{{i.part_no or ''}}</td>\n        <td style=\"text-align:left;\">{{i.part_name or ''}}</td>\n        <td style=\"text-align:center;white-space:nowrap;\">{{i.uom or ''}}</td>\n        <td style=\"text-align:left;\">{{i.operation_data or ''}}</td>\n        <td style=\"text-align:right;white-space:nowrap;\">{{frappe.utils.fmt_money(i.po_price or 0 , currency=doc.currency)}}</td>\n        <td style=\"text-align:right;white-space:nowrap;\">{{frappe.utils.fmt_money(i.new_price or 0 , currency=doc.currency)}}</td>\n        <td style=\"text-align:right;white-space:nowrap;\">{{frappe.utils.fmt_money(i.increase_price or 0 , currency=doc.currency)}}</td>\n\n    </tr>\n    {%endfor%}\n    </table>\n<br>\n    <div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:50%;font-weight:bold;\">TERMS & CONDITIONS</span>\n</div><br>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Payment Terms</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.payment_terms or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Incoterms</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.wonjin_incoterms or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Duties and Taxes</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.duties_and_taxes or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Freight</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.freight or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Scrap</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.scrap or 'NA' }}</span>\n</div>\n</div>\n<div class=\"fixed-footer\">\n\n        <br>\n        {% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n    <table style=\"width:100%\">\n   <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">ERP Team</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">Marketing HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">Plant Head</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">GM</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">Finance</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">BMD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:8.11%;background-color:#a5a3ac\">CMD</td>\n</tr>\n\n\n    <tr style=\"height: 80px;\">\n    {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n       {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\n       {% set erp_signature = frappe.db.get_value(\"Employee\", {\"name\":\"S0330\"}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"name\":\"S0004\"}, \"custom_digital_signature\") %}\n       {% set gm_signature = frappe.db.get_value(\"Employee\", {\"name\":\"KR002\"}, \"custom_digital_signature\") %}\n       {% set marketing_signature = frappe.db.get_value(\"Employee\", {\"name\":\"S0116\"}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"name\":\"S0189\"}, \"custom_digital_signature\") %}\n        {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"BMD01\"}, \"custom_digital_signature\") %}\n        {% set cmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"CMD01\"}, \"custom_digital_signature\") %}\n         {% set erp_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.erp_team}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.plant_head}, \"custom_digital_signature\") %}\n        {% set material_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.material_manager}, \"custom_digital_signature\") %}\n\n       {% set marketing_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.marketing_manager}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.finance}, \"custom_digital_signature\") %}\n\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if prepared_signature %}\n        <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\n          {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n     {% if doc.date_time %}\n        {% set formatted_date = frappe.utils.formatdate(doc.date_time, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.date_time, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if hod_signature %}\n        <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.hod_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.hod_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.hod_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if erp_signature %}\n        <img src=\"{{ erp_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.erp_team_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.erp_team_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.erp_team_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n<!---->\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if marketing_signature %}\n        <img src=\"{{ marketing_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.marketing_manager_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.marketing_manager_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.marketing_manager_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n\n<!---->\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if plant_signature %}\n        <img src=\"{{ plant_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.plant_head_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.plant_head_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.plant_head_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if gm_signature %}\n        <img src=\"{{ gm_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.gm_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.gm_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.gm_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if finance_signature %}\n        <img src=\"{{ finance_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.finance_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.finance_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.finance_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if bmd_signature %}\n        <img src=\"{{ bmd_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.bmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.bmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.bmd_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n      <td style=\"text-align:center;font-size:13px;\">\n    {% if cmd_signature %}\n        <img src=\"{{ cmd_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.cmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.cmd_approved_on, \"dd-MM-yyyy\") %}\n        {% set formatted_time = frappe.utils.format_datetime(doc.cmd_approved_on, \"HH:mm:ss\") %}\n          <span style=\"font-size:6px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n    {% endif %}\n</td>\n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n</div>\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-11-10 10:55:23.213658",
  "module": "ONEGENE",
  "name": "New Business JO Test",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n@page {\n    size: A4;\n    margin: 5mm 5mm 5mm 5mm; /* top right bottom left */\n}\n\n.page-wrapper {\n    border: 2px solid black;\n    padding: 2mm;\n    box-sizing: border-box;\n    min-height: 265mm; /* full page height */\n    max-width:200mm;\n    margin-top:0mm;\n    \n}\n.content {\n    margin-bottom: 50mm; /* leave space for repeated footer */\n        width: 100%;\n\n}\n.fixed-footer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    padding: 2mm 5mm;\n    box-sizing: border-box;\n    border-top:none;\n    font-size: 10px;\n}\n\n.footer {\n    display: block;\n    position: running(footer); /* makes it a repeated element on every page */\n}\n/* tables inside footer */\n.fixed-footer table {\n    width: 100%;\n    border-collapse: collapse;\n}\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n            page-break-inside: avoid;\n\n    }\n    td, th {\n        border: 1px solid black;\n    }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n        width: 100%;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<div class=\"page-wrapper\">\n    <div class=\"content\">\n\n<table>\n    <tr>\n        <td style=\"width: 15%;text-align:center;border-right:none;border-bottom:none;border-bottom:bold\">\n            <div style=\"padding-top:8px;\">\n                <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\n            </div>\n        </td>\n        <td style=\"width:30%;font-size:20px;text-align:center;border-right:none;border-bottom:none;padding-top:13px\" nowrap>\n            <div class=\"header-title\" style=\"padding-top:10px\">INTER OFFICE MEMO (I O M)</div>         </td>\n        <td style=\"width:15%;white-space:nowrap;border-bottom:none;font-weight:bold;\">\n    <div style=\"padding-top:13px;border-bottom:none;\">\n        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\n            ✔\n        </span>\n        {{ doc.priority }}\n    </div>\n</td>\n\n\n\n    </tr>\n</table>\n{% set emp_name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table style=\"width:100%; border-collapse: collapse; margin-top:-16px;\">\n    <tr>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;\">\n           <p style=\"line-height:1\">\n    <span style=\"display:inline-block; width:80px;\">Dept.From </span>:&nbsp;{{ doc.department_from or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Dept.To</span>:&nbsp; {{ doc.department_to or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Created By</span>: &nbsp;{{emp_name or '' }}<br><br>\n    \n   \n</p>\n\n       </td>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;\">\n           <p style=\"line-height:1\">\n            <span style=\"display:inline-block; width:80px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Doc.No</span>: {{ doc.name }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Instructed By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\n       </p></td>\n   </tr>\n    \n</table>\n<table style=\"margin-top:-30px; width: 100%;\">\n    <tr>\n        <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\n            SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;\n            <span style=\"display: inline-block; width: 60%; text-align: center;\">\n                {{ doc.iom_type or 'NA' }}\n            </span>\n        </td>\n    </tr>\n</table>\n{% set label_width = \"130px\" %} <!-- adjust as needed -->\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier Group</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.supplier_group or 'NA' }}</span>\n</div>\n    {% set supplier_name=frappe.db.get_value(\"Supplier\",{\"name\":doc.supplier},\"supplier_name\") %}\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier Name</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.supplier_name or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Currency</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.currency or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Quotation No & Date</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{doc.approval_tools_and_dies_invoice[0].quotation_no_new or \"\"}}/&nbsp;{{frappe.format(doc.approval_tools_and_dies_invoice[0].quotation_date,{\"fieldtype\":\"Date\"}) or \"\"  }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">HSN Code</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{doc.approval_tools_and_dies_invoice[0].hsn_code or \"\"}}</span>\n</div>\n{% if doc.supplier_group!=\"Importer\" %}\n   {% set ns = namespace(gst_rates=[]) %}  \n{% if doc.taxes %}\n    {% for t in doc.taxes %}\n        {% if t.rate %}\n            {% set ns.gst_rates = ns.gst_rates + [t.rate|string + '%'] %}\n        {% endif %}\n    {% endfor %}\n    <div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">GST Rate</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ ns.gst_rates | join(' + ') or '' }}</span>\n</div>\n{% endif %}\n    {% endif %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Reason For Update</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.subject or 'NA' }}</span>\n</div>\n        <br>\n   <table style=\"width:100%;border-collapse:collapse;\" border=\"1\">\n    <tr>\n        <td style=\"background-color:#fec76f; border:1px solid black; text-align:center;\">SI No</td>\n        <td style=\"background-color:#fec76f; border:1px solid black; text-align:center;\">Tool Code</td>\n        <td style=\"background-color:#fec76f; border:1px solid black; text-align:center;\">Tool Name</td>\n        <td style=\"background-color:#fec76f; border:1px solid black; text-align:center;\">Qty</td>\n        <td style=\"background-color:#fec76f; border:1px solid black; text-align:center;\">PO Price</td>\n        <td style=\"background-color:#fec76f; border:1px solid black; text-align:center;\">Cost</td>\n    </tr>\n    {% for i in doc.approval_tools_and_dies_invoice %}\n    <tr>\n        <td style=\"border:1px solid black; text-align:left;\">{{i.idx}}</td>\n        <td style=\"border:1px solid black; text-align:left;\">{{i.part_no or \"\"}}</td>\n        <td style=\"border:1px solid black; text-align:left;\">{{i.part_name or \"\"}}</td>\n        <td style=\"border:1px solid black; text-align:right;\">{{i.qty or \"\"}}</td>\n        <td style=\"border:1px solid black; text-align:right;\">{{frappe.utils.fmt_money(i.quotation_price or 0 , currency=doc.currency)}}</td>\n        <td style=\"border:1px solid black; text-align:right;\">{{frappe.utils.fmt_money(i.tool_cost or 0 , currency=doc.currency)}}</td>\n    </tr>\n    {% endfor %}\n    <tr>\n        <td colspan=\"5\" style=\"border:1px solid black; text-align:center;\" ><b>Total Tool Cost</b></td>\n        <td colspan=\"1\" style=\"border:1px solid black; text-align:right;\">{{frappe.utils.fmt_money(doc.total_tool_cost or 0 , currency=doc.currency)}}</td>\n    </tr>\n</table>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\"><u>TERMS & CONDITIONS</u></span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Payment Terms</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.payment_terms or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Incoterms</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.wonjin_incoterms or 'NA' }}</span>\n</div>\n<div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n</div>\n    <div class=\"fixed-footer\">\n\n{% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n       <table>\n  {% set erp_signature = frappe.db.get_value(\"Employee\", {\"name\":\"S0330\"}, \"custom_digital_signature\") %}\n\n     {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n     {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\n         {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"BMD01\"}, \"custom_digital_signature\") %}\n        {% set cmd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"CMD01\"}, \"custom_digital_signature\") %}\n         {% set smd_signature = frappe.db.get_value(\"Employee\", {\"name\":\"SMD01\"}, \"custom_digital_signature\") %}\n       {% set gm_signature = frappe.db.get_value(\"Employee\", {\"name\":\"KR002\"}, \"custom_digital_signature\") %}\n       {% set erp_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.erp_team}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.plant_head}, \"custom_digital_signature\") %}\n        {% set material_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.material_manager}, \"custom_digital_signature\") %}\n\n       {% set marketing_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.marketing_manager}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.finance}, \"custom_digital_signature\") %}\n    \n    <tr >\n        <td colspan=\"1\" style=\"border:1px solid black; text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac;\">Prepared</td>\n        <td colspan=\"1\" style=\"border:1px solid black; text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac; \">HOD</td>\n        <td colspan=\"1\" style=\"border:1px solid black; text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac; \">ERP Team</td>\n        <td colspan=\"1\" style=\"border:1px solid black; text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac; \">Plant Head</td>\n        <td colspan=\"1\" style=\"border:1px solid black; text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac; \">GM</td>\n        <td colspan=\"1\" style=\"border:1px solid black; text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac; \">Finance</td>\n        <td colspan=\"1\" style=\"border:1px solid black; text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac; \">BMD</td>\n        <td colspan=\"1\" style=\"border:1px solid black; text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac; \">CMD</td>\n    </tr>\n    <tr style=\"height: 50px;\">\n        <td colspan=\"1\" style=\"text-align:center;font-size:15px; border:1px solid black;\">\n             {% if doc.workflow_state==\"Draft\" or doc.workflow_state == \"Pending For HOD\" or doc.workflow_state==\"Pending for BMD\" or doc.workflow_state==\"Pending for Finance\" or doc.workflow_state==\"Pending for GM\" or doc.workflow_state==\"Pending for Plant Head\" or doc.workflow_state==\"Pending for CMD\" or doc.workflow_state == \"Pending for ERP Team\" or doc.workflow_state == \"Approved\"%}\n                {% if prepared_signature %}\n                    <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\n                    {%else%}\n                    <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n                {% endif %}\n                <br>\n                {% if doc.date_time %}\n                {% set formatted_date = frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") %}\n                    <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}</span>\n                {% endif %}\n            {% endif %}    \n                \n        </td>\n        \n        \n        <td colspan=\"1\" style=\"text-align:center;font-size:15px; border:1px solid black;\">\n        \n           {% if doc.workflow_state==\"Pending for BMD\" or doc.workflow_state==\"Pending for Finance\" or doc.workflow_state==\"Pending for GM\" or doc.workflow_state==\"Pending for Plant Head\" or doc.workflow_state==\"Pending for CMD\" or doc.workflow_state == \"Pending for ERP Team\" or doc.workflow_state == \"Approved\"%}\n                        {% if hod_signature %}\n                    <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\n                    {%else%}\n                    <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n                {% endif %}\n                <br>\n                {% if doc.hod_approved_on %}\n                    {% set formatted_date = frappe.utils.formatdate(doc.hod_approved_on, \"dd-MM-yyyy\") %}\n                    {% set formatted_time = frappe.utils.format_datetime(doc.hod_approved_on, \"HH:mm:ss\") %}\n                    <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n                {% endif %}\n            {% endif %}    \n        </td>\n        \n        \n        <td colspan=\"1\" style=\"text-align:center;font-size:15px; border:1px solid black;\">\n            \n           {% if doc.workflow_state == \"Pending for Plant Head\" or doc.workflow_state == \"Pending for GM\" or doc.workflow_state == \"Pending for Finance\" or doc.workflow_state == \"Pending for BMD\" or doc.workflow_state == \"Pending for CMD\" or doc.workflow_state == \"Approved\"%}\n            \n                    {% if erp_signature %}\n                        <img src=\"{{ erp_signature }}\" style=\"height:50px;\">\n                        {%else%}\n                        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n                    {% endif %}\n                    <br>\n                    {% if doc.erp_team_approved_on %}\n                        {% set formatted_date = frappe.utils.formatdate(doc.erp_team_approved_on, \"dd-MM-yyyy\") %}\n                        {% set formatted_time = frappe.utils.format_datetime(doc.erp_team_approved_on, \"HH:mm:ss\") %}\n                        <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n                    {% endif %}\n            \n           {% endif %} \n    \n            \n        </td>\n        \n        \n        <td colspan=\"1\" style=\"text-align:center;font-size:15px; border:1px solid black;\">\n        \n        {% if doc.workflow_state == \"Pending for GM\"  or doc.workflow_state == \"Pending for Finance\" or doc.workflow_state == \"Pending for BMD\" or doc.workflow_state == \"Pending for CMD\" or doc.workflow_state == \"Approved\"%}\n            \n                    {% if plant_signature %}\n                <img src=\"{{ plant_signature }}\" style=\"height:50px;\">\n                {%else%}\n                <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n            {% endif %}\n            <br>\n            {% if doc.plant_head_approved_on %}\n                {% set formatted_date = frappe.utils.formatdate(doc.plant_head_approved_on, \"dd-MM-yyyy\") %}\n                {% set formatted_time = frappe.utils.format_datetime(doc.plant_head_approved_on, \"HH:mm:ss\") %}\n                <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n            {% endif %}\n        {% endif %}    \n            \n        </td>\n        \n        \n        <td colspan=\"1\" style=\"text-align:center;font-size:15px; border:1px solid black;\">\n        {% if doc.workflow_state == \"Pending for Finance\" or doc.workflow_state == \"Pending for BMD\" or doc.workflow_state == \"Pending for CMD\" or doc.workflow_state == \"Approved\"%}\n                    {% if gm_signature %}\n                <img src=\"{{ gm_signature }}\" style=\"height:50px;\">\n                {%else%}\n                <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n            {% endif %}\n            <br>\n            {% if doc.gm_approved_on %}\n                {% set formatted_date = frappe.utils.formatdate(doc.gm_approved_on, \"dd-MM-yyyy\") %}\n                {% set formatted_time = frappe.utils.format_datetime(doc.gm_approved_on, \"HH:mm:ss\") %}\n                <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n            {% endif %}\n        {% endif %}    \n        </td>\n        \n        \n        <td colspan=\"1\" style=\"text-align:center;font-size:15px; border:1px solid black;\">\n        {% if doc.workflow_state == \"Pending for BMD\" or doc.workflow_state == \"Pending for CMD\" or doc.workflow_state == \"Approved\"%}\n                    {% if finance_signature %}\n                <img src=\"{{ finance_signature }}\" style=\"height:50px;\">\n                {%else%}\n                <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n            {% endif %}\n            <br>\n            {% if doc.finance_approved_on %}\n                {% set formatted_date = frappe.utils.formatdate(doc.finance_approved_on, \"dd-MM-yyyy\") %}\n                {% set formatted_time = frappe.utils.format_datetime(doc.finance_approved_on, \"HH:mm:ss\") %}\n                <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n            {% endif %}\n        {% endif %}    \n        </td>\n        \n        \n        <td colspan=\"1\" style=\"text-align:center;font-size:15px; border:1px solid black;\">\n           {% if doc.workflow_state == \"Pending for CMD\" or doc.workflow_state == \"Approved\"%}\n                    {% if bmd_signature %}\n                    <img src=\"{{ bmd_signature }}\" style=\"height:50px;\">\n                    {%else%}\n                    <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n                {% endif %}\n                <br>\n                {% if doc.bmd_approved_on %}\n                    {% set formatted_date = frappe.utils.formatdate(doc.bmd_approved_on, \"dd-MM-yyyy\") %}\n                    {% set formatted_time = frappe.utils.format_datetime(doc.bmd_approved_on, \"HH:mm:ss\") %}\n                    <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n                {% endif %}\n            {% endif %}     \n        </td>\n        \n        \n        <td colspan=\"1\" style=\"text-align:center;font-size:15px; border:1px solid black;\">\n            {% if doc.workflow_state == \"Approved\" %}\n                    {% if cmd_signature %}\n                <img src=\"{{ cmd_signature }}\" style=\"height:50px;\">\n                {%else%}\n                <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n\n            {% endif %}\n            <br>\n            {% if doc.cmd_approved_on %}\n                {% set formatted_date = frappe.utils.formatdate(doc.cmd_approved_on, \"dd-MM-yyyy\") %}\n                {% set formatted_time = frappe.utils.format_datetime(doc.cmd_approved_on, \"HH:mm:ss\") %}\n                <span style=\"font-size:7px; line-height:1;white-space:nowrap\">{{ formatted_date }}&nbsp;{{ formatted_time }}</span>\n            {% endif %}\n           {% endif %} \n        </td>\n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n</div>\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 18:02:26.680621",
  "module": "ONEGENE",
  "name": "Tools and Dies",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n@page {\n    size: A4;\n    margin: 5mm 5mm 5mm 5mm; /* top right bottom left */\n}\n\n.page-wrapper {\n    border: 2px solid black;\n    padding: 2mm;\n    box-sizing: border-box;\n    min-height: 265mm; /* full page height */\n    max-width:200mm;\n    margin-top:0mm;\n    \n}\n.content {\n    margin-bottom: 50mm; /* leave space for repeated footer */\n        width: 100%;\n\n}\n.fixed-footer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    padding: 2mm 5mm;\n    box-sizing: border-box;\n    border-top:none;\n    font-size: 10px;\n}\n\n.footer {\n    display: block;\n    position: running(footer); /* makes it a repeated element on every page */\n}\n/* tables inside footer */\n.fixed-footer table {\n    width: 100%;\n    border-collapse: collapse;\n}\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n            page-break-inside: avoid;\n\n    }\n    td, th {\n        border: 1px solid black;\n    }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n        width: 100%;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<div class=\"page-wrapper\">\n    <div class=\"content\">\n\n<table>\n    <tr>\n        <td style=\"width: 15%;text-align:center;border-right:none;border-bottom:none;border-bottom:bold\">\n            <div style=\"padding-top:8px;\">\n                <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\n            </div>\n        </td>\n        <td style=\"width:30%;font-size:20px;text-align:center;border-right:none;border-bottom:none;padding-top:13px\" nowrap>\n            <div class=\"header-title\" style=\"padding-top:10px\">INTER OFFICE MEMO (I O M)</div>         </td>\n        <td style=\"width:15%;white-space:nowrap;border-bottom:none;font-weight:bold;\">\n    <div style=\"padding-top:13px;border-bottom:none;\">\n        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\n            ✔\n        </span>\n        {{ doc.priority }}\n    </div>\n</td>\n\n\n\n    </tr>\n</table>\n\n{% set emp_name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table style=\"width:100%; border-collapse: collapse; margin-top:-16px;\">\n    <tr>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;\">\n           <p style=\"line-height:1\">\n    <span style=\"display:inline-block; width:80px;\">Dept.From </span>:&nbsp;{{ doc.department_from or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Dept.To</span>:&nbsp; {{ doc.department_to or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Created By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\n   \n</p>\n\n       </td>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;\">\n           <p style=\"line-height:1\">\n            <span style=\"display:inline-block; width:80px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Doc.No</span>: {{ doc.name }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Instructed By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\n\n       </p></td>\n   </tr>\n    \n</table>\n<table style=\"margin-top:-30px; width: 100%;\">\n    <tr>\n        <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\n            SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;\n            <span style=\"display: inline-block; width: 60%; text-align: center;\">\n                {{ doc.iom_type or 'NA' }}\n            </span>\n        </td>\n    </tr>\n</table>\n\n\n{% set label_width = \"130px\" %} <!-- adjust as needed -->\n\n\n<table style=\"width:100%; border-collapse: collapse; margin-top:-1px;\">\n    <tr>\n      <td style=\"width:50%; border-left:hidden; border-top:hidden; border-bottom:none; border-right:hidden; vertical-align:top; padding:5px;\">\n            <p style=\"line-height:1.1\">\n\n                <span style=\"display:inline-block; width:140px;\">Customer Group</span>:&nbsp;&nbsp;&nbsp;&nbsp; {{ doc.customer_group_new or '' }}<br><br>\n                <span style=\"display:inline-block; width:140px;\">Customer Name</span>: &nbsp;&nbsp;&nbsp;&nbsp;{{ doc.new_customer_name or '' }}<br><br>\n                <span style=\"display:inline-block; width:140px;\">Customer Type</span>:&nbsp;&nbsp;&nbsp;&nbsp; {{ doc.customer_type or '' }}<br><br>\n                <span style=\"display:inline-block; width:140px;\">Customer Code</span>:&nbsp;&nbsp; &nbsp;&nbsp;{{ doc.customer_code or '' }}<br><br>\n                <span style=\"display:inline-block; width:140px;\">Currency</span>: &nbsp;&nbsp;&nbsp;&nbsp;{{ doc.currency or '' }}<br><br>\n                {%if doc.customer_group_new==\"Domestic\"%}\n                <span style=\"display:inline-block; width:140px;\">GSTIN No / Status</span>: &nbsp;&nbsp;&nbsp;&nbsp;{{ doc.customer_gstin or '' }} / {{doc.status or ''}}<br><br>\n                <span style=\"display:inline-block; width:140px;\">PAN No</span>:&nbsp;&nbsp;&nbsp;&nbsp; {{ doc.pan_no or '' }}<br><br>\n                <span style=\"display:inline-block; width:140px;\">MSME / Udyam No</span>:&nbsp;&nbsp;&nbsp;&nbsp; {{ doc.msme__udyam_no or '' }}<br><br>\n                <span style=\"display:inline-block; width:140px;\">GST Category</span>:&nbsp;&nbsp;&nbsp;&nbsp; {{ doc.gst_category or '' }}<br><br>\n                <span style=\"display:inline-block; width:140px;\">TDS Exemption</span>:&nbsp;&nbsp;&nbsp;&nbsp; {{ doc.tds_exemption or '' }}<br><br>\n                {%endif%}\n               \n\n            </p>\n        </td>\n       <td style=\"width:50%; border-left:hidden;border-top:hidden; vertical-align:top; padding:5px; border-bottom:none;border-right:hidden;\">\n           <p style=\"line-height:1.1\">\n            <span style=\"display:inline-block; width:110px;\">Email</span>: {{doc.email or '' }}<br><br>\n            <span style=\"display:inline-block; width:110px;\">Phone</span>: {{doc.phone_no or '' }}<br><br>\n    <span style=\"display:inline-block; width:110px;white-space:nowrap\">Contact Person</span>: {{ doc.contact_person or '' }}<br><br>\n        <span style=\"display:inline-block; width:110px;white-space:nowrap;padding-bottom:20px;\">Payment Days</span>: &nbsp;{{ doc.payment_days or '' }}<br><br>\n\n       </p></td>\n   </tr>\n    \n</table>\n<div style=\"margin-top: -25px;margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:140px;font-weight:bold;\">Address</span>\n     <span>\n                    :&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.address_line_1 or '' }}<br>\n                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.address_line_2 or '' }}<br>\n                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.stateprovince or '' }}<br>\n                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.postal_code or '' }}<br>\n                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.country or '' }}\n                </span>\n\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:200px;font-weight:bold;text-decoration: underline;white-space:nowrap\">Bank Account Details:</span>\n</div>\n<table style=\"width:100%; border-collapse:collapse; margin-top:5px;\">\n    <thead>\n        <tr>\n            <td style=\"background-color:#fec76f; padding:6px; text-align:center;\">S.No</td>\n            <td style=\"background-color:#fec76f; padding:6px; text-align:center;\">Bank Name</td>\n            <td style=\"background-color:#fec76f; padding:6px; text-align:center;\">Branch Name</td>\n            <td style=\"background-color:#fec76f; padding:6px; text-align:center;\">IFSC Code</td>\n            <td style=\"background-color:#fec76f; padding:6px; text-align:center;\">Account Number</td>\n            <td style=\"background-color:#fec76f; padding:6px; text-align:center;\">Account Holder Name</td>\n            <td style=\"background-color:#fec76f; padding:6px; text-align:center;\">Account Type</td>\n        </tr>\n    </thead>\n\n    <tbody>\n        {% for i in doc.supplier_bank_details %}\n        <tr>\n            <td style=\"padding:6px; text-align:center;\">{{ loop.index }}</td>\n            <td style=\"padding:6px; text-align:center;\">{{ i.bank_name or '' }}</td>\n            <td style=\"padding:6px; text-align:center;\">{{ i.branch_name or '' }}</td>\n            <td style=\"padding:6px; text-align:center;\">{{ i.ifsc_code or '' }}</td>\n            <td style=\"padding:6px; text-align:center;\">{{i.account_number or ''}}</td>\n            <td style=\"padding:6px; text-align:center;\">{{i.account_holder_name or ''}}</td>\n            <td style=\"padding:6px; text-align:center;\">{{ i.account_type or ''}}</td>\n        </tr>\n        {% endfor %}\n    </tbody>\n</table><br>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:160px;font-weight:bold;\">Remarks</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.subject or 'NA' }}</span>\n</div>\n<div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n<div class=\"fixed-footer\">\n        <br>\n        {% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n    <table>\n   <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:25%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:25%;background-color:#a5a3ac\">HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:25%;background-color:#a5a3ac\">ERP Team</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:25%;background-color:#a5a3ac\">Finance</td>\n</tr>\n\n\n\n    <tr style=\"height: 80px;\">\n        {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n       {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\n       {% set design_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.design_manager}, \"custom_digital_signature\") %}\n       {% set erp_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.erp_team}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.plant_head}, \"custom_digital_signature\") %}\n        {% set material_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.material_manager}, \"custom_digital_signature\") %}\n         {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\": 'BMD01'}, \"custom_digital_signature\")%}\n    {% set cmd_signature = frappe.db.get_value(\"Employee\", {\"name\": \"CMD01\"}, \"custom_digital_signature\")%}\n       {% set marketing_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.marketing_manager}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.finance}, \"custom_digital_signature\") %}\n       {% set gm_signature = frappe.db.get_value(\"Employee\", {\"name\":\"KR002\"}, \"custom_digital_signature\") %}\n       <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if prepared_signature %}\n        <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n     {% if doc.date_time %}\n        {% set formatted_date = frappe.utils.formatdate(doc.date_time, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.date_time, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n        <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if hod_signature %}\n        <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.hod_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.hod_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.hod_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if erp_signature %}\n        <img src=\"{{ erp_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.erp_team_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.erp_team_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.erp_team_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if finance_signature %}\n        <img src=\"{{ finance_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.finance_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.finance_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.finance_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n</div>\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 18:04:18.106932",
  "module": "ONEGENE",
  "name": "Approval for New Customer Registration",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n@page {\n    size: A4;\n    margin: 5mm 5mm 5mm 5mm; /* top right bottom left */\n}\n\n.page-wrapper {\n    border: 2px solid black;\n    padding: 2mm;\n    box-sizing: border-box;\n    min-height: 265mm; /* full page height */\n    max-width:200mm;\n    margin-top:0mm;\n    \n}\n.content {\n    margin-bottom: 50mm; /* leave space for repeated footer */\n        width: 100%;\n\n}\n.fixed-footer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    padding: 2mm 5mm;\n    box-sizing: border-box;\n    border-top:none;\n    font-size: 10px;\n}\n\n.footer {\n    display: block;\n    position: running(footer); /* makes it a repeated element on every page */\n}\n/* tables inside footer */\n.fixed-footer table {\n    width: 100%;\n    border-collapse: collapse;\n}\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n            page-break-inside: avoid;\n\n    }\n    td, th {\n        border: 1px solid black;\n    }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n        width: 100%;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<div class=\"page-wrapper\">\n    <div class=\"content\">\n\n<table>\n    <tr>\n        <td style=\"width: 15%;text-align:center;border-right:none;border-bottom:none;border-bottom:bold\">\n            <div style=\"padding-top:8px;\">\n                <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\n            </div>\n        </td>\n        <td style=\"width:30%;font-size:20px;text-align:center;border-right:none;border-bottom:none;padding-top:13px\" nowrap>\n            <div class=\"header-title\" style=\"padding-top:10px\">INTER OFFICE MEMO (I O M)</div>         </td>\n        <td style=\"width:15%;white-space:nowrap;border-bottom:none;font-weight:bold;\">\n    <div style=\"padding-top:13px;border-bottom:none;\">\n        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\n            ✔\n        </span>\n        {{ doc.priority }}\n    </div>\n</td>\n\n\n\n    </tr>\n</table>\n\n{% set emp_name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table style=\"width:100%; border-collapse: collapse; margin-top:-16px;\">\n    <tr>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;\">\n           <p style=\"line-height:1\">\n    <span style=\"display:inline-block; width:80px;\">Dept.From </span>:&nbsp;{{ doc.department_from or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Dept.To</span>:&nbsp; {{ doc.department_to or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Created By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\n   \n</p>\n\n       </td>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;\">\n           <p style=\"line-height:1\">\n            <span style=\"display:inline-block; width:80px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Doc.No</span>: {{ doc.name }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Instructed By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\n\n       </p></td>\n   </tr>\n    \n</table>\n<table style=\"margin-top:-30px; width: 100%;\">\n    <tr>\n        <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\n            SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;\n            <span style=\"display: inline-block; width: 60%; text-align: center;\">\n                {{ doc.iom_type or 'NA' }}\n            </span>\n        </td>\n    </tr>\n</table>\n\n\n{% set label_width = \"130px\" %} <!-- adjust as needed -->\n\n\n<table style=\"width:100%; border-collapse: collapse; margin-top:-1px;\">\n    <tr>\n      <td style=\"width:50%; border-left:hidden; border-top:hidden; border-bottom:none; border-right:hidden; vertical-align:top; padding:5px;\">\n            <p style=\"line-height:1.1\">\n\n                <span style=\"display:inline-block; width:140px;\"><b>Supplier Group</b></span>:&nbsp;&nbsp;&nbsp;&nbsp; {{ doc.new_supplier_group or '' }}<br><br>\n                <span style=\"display:inline-block; width:140px;\"><b>Supplier Name</b></span>: &nbsp;&nbsp;&nbsp;&nbsp;{{ doc.new_supplier_name or '' }}<br><br>\n                <span style=\"display:inline-block; width:140px;\"><b>Supplier Type</b></span>:&nbsp;&nbsp;&nbsp;&nbsp; {{ doc.supplier_type or '' }}<br><br>\n                <span style=\"display:inline-block; width:140px;\"><b>Supplier Code</b></span>:&nbsp;&nbsp; &nbsp;&nbsp;{{ doc.new_supplier_code or '' }}<br><br>\n                <span style=\"display:inline-block; width:140px;\"><b>Currency</b></span>: &nbsp;&nbsp;&nbsp;&nbsp;{{ doc.currency or '' }}<br><br>\n                {%if doc.new_supplier_group!=\"Import- Bought-Out\" and doc.new_supplier_group!=\"Import- Raw Material\"%}\n                <span style=\"display:inline-block; width:140px;\"><b>GSTIN No / Status</b></span>: &nbsp;&nbsp;&nbsp;&nbsp;{{ doc.gstin_no or '' }} / {{doc.status or ''}}<br><br>\n                <span style=\"display:inline-block; width:140px;\"><b>PAN No</b></span>:&nbsp;&nbsp;&nbsp;&nbsp; {{ doc.pan_no or '' }}<br><br>\n                <span style=\"display:inline-block; width:140px;\"><b>MSME / Udyam No</b></span>:&nbsp;&nbsp;&nbsp;&nbsp; {{ doc.msme__udyam_no or '' }}<br><br>\n                <span style=\"display:inline-block; width:140px;\"><b>GST Category</b></span>:&nbsp;&nbsp;&nbsp;&nbsp; {{ doc.gst_category or '' }}<br><br>\n                <span style=\"display:inline-block; width:140px;\"><b>TDS Exemption</b></span>:&nbsp;&nbsp;&nbsp;&nbsp; {{ doc.tds_exemption or '' }}<br><br>\n                {%endif%}\n               \n\n            </p>\n        </td>\n       <td style=\"width:50%; border-left:hidden;border-top:hidden; vertical-align:top; padding:5px; border-bottom:none;border-right:hidden;\">\n           <p style=\"line-height:1.1\">\n            <span style=\"display:inline-block; width:110px;\"><b>Email</b></span>: {{doc.email or '' }}<br><br>\n                        <span style=\"display:inline-block; width:110px;\"><b>Phone No</b></span>:{{doc.phone_no or '' }}<br><br>\n\n    <span style=\"display:inline-block; width:110px;white-space:nowrap\"><b>Contact Person</b></span>: {{ doc.contact_person or '' }}<br><br>\n        <span style=\"display:inline-block; width:110px;white-space:nowrap;padding-bottom:20px;\"><b>Payment Days</b></span>: &nbsp;{{ doc.payment_days or '' }}<br><br>\n\n       </p></td>\n   </tr>\n    \n</table>\n<div style=\"margin-top: -25px;margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:140px;font-weight:bold;\">Address</span>\n     <span>\n                    :&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.address_line_1 or '' }}<br>\n                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.address_line_2 or '' }}<br>\n                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.stateprovince or '' }}<br>\n                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.postal_code or '' }}<br>\n                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.country or '' }}\n                </span>\n\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:200px;font-weight:bold;text-decoration: underline;white-space:nowrap\">Bank Account Details:</span>\n</div>\n<table style=\"width:100%; border-collapse:collapse; margin-top:5px;\">\n    <thead>\n        <tr>\n            <td style=\"background-color:#fec76f; padding:6px; text-align:center;\">S.No</td>\n            <td style=\"background-color:#fec76f; padding:6px; text-align:center;\">Bank Name</td>\n            <td style=\"background-color:#fec76f; padding:6px; text-align:center;\">Branch Name</td>\n            <td style=\"background-color:#fec76f; padding:6px; text-align:center;\">IFSC Code</td>\n            <td style=\"background-color:#fec76f; padding:6px; text-align:center;\">Account Number</td>\n            <td style=\"background-color:#fec76f; padding:6px; text-align:center;\">Account Holder Name</td>\n            <td style=\"background-color:#fec76f; padding:6px; text-align:center;\">Account Type</td>\n        </tr>\n    </thead>\n\n    <tbody>\n        {% for i in doc.supplier_bank_details %}\n        <tr>\n            <td style=\"padding:6px; text-align:center;\">{{ loop.index }}</td>\n            <td style=\"padding:6px; text-align:center;\">{{ i.bank_name or '' }}</td>\n            <td style=\"padding:6px; text-align:center;\">{{ i.branch_name or '' }}</td>\n            <td style=\"padding:6px; text-align:center;\">{{ i.ifsc_code or '' }}</td>\n            <td style=\"padding:6px; text-align:center;\">{{i.account_number or ''}}</td>\n            <td style=\"padding:6px; text-align:center;\">{{i.account_holder_name or ''}}</td>\n            <td style=\"padding:6px; text-align:center;\">{{ i.account_type or ''}}</td>\n        </tr>\n        {% endfor %}\n    </tbody>\n</table><br>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:200px;font-weight:bold;text-decoration: underline;white-space:nowrap\">Attachments:</span>\n</div>\n<table style=\"width:80%; border-collapse:collapse; margin-top:5px;\">\n    <thead>\n        <tr>\n            <td style=\"background-color:#b3d1e3; padding:6px; text-align:center;\">S.No</td>\n            <td style=\"background-color:#b3d1e3; padding:6px; text-align:center;\">Documents</td>\n            <td style=\"background-color:#b3d1e3; padding:6px; text-align:center;\">Attach Status</td>\n        </tr>\n    </thead>\n\n    <tbody>\n        {% for i in doc.attachments %}\n        <tr>\n            <td style=\"padding:6px; text-align:center;\">{{ loop.index }}</td>\n            <td style=\"padding:6px; text-align:left;\">{{ i.title_of_attachment or '' }}</td>\n            {%if i.attach%}\n            <td style=\"padding:6px; text-align:center;\">Attached</td>\n            {%else%}\n            <td style=\"padding:6px; text-align:center;\">Not Attached</td>\n            {%endif%}\n        </tr>\n        {% endfor %}\n    </tbody>\n</table><br>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:160px;font-weight:bold;\">Remarks</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.subject or 'NA' }}</span>\n</div>\n<div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n<div class=\"fixed-footer\">\n        <br>\n        {% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n    <table>\n   <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:25%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:25%;background-color:#a5a3ac\">HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:25%;background-color:#a5a3ac\">ERP Team</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:25%;background-color:#a5a3ac\">Finance</td>\n</tr>\n\n\n\n    <tr style=\"height: 80px;\">\n        {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n       {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\n       {% set design_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.design_manager}, \"custom_digital_signature\") %}\n       {% set erp_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.erp_team}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.plant_head}, \"custom_digital_signature\") %}\n        {% set material_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.material_manager}, \"custom_digital_signature\") %}\n         {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\": 'BMD01'}, \"custom_digital_signature\")%}\n    {% set cmd_signature = frappe.db.get_value(\"Employee\", {\"name\": \"CMD01\"}, \"custom_digital_signature\")%}\n       {% set marketing_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.marketing_manager}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.finance}, \"custom_digital_signature\") %}\n       {% set gm_signature = frappe.db.get_value(\"Employee\", {\"name\":\"KR002\"}, \"custom_digital_signature\") %}\n       <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if prepared_signature %}\n        <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n     {% if doc.date_time %}\n        {% set formatted_date = frappe.utils.formatdate(doc.date_time, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.date_time, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n        <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if hod_signature %}\n        <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.hod_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.hod_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.hod_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if erp_signature %}\n        <img src=\"{{ erp_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.erp_team_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.erp_team_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.erp_team_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if finance_signature %}\n        <img src=\"{{ finance_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.finance_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.finance_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.finance_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n</div>\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 18:04:31.302672",
  "module": "ONEGENE",
  "name": "Approval for New Supplier Registration",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n@page {\n    size: A4;\n    margin: 5mm 5mm 5mm 5mm; /* top right bottom left */\n}\n\n.page-wrapper {\n    border: 2px solid black;\n    padding: 2mm;\n    box-sizing: border-box;\n    min-height: 265mm; /* full page height */\n    max-width:200mm;\n    margin-top:0mm;\n    \n}\n.content {\n    margin-bottom: 50mm; /* leave space for repeated footer */\n        width: 100%;\n\n}\n.fixed-footer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    padding: 2mm 5mm;\n    box-sizing: border-box;\n    border-top:none;\n    font-size: 10px;\n}\n\n.footer {\n    display: block;\n    position: running(footer); /* makes it a repeated element on every page */\n}\n/* tables inside footer */\n.fixed-footer table {\n    width: 100%;\n    border-collapse: collapse;\n}\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n            page-break-inside: avoid;\n\n    }\n    td, th {\n        border: 1px solid black;\n    }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n        width: 100%;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<div class=\"page-wrapper\">\n    <div class=\"content\">\n\n<table>\n    <tr>\n        <td style=\"width: 15%;text-align:center;border-right:none;border-bottom:none;border-bottom:bold\">\n            <div style=\"padding-top:8px;\">\n                <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\n            </div>\n        </td>\n        <td style=\"width:30%;font-size:20px;text-align:center;border-right:none;border-bottom:none;padding-top:13px\" nowrap>\n            <div class=\"header-title\" style=\"padding-top:10px\">INTER OFFICE MEMO (I O M)</div>         </td>\n        <td style=\"width:15%;white-space:nowrap;border-bottom:none;font-weight:bold;\">\n    <div style=\"padding-top:13px;border-bottom:none;\">\n        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\n            ✔\n        </span>\n        {{ doc.priority }}\n    </div>\n</td>\n\n\n\n    </tr>\n</table>\n\n{% set emp_name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n<table style=\"width:100%; border-collapse: collapse; margin-top:-16px;\">\n    <tr>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;\">\n           <p style=\"line-height:1\">\n    <span style=\"display:inline-block; width:80px;\">Dept.From </span>:&nbsp;Supplier<br><br>\n    <span style=\"display:inline-block; width:80px;\">Dept.To</span>:&nbsp; {{ doc.department_to or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Created By</span>: &nbsp;{{emp_name or '' }}<br><br>\n   \n</p>\n\n       </td>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;\">\n           <p style=\"line-height:1\">\n            <span style=\"display:inline-block; width:80px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Doc.No</span>: {{ doc.name }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Instructed By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\n\n       </p></td>\n   </tr>\n    \n</table>\n<table style=\"margin-top:-30px; width: 100%;\">\n    <tr>\n        <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\n            SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;\n            <span style=\"display: inline-block; width: 60%; text-align: center;\">\n                {{ doc.iom_type or 'NA' }}\n            </span>\n        </td>\n    </tr>\n</table>\n\n\n{% set label_width = \"130px\" %} <!-- adjust as needed -->\n{%set supplier_new_name=frappe.db.get_value(\"Supplier\",{\"name\":doc.supplier_new_name},\"supplier_name\") %}\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier Name</span>\n    <span style=\"color:blue;font-weight:bold\">:&nbsp;&nbsp;&nbsp;&nbsp;{{ supplier_new_name or 'NA' }}</span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Supplier Group</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.supplier_new_group or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Month</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.new_month or 'NA' }}</span>\n</div>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Reason for Update</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.subject or 'NA' }}</span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;text-decoration: underline;\">Details</span>\n</div>\n{% set total_shortage = 0 %}\n{% set total_excess = 0 %}\n\n<table>\n   <tr>\n        <td style=\"background-color:#b3d1e3;text-align:center;font-weight:bold\">S.No</td>\n        <td style=\"background-color:#b3d1e3;text-align:center;font-weight:bold\">Item Code</td>\n        <td style=\"background-color:#b3d1e3;text-align:center;font-weight:bold\">Item Name</td>\n        <td style=\"background-color:#b3d1e3;text-align:center;font-weight:bold\">UOM</td>\n        <td style=\"background-color:#b3d1e3;text-align:center;font-weight:bold\">ERP Stock</td>\n        <td style=\"background-color:#b3d1e3;text-align:center;font-weight:bold\">Phy Stock</td>\n        <td style=\"background-color:#b3d1e3;text-align:center;font-weight:bold\">Difference</td>\n        <td style=\"background-color:#b3d1e3;text-align:center;font-weight:bold\">RM Cost ({{'INR'}})</td>\n        <td style=\"background-color:#b3d1e3;text-align:center;font-weight:bold\">Value ({{'INR'}})</td>\n        <td style=\"background-color:#b3d1e3;text-align:center;font-weight:bold\">Reason for Difference</td>\n\n        </tr>\n\n    {% for i in doc.supplier_stock_reconciliation %}\n    \n    {# ---------------- Difference Calculation ---------------- #}\n    {% set erp = i.erp_stock or 0 %}\n    {% set phy = i.phy_stock or 0 %}\n    {% set diff = phy - erp %}\n\n    {% if diff < 0 %}\n        {% set arrow = \"↓\" %}\n        {% set arrow_color = \"red\" %}\n        {% set total_shortage = total_shortage + (i.value or 0) %}\n    {% elif diff > 0 %}\n        {% set arrow = \"↑\" %}\n        {% set arrow_color = \"green\" %}\n       {% set total_excess = total_excess + (i.value or 0) %}\n    {% else %}\n        {% set arrow = \"\" %}\n        {% set arrow_color = \"black\" %}\n    {% endif %}\n\n    {# ---------------- Value Arrow Based on Difference ---------------- #}\n    {% if diff < 0 %}\n        {% set value_arrow = \"↓\" %}\n        {% set value_arrow_color = \"red\" %}\n    {% elif diff > 0 %}\n        {% set value_arrow = \"↑\" %}\n        {% set value_arrow_color = \"green\" %}\n    {% else %}\n        {% set value_arrow = \"\" %}\n        {% set value_arrow_color = \"black\" %}\n    {% endif %}\n\n    <tr>\n        <td style=\"font-size:8px\">{{ loop.index }}</td>\n        <td style=\"text-align:left;white-space:nowrap;font-size:8px\">{{ i.item_code }}</td>\n        <td style=\"text-align:left;font-size:8px\">{{ i.item_name }}</td>\n        <td style=\"text-align:center;white-space:nowrap;font-size:8px\">{{i.uom or ''}}</td>\n        <td style=\"text-align:center;white-space:nowrap;font-size:8px\">{{ erp or '-' }}</td>\n        <td style=\"text-align:center;white-space:nowrap;font-size:8px\">{{ phy or '-'  }}</td>\n\n       <td style=\"text-align:center;font-size:8px\">\n           {%if diff%}\n            {{ \"{:.4f}\".format(diff|float) }}\n            <span style=\"color:{{ arrow_color }}; font-weight:bold;\">{{ arrow }}</span>\n             {% else %}\n        -\n    {% endif %}\n        </td>\n\n        <td style=\"text-align:right;white-space:nowrap;font-size:8px\">\n             {% if i.rate %}\n        {{ frappe.utils.fmt_money(i.rate, currency=\"INR\", precision=4) }}\n    {% else %}\n        -\n    {% endif %}\n        </td>\n\n        <td style=\"text-align:right;white-space:nowrap;font-size:8px\">\n             {% if i.value %}\n                {{ frappe.utils.fmt_money(i.value, currency=\"INR\", precision=0) }}\n                 <span style=\"color:{{ value_arrow_color }}; font-weight:bold;\">{{ value_arrow }}</span>\n                {% else %}\n                    -\n                {% endif %}\n           \n        </td>\n        <td style=\"text-align:left;\">{{i.reason_for_difference or ''}}</td>\n\n    </tr>\n    \n    {% endfor %}\n    {# ---------------- Summary Rows ---------------- #}\n<tr><td colspan=\"10\" style=\"border:none; border-right:hidden;border-bottom:hidden;border-left:hidden;height:10px;\"></td></tr>\n\n   <tr>\n    <td colspan=\"7\" style=\"text-align:right;font-weight:bold;border-right:hidden;border-bottom:hidden;border-left:hidden;margin-top:20px;\">\n        Total Shortage Value\n    </td>\n    <td colspan=\"3\" style=\"text-align:right;font-weight:bold;border-right:hidden;border-bottom:hidden;border-left:hidden;margin-top:20px;\">\n        {%if doc.total_shortage_value%}\n        {{frappe.utils.fmt_money(abs(doc.total_shortage_value or 0), currency=\"INR\", precision=0) }}\n          <span style=\"color:red;font-weight:bold;\">↓</span>\n        {% else %}\n        -\n    {% endif %}\n      \n    </td>\n</tr>\n\n\n    <tr>\n        <td colspan=\"7\" style=\"text-align:right;font-weight:bold;border-right:hidden;border-bottom:hidden;border-left:hidden;margin-top:20px;\">\n            Total Excess Value\n        </td>\n        <td colspan=\"3\" style=\"text-align:right;font-weight:bold;border-right:hidden;border-bottom:hidden;border-left:hidden;margin-top:20px;\">\n             {%if doc.total_excess_value%}\n        {{frappe.utils.fmt_money(abs(doc.total_excess_value or 0), currency=\"INR\", precision=0) }}\n         <span style=\"color:green;font-weight:bold;\">↑</span>\n        {% else %}\n        -\n    {% endif %}\n               \n        </td>\n    </tr>\n\n</table>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;text-decoration: underline;\">Summary</span>\n</div>\n<table style=\"margin-bottom: 4px;\">\n<tr>\n        <td style=\"background-color:#fec76f;text-align:center;font-weight:bold\">S.No</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-weight:bold\">Total ERP Stock Value</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-weight:bold\">Total Phy Value</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-weight:bold\">Total Shortage Value</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-weight:bold\">Supplier Accept Debit Value</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-weight:bold\">Supplier Not Accept Debit Value</td>\n        <td style=\"background-color:#fec76f;text-align:center;font-weight:bold\">Remarks</td>\n</tr>\n<tr>\n <td style=\"text-align:center;\">1</td>\n {%if doc.total_erp_value%}\n <td style=\"text-align:right;font-weight:bold;color:blue\"> {{ frappe.utils.fmt_money(doc.total_erp_value, currency=\"INR\", precision=0) }}</td>\n  {% else %}\n      <td style=\"text-align:right;font-weight:bold\">-</td>\n    {% endif %}\n    {%if doc.total_phy_value%}\n <td style=\"text-align:right;font-weight:bold;color:green\"> {{ frappe.utils.fmt_money(doc.total_phy_value, currency=\"INR\", precision=0) }}</td>\n        {% else %}\n         <td style=\"text-align:right;font-weight:bold\">-</td>\n    {% endif %}\n    {%if doc.tot_short_value%}\n         <td style=\"text-align:right;font-weight:bold;color:red\"> {{ frappe.utils.fmt_money(doc.tot_short_value, currency=\"INR\", precision=0) }}</td>\n         {% else %}\n        <td style=\"text-align:right;font-weight:bold\">-</td>\n    {% endif %}\n     {%if doc.supplier_accept_debit_value%}\n        <td style=\"text-align:right;font-weight:bold;color:green\">{{ frappe.utils.fmt_money(doc.supplier_accept_debit_value, currency=\"INR\", precision=0) }}</td>\n      {% else %}\n          <td style=\"text-align:right;font-weight:bold\">-</td>\n    {% endif %}   \n      {%if doc.supplier_not_accept_debit_value%}\n        <td style=\"text-align:right;font-weight:bold;color:red\">{{ frappe.utils.fmt_money(doc.supplier_not_accept_debit_value, currency=\"INR\", precision=0) }}</td>\n     {% else %}\n         <td style=\"text-align:right;font-weight:bold\">-</td>\n    {% endif %}       \n        <td style=\"text-align:left;\">{{doc.remarks or ''}}</td>\n</tr>\n</table><br>\n<div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n\n<br>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Remarks</span>\n    <span >:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.subject or 'NA' }}</span>\n</div>\n<div class=\"fixed-footer\">\n        <br>\n        {% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n    <table>\n  <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:13px; width:10%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold;font-size:13px; width:10%;background-color:#a5a3ac\">Supplier</td>\n  <td style=\"text-align:center; font-weight:bold;font-size:13px; width:10%;background-color:#a5a3ac\">HOD</td>\n  <td style=\"text-align:center; font-weight:bold;font-size:13px; width:10%;background-color:#a5a3ac\">ERP Team</td>\n  <td style=\"text-align:center; font-weight:bold;font-size:13px; width:10%;background-color:#a5a3ac\">Plant Head</td>\n  <td style=\"text-align:center; font-weight:bold;font-size:13px; width:10%;background-color:#a5a3ac\">GM</td>\n    <td style=\"text-align:center; font-weight:bold;font-size:13px; width:10%;background-color:#a5a3ac\">Finance</td>\n\n  <td style=\"text-align:center; font-weight:bold;font-size:13px; width:10%;background-color:#a5a3ac\">BMD</td>\n  <td style=\"text-align:center; font-weight:bold;font-size:13px; width:10%;background-color:#a5a3ac\">CMD</td>\n</tr>\n\n\n    <tr style=\"height: 80px;\">\n        {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n       {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\n       {% set design_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.design_manager}, \"custom_digital_signature\") %}\n       {% set erp_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.erp_team}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.plant_head}, \"custom_digital_signature\") %}\n        {% set material_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.material_manager}, \"custom_digital_signature\") %}\n         {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\": 'BMD01'}, \"custom_digital_signature\")%}\n    {% set cmd_signature = frappe.db.get_value(\"Employee\", {\"name\": \"CMD01\"}, \"custom_digital_signature\")%}\n       {% set marketing_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.marketing_manager}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.finance}, \"custom_digital_signature\") %}\n       {% set gm_signature = frappe.db.get_value(\"Employee\", {\"name\":\"KR002\"}, \"custom_digital_signature\") %}\n       {% set supplier_sign=frappe.db.get_value(\"Supplier\", {\"name\": doc.supplier_new_name}, \"custom_digital_signature\") %}\n       <td style=\"text-align:center;font-size:13px;\">\n    <br>\n    {% if prepared_signature %}\n        <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n     {% if doc.date_time %}\n        {% set formatted_date = frappe.utils.formatdate(doc.date_time, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.date_time, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:5px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:13px;\">\n    <br>\n   \n        {% if supplier_sign %}\n        <img src=\"{{ supplier_sign }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.supplier_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.supplier_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.supplier_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:5px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n        <td style=\"text-align:center;font-size:13px;\">\n    <br>\n    {% if hod_signature %}\n        <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.hod_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.hod_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.hod_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:5px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n <td style=\"text-align:center;font-size:13px;\">\n    <br>\n    {% if erp_signature %}\n        <img src=\"{{ erp_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.erp_team_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.erp_team_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.erp_team_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:5px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n\n<td style=\"text-align:center;font-size:13px;\">\n    <br>\n    {% if plant_signature %}\n        <img src=\"{{ plant_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.plant_head_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.plant_head_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.plant_head_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:5px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n\n<td style=\"text-align:center;font-size:13px;\">\n    <br>\n    {% if gm_signature %}\n        <img src=\"{{ gm_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.gm_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.gm_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.gm_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:5px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n <td style=\"text-align:center;font-size:13px;\">\n    <br>\n    {% if finance_signature %}\n        <img src=\"{{ finance_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.finance_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.finance_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.finance_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:5px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:13px;\">\n    <br>\n    {% if bmd_signature %}\n        <img src=\"{{ bmd_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.bmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.bmd_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.bmd_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:5px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:13px;\">\n    <br>\n    {% if cmd_signature %}\n        <img src=\"{{ cmd_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.cmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.cmd_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.cmd_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:5px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n</div>\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-11 18:05:29.663887",
  "module": "ONEGENE",
  "name": "Approval for Supplier Stock Reconciliation",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Inter Office Memo",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<style>\n@page {\n    size: A4;\n    margin: 5mm 5mm 5mm 5mm; /* top right bottom left */\n}\n\n.page-wrapper {\n    border: 2px solid black;\n    padding: 2mm;\n    box-sizing: border-box;\n    min-height: 265mm; /* full page height */\n    max-width:200mm;\n    margin-top:0mm;\n    \n}\n.content {\n    margin-bottom: 50mm; /* leave space for repeated footer */\n        width: 100%;\n\n}\n.fixed-footer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    padding: 2mm 5mm;\n    box-sizing: border-box;\n    border-top:none;\n    font-size: 10px;\n}\n\n.footer {\n    display: block;\n    position: running(footer); /* makes it a repeated element on every page */\n}\n/* tables inside footer */\n.fixed-footer table {\n    width: 100%;\n    border-collapse: collapse;\n}\n    table {\n        border-collapse: collapse; \n        border-spacing: 0;\n        width: 100%;\n        margin-bottom: 16px;\n            page-break-inside: avoid;\n\n    }\n    td, th {\n        border: 1px solid black;\n    }\n    .header-title {\n        font-size: 18px;\n        font-weight: bold;\n        width: 100%;\n    }\n    .color-box {\n        width: 30px;\n        height: 20px;\n        display: inline-block;\n    }\n    .red { background-color: red; }\n    .yellow { background-color: yellow; }\n    .blue { background-color: blue; }\n    .right-align {\n        text-align: left;\n        padding-left: 5px;\n    }\n</style>\n<div class=\"page-wrapper\">\n    <div class=\"content\">\n\n<table>\n    <tr>\n        <td style=\"width: 15%;text-align:center;border-right:none;border-bottom:none;border-bottom:bold\">\n            <div style=\"padding-top:8px;\">\n                <img src=\"/files/ci_img.png\" alt=\"Logo\" style=\"max-width: 60%;\">\n            </div>\n        </td>\n        <td style=\"width:30%;font-size:20px;text-align:center;border-right:none;border-bottom:none;padding-top:13px\" nowrap>\n            <div class=\"header-title\" style=\"padding-top:10px\">INTER OFFICE MEMO (I O M)</div>         </td>\n        <td style=\"width:15%;white-space:nowrap;border-bottom:none;font-weight:bold;\">\n    <div style=\"padding-top:13px;border-bottom:none;\">\n        <span style=\"border: 2px solid black; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 5px;\">\n            ✔\n        </span>\n        {{ doc.priority }}\n    </div>\n</td>\n\n\n\n    </tr>\n</table>\n\n{% set emp_name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n\n\n<table style=\"width:100%; border-collapse: collapse; margin-top:-16px;\">\n    <tr>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-right:none;\">\n           <p style=\"line-height:1\">\n    <span style=\"display:inline-block; width:80px;\">Dept.From </span>:&nbsp;{{ doc.department_from or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Dept.To</span>:&nbsp; {{ doc.department_to or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Requested By</span>: &nbsp;{{emp_name or '' }}<br><br>\n   \n</p>\n\n       </td>\n       <td style=\"width:50%; border:1px solid black; vertical-align:top; padding:5px; border-bottom:none;border-left:none;\">\n           <p style=\"line-height:1\">\n            <span style=\"display:inline-block; width:80px;\">Date & Time</span>: {{ frappe.utils.format_datetime(doc.date_time, \"dd-MM-yyyy HH:mm:ss\") or '' }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Doc.No</span>: {{ doc.name }}<br><br>\n    <span style=\"display:inline-block; width:80px;\">Instructed By</span>: &nbsp;{{ doc.employee_name or '' }}<br><br>\n\n       </p></td>\n   </tr>\n    \n</table>\n<table style=\"margin-top:-30px; width: 100%;\">\n    <tr>\n        <td colspan=\"6\" style=\"font-weight:bold;font-size:17px;\">\n            SUBJECT&nbsp;&nbsp;&nbsp;:&nbsp;\n            <span style=\"display: inline-block; width: 60%; text-align: center;\">\n                {{ doc.iom_type or 'NA' }}\n            </span>\n        </td>\n    </tr>\n</table>\n\n\n{% set label_width = \"180px\" %} <!-- adjust as needed -->\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Travel Type</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.travel_type or 'NA' }}</span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Customer / Supplier Name</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.party_name or 'NA' }}</span>\n</div>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;\">Purpose of Travel</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.purpose_of_visit or 'NA' }}</span>\n</div>\n<br>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;text-decoration: underline;\">Travel Itinerary:</span>\n</div>\n\n<table style=\"width:100%; border-collapse:collapse; margin-top:5px;\">\n    <thead>\n        <tr>\n            <th style=\"background-color:#a5a3ac !important; padding:6px; text-align:center;\">S.No</th>\n            <th style=\"background-color:#a5a3ac !important; padding:6px; text-align:center;\">Travel From</th>\n            <th style=\"background-color:#a5a3ac !important; padding:6px; text-align:center;\">Travel To</th>\n            <th style=\"background-color:#a5a3ac !important; padding:6px; text-align:center;\">Mode of Travel</th>\n            <th style=\"background-color:#a5a3ac !important; padding:6px; text-align:center;\">Departure Date</th>\n            <th style=\"background-color:#a5a3ac !important; padding:6px; text-align:center;\">Arrival Date</th>\n            <th style=\"background-color:#a5a3ac !important; padding:6px; text-align:center;\">No of Days</th>\n        </tr>\n    </thead>\n\n    <tbody>\n        {% for i in doc.travel_itinerary %}\n        <tr>\n            <td style=\"padding:6px; text-align:center;\">{{ loop.index }}</td>\n            <td style=\"padding:6px; text-align:center;\">{{ i.travel_from or '' }}</td>\n            <td style=\"padding:6px; text-align:center;\">{{ i.travel_to or '' }}</td>\n            <td style=\"padding:6px; text-align:center;\">{{ i.mode_of_travel or '' }}</td>\n            <td style=\"padding:6px; text-align:center;\">{{ frappe.utils.format_date(i.departure_date, \"dd-MM-yyyy\") }}</td>\n            <td style=\"padding:6px; text-align:center;\">{{ frappe.utils.format_date(i.arrival_date, \"dd-MM-yyyy\") }}</td>\n            <td style=\"padding:6px; text-align:center;\">{{ i.no_of_days }}</td>\n        </tr>\n        {% endfor %}\n    </tbody>\n</table>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:200px;font-weight:bold;text-decoration: underline;white-space:nowrap\">List of Employees for Business Visit:</span>\n</div>\n\n<table style=\"width:100%; border-collapse:collapse; margin-top:5px;\">\n    <thead>\n        <tr>\n            <th style=\"background-color:#a5a3ac !important; padding:6px; text-align:center;\">S.No</th>\n            <th style=\"background-color:#a5a3ac !important; padding:6px; text-align:center;\">Employee Code</th>\n            <th style=\"background-color:#a5a3ac !important; padding:6px; text-align:center;\">Employee Name</th>\n            <th style=\"background-color:#a5a3ac !important; padding:6px; text-align:center;\">Department</th>\n            <th style=\"background-color:#a5a3ac !important; padding:6px; text-align:center;\">Designation</th>\n            <th style=\"background-color:#a5a3ac !important; padding:6px; text-align:center;\">Contact Number</th>\n            \n        </tr>\n    </thead>\n\n    <tbody>\n        {% for i in doc.employee_travel_visit_details %}\n        <tr>\n            <td style=\"padding:6px; text-align:center;\">{{ loop.index }}</td>\n            <td style=\"padding:6px; text-align:left;\">{{ i.employee_code or '' }}</td>\n            <td style=\"padding:6px; text-align:left;\">{{ i.employee_name or '' }}</td>\n            <td style=\"padding:6px; text-align:left;\">{{ i.department or '' }}</td>\n            <td style=\"padding:6px; text-align:left;\">{{ i.designation or '' }}</td>\n            <td style=\"padding:6px; text-align:center;\">{{ i.contact_number or '' }}</td>\n            \n        </tr>\n        {% endfor %}\n    </tbody>\n</table>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;text-decoration: underline;\">Visit Schedule:</span>\n</div>\n\n<table style=\"width:100%; border-collapse:collapse; margin-top:5px;\">\n    <thead>\n        <tr>\n            <th style=\"background-color:#a5a3ac !important; padding:6px; text-align:center;\">S.No</th>\n            <th style=\"background-color:#a5a3ac !important; padding:6px; text-align:center;\">Place to Visit</th>\n            <th style=\"background-color:#a5a3ac !important; padding:6px; text-align:center;\">Whom to Meet</th>\n            <th style=\"background-color:#a5a3ac !important; padding:6px; text-align:center;\">Date</th>\n            <th style=\"background-color:#a5a3ac !important; padding:6px; text-align:center;\">Activity</th>\n            <th style=\"background-color:#a5a3ac !important; padding:6px; text-align:center;\">Days</th>\n        </tr>\n    </thead>\n\n    <tbody>\n        {% for i in doc.travel_visit_schedule %}\n        <tr>\n            <td style=\"padding:6px; text-align:center;\">{{ loop.index }}</td>\n            <td style=\"padding:6px; text-align:left;\">{{ i.place_to_visit or '' }}</td>\n            <td style=\"padding:6px; text-align:left;\">{{ i.whom_to_meet or '' }}</td>\n            <td style=\"padding:6px; text-align:center;\">{{ frappe.utils.format_date(i.date, \"dd-MM-yyyy\") }}</td>\n            <td style=\"padding:6px; text-align:left;\">{{ i.activity or '' }}</td>\n            <td style=\"padding:6px; text-align:center;\">{{ i.days or '' }}</td>\n        </tr>\n        {% endfor %}\n    </tbody>\n</table>\n\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:{{ label_width }};font-weight:bold;text-decoration: underline;\">Costing Details:</span>\n</div>\n\n<table style=\"width:100%; border-collapse:collapse; margin-top:5px;\">\n    <thead>\n        <tr>\n            <th style=\"background-color:#fec76f !important; padding:6px; text-align:center;\">S.No</th>\n            <th style=\"background-color:#fec76f !important; padding:6px; text-align:center;\">Type</th>\n            <th style=\"background-color:#fec76f !important; padding:6px; text-align:center;\">Currency</th>\n            <th style=\"background-color:#fec76f !important; padding:6px; text-align:center;\">Sponsored Amount</th>\n            <th style=\"background-color:#fec76f !important; padding:6px; text-align:center;\">Funded Amount</th>\n        </tr>\n    </thead>\n\n    <tbody>\n        {% for i in doc.travel_costing_details %}\n        <tr>\n            <td style=\"padding:6px; text-align:center;\">{{ loop.index }}</td>\n            <td style=\"padding:6px; text-align:left;\">{{ i.type or '' }}</td>\n            <td style=\"padding:6px; text-align:center;\">{{ i.currency or '' }}</td>\n            <td style=\"padding:6px; text-align:right;\">{{ frappe.utils.fmt_money(i.sponsored_amount, 2, currency=i.currency) }}</td>\n            <td style=\"padding:6px; text-align:right;\">{{ frappe.utils.fmt_money(i.funded_amount, 2, currency=i.currency) }}</td>\n        </tr>\n        {% endfor %}\n\n        <tr>\n            <td colspan=\"3\" style=\"padding:6px; text-align:center; font-weight:bold;background-color: #f0f4ff\">Total Amount</td>\n            <td style=\"padding:6px; text-align:right; font-weight:bold;background-color: #f0f4ff\">{{ frappe.utils.fmt_money(doc.total_sponsored_amount, 2) }}</td>\n            <td style=\"padding:6px; text-align:right; font-weight:bold;background-color: #f0f4ff\">{{ frappe.utils.fmt_money(doc.total_funded_amount, 2) }}</td>\n        </tr>\n    </tbody>\n</table>\n\n<table style=\"width: 100%; margin-bottom: 4px; border-collapse: collapse;margin-right:0px;\">\n    <tr>\n       \n\n        <td style=\"width:38%; text-align:left;border-top:hidden;;border-bottom:hidden;border-right:hidden;border-left:hidden\">\n            <span>Estimated Travel Expenses</span>\n            <span style=\"font-weight:bold;\">: {{ frappe.utils.fmt_money(doc.estimated_travel_expenses_new, 2, currency=\"INR\") }}</span>\n        </td>\n\n        <td style=\"width:33%; text-align:left;border-top:hidden;border-bottom:hidden;;border-right:hidden;border-left:hidden;margin-right:20%;\">\n            <span>Advance Amount</span>\n            <span style=\"font-weight:bold;\">: {{ frappe.utils.fmt_money(doc.advance_amount_new, 2, currency=\"INR\") }}</span>\n        </td>\n    </tr>\n</table>\n<div style=\"margin-bottom: 4px;\">\n    <span style=\"display:inline-block;width:90px;font-weight:bold;\">Remarks</span>\n    <span>:&nbsp;&nbsp;&nbsp;&nbsp;{{ doc.subject or 'NA' }}</span>\n</div>\n<div style=\"width:100%; margin-top:10px; display:flex;\">\n\n    {% if doc.approval_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-right:20px; \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#008000; text-decoration: underline;\">Approved Remarks</b>\n        <br><br>\n        {% for r in doc.approval_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n             ● <b>{{ user_full_name or r.user }}</b> -{{ r.remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    {% if doc.rejection_remarks %}\n    <div style=\"\n        width:50%;\n        padding:20px;\n        border:1px solid #000;\n        margin-left:20px;   \n        box-sizing:border-box;\n    \">\n        <b style=\"color:#FF0000; text-decoration: underline;\">Rejected Remarks</b>\n        <br><br>\n        {% for r in doc.rejection_remarks %}\n         {% set user_full_name = frappe.db.get_value(\"Employee\",{ \"user_id\":r.user}, \"employee_name\") %}\n            ●<b>{{ user_full_name or r.user }}</b> - {{ r.rejection_remarks or '' }}\n            {% if not loop.last %}<br>{% endif %}\n        {% endfor %}\n    </div>\n    {% endif %}\n\n</div>\n\n<div class=\"fixed-footer\">\n        {% set name=frappe.db.get_value(\"Employee\",{\"user_id\":doc.owner},\"employee_name\") %}\n    <table>\n  <tr>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Prepared</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">HOD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">HR</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">Finance</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">BMD</td>\n  <td style=\"text-align:center; font-weight:bold; font-size:15px; width:12.5%;background-color:#a5a3ac\">CMD</td>\n</tr>\n\n\n\n    <tr style=\"height: 60px;\">\n        {% set prepared_signature = frappe.db.get_value(\"Employee\", {\"user_id\": doc.owner}, \"custom_digital_signature\") %}\n       {% set hod_signature = frappe.db.get_value(\"Employee\", {\"name\": doc.reports_to}, \"custom_digital_signature\") %}\n       {% set design_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.design_manager}, \"custom_digital_signature\") %}\n       {% set hr_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.hr}, \"custom_digital_signature\") %}\n       {% set plant_signature = frappe.db.get_value(\"Employee\", {\"name\":'S0004'}, \"custom_digital_signature\") %}\n        {% set material_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.material_manager}, \"custom_digital_signature\") %}\n         {% set bmd_signature = frappe.db.get_value(\"Employee\", {\"name\": 'BMD01'}, \"custom_digital_signature\")%}\n    {% set cmd_signature = frappe.db.get_value(\"Employee\", {\"name\": \"CMD01\"}, \"custom_digital_signature\")%}\n       {% set marketing_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.marketing_manager}, \"custom_digital_signature\") %}\n        {% set finance_signature = frappe.db.get_value(\"Employee\", {\"user_id\":doc.finance}, \"custom_digital_signature\") %}\n       {% set gm_signature = frappe.db.get_value(\"Employee\", {\"name\":\"KR002\"}, \"custom_digital_signature\") %}\n       <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if prepared_signature %}\n        <img src=\"{{ prepared_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n     {% if doc.date_time %}\n        {% set formatted_date = frappe.utils.formatdate(doc.date_time, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.date_time, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n        <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if hod_signature %}\n        <img src=\"{{ hod_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.hod_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.hod_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.hod_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n <td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if hr_signature %}\n        <img src=\"{{ hr_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.hr_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.hr_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.hr_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if finance_signature %}\n        <img src=\"{{ finance_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.finance_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.finance_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.finance_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n\n\n\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if bmd_signature %}\n        <img src=\"{{ bmd_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.bmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.bmd_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.bmd_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n<td style=\"text-align:center;font-size:15px;\">\n    <br>\n    {% if cmd_signature %}\n        <img src=\"{{ cmd_signature }}\" style=\"height:50px;\">\n         {%else%}\n        <img src=\"/files/Screenshot 2025-09-22 141452.png\" style=\"height:50px;\">\n    {% endif %}\n    <br>\n    {% if doc.cmd_approved_on %}\n        {% set formatted_date = frappe.utils.formatdate(doc.cmd_approved_on, \"dd-MM-yyyy\") %}\n         {% set formatted_time = frappe.utils.format_datetime(doc.cmd_approved_on, \"HH:mm:ss\") %}\n        <span style=\"white-space:nowrap;font-size:7px;\">{{ formatted_date }}&nbsp;{{formatted_time}}</span>\n    {% endif %}\n</td>\n    </tr>\n</table>\n<div style=\"text-align:left; font-size:12px;margin-top:5px;\">\n    Note: This document is Digitally Signed\n</div>\n</div>\n<!-- Set smaller bottom margin (e.g., 10mm instead of 20/30mm) -->\n<meta name=\"pdfkit-margin-bottom\" content=\"25mm\"/>\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-15 12:02:40.188872",
  "module": "ONEGENE",
  "name": "Approval for Travel Request",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 }
]